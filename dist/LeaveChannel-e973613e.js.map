{"version":3,"file":"LeaveChannel-e973613e.js","sources":["../src/ui/Badge/index.jsx","../src/smart-components/InviteMembers/index.jsx","../src/smart-components/ChannelList/components/utils.js","../src/smart-components/ChannelSettings/components/LeaveChannel.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const { stringSet } = useContext(LocalizationContext);\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-badge',\n      ].join(' ')}\n    >\n      <div className=\"sendbird-badge__text\">\n        <Label\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONCONTENT_1}\n        >\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${stringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../../ui/Label';\nimport Modal from '../../ui/Modal';\nimport { Type as ButtonTypes } from '../../ui/Button/type';\nimport UserListItem from '../../ui/UserListItem';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nconst filterUser = (idsToFilter) => (currentId) => idsToFilter.includes(currentId);\n\nconst InviteMembers = (props) => {\n  const {\n    userQueryCreator,\n    closeModal,\n    onSubmit,\n    submitText,\n    titleText,\n    idsToFilter,\n    swapParams,\n  } = props;\n\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const { stringSet } = useContext(LocalizationContext);\n  const [usersDataSource, setUsersDataSource] = useState({});\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  useEffect(() => {\n    const applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next((res, err) => {\n      // eslint-disable-next-line no-underscore-dangle\n      let users_ = res;\n      let error = err;\n      if (swapParams) {\n        users_ = err;\n        error = users_;\n      }\n      if (error) {\n        return;\n      }\n      setUsers(users_);\n    });\n  }, []);\n\n  return (\n    <Modal\n      titleText={titleText}\n      submitText={submitText}\n      type={ButtonTypes.PRIMARY}\n      onCancel={closeModal}\n      onSubmit={() => {\n        const selectedUserList = Object.keys(selectedUsers);\n        if (selectedUserList.length > 0) {\n          onSubmit(selectedUserList);\n          closeModal();\n        }\n      }}\n    >\n      <div>\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-create-channel--scroll\"\n          onScroll={(e) => {\n            const { hasNext } = usersDataSource;\n            const fetchMore = (\n              e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              usersDataSource.next((usersBatch, error) => {\n                if (error) {\n                  return;\n                }\n                setUsers([\n                  ...users,\n                  ...usersBatch,\n                ]);\n              });\n            }\n          }}\n        >\n          {\n            users.map((user) => (!filterUser(idsToFilter)(user.userId)) && (\n              <UserListItem\n                key={user.userId}\n                user={user}\n                checkBox\n                checked={selectedUsers[user.userId]}\n                onChange={\n                  (event) => {\n                    const modifiedSelectedUsers = {\n                      ...selectedUsers,\n                      [event.target.id]: event.target.checked,\n                    };\n                    if (!event.target.checked) {\n                      delete modifiedSelectedUsers[event.target.id];\n                    }\n                    setSelectedUsers(modifiedSelectedUsers);\n                  }\n                }\n              />\n            ))\n          }\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nInviteMembers.propTypes = {\n  idsToFilter: PropTypes.arrayOf(PropTypes.string),\n  swapParams: PropTypes.bool,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string,\n};\nInviteMembers.defaultProps = {\n  swapParams: false,\n  submitText: 'create',\n  titleText: 'Create new channel',\n  idsToFilter: [],\n};\n\nexport default InviteMembers;\n","export const createDefaultUserListQuery = ({ sdk, userFilledApplicationUserListQuery = {} }) => {\n  const params = sdk.createApplicationUserListQuery();\n  if (userFilledApplicationUserListQuery) {\n    Object.keys(userFilledApplicationUserListQuery).forEach((key) => {\n      params[key] = userFilledApplicationUserListQuery[key];\n    });\n  }\n  return params;\n};\n\nconst getApplicationAttributes = (sdk = {}) => {\n  const { appInfo = {} } = sdk;\n  const { applicationAttributes = [] } = appInfo;\n  return applicationAttributes;\n};\n\nexport const isBroadcastChannelEnabled = (sdk = {}) => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\nexport const isSuperGroupChannelEnabled = (sdk = {}) => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const setChannelType = (params, type) => {\n  if (type === 'broadcast') {\n    // eslint-disable-next-line no-param-reassign\n    params.isBroadcast = true;\n  }\n  if (type === 'supergroup') {\n    // eslint-disable-next-line no-param-reassign\n    params.isSuper = true;\n  }\n  return params;\n};\n\nexport const createChannel = (\n  sdk,\n  selectedUsers,\n  onBeforeCreateChannel,\n  userId,\n  type = 'group',\n) => new Promise((resolve, reject) => {\n  // have custom params\n  if (onBeforeCreateChannel) {\n    const params = onBeforeCreateChannel(selectedUsers);\n    setChannelType(params, type);\n    sdk.GroupChannel.createChannel(params, (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    });\n    return;\n  }\n\n  const params = new sdk.GroupChannelParams();\n  params.addUserIds(selectedUsers);\n  params.isDistinct = false;\n\n  if (userId) {\n    params.operatorUserIds = [userId];\n  }\n  setChannelType(params, type);\n  // do not have custom params\n  sdk.GroupChannel.createChannel(\n    params,\n    (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    },\n  );\n});\n\nexport default createChannel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\n\nconst LeaveChannel = (props) => {\n  const {\n    onCloseModal,\n    onLeaveChannel,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onLeaveChannel}\n      submitText=\"Leave\"\n      titleText=\"Leave this channel?\"\n    />\n  );\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nexport default LeaveChannel;\n"],"names":["Badge","count","maxLevel","className","stringSet","useContext","LocalizationContext","maximumNumber","parseInt","repeat","React","Array","isArray","join","LabelTypography","CAPTION_2","LabelColors","ONCONTENT_1","BADGE__OVER","propTypes","PropTypes","number","isRequired","oneOfType","string","arrayOf","defaultProps","filterUser","idsToFilter","currentId","includes","InviteMembers","props","userQueryCreator","closeModal","onSubmit","submitText","titleText","swapParams","users","setUsers","useState","selectedUsers","setSelectedUsers","usersDataSource","setUsersDataSource","selectedCount","Object","keys","length","useEffect","applicationUserListQuery","next","res","err","users_","error","ButtonTypes","PRIMARY","selectedUserList","ONBACKGROUND_3","CAPTION_1","MODAL__INVITE_MEMBER__SELECTEC","e","hasNext","fetchMore","target","clientHeight","scrollTop","scrollHeight","usersBatch","map","user","userId","event","modifiedSelectedUsers","id","checked","bool","func","createDefaultUserListQuery","sdk","userFilledApplicationUserListQuery","params","createApplicationUserListQuery","forEach","key","getApplicationAttributes","appInfo","applicationAttributes","isBroadcastChannelEnabled","ALLOW_BROADCAST_CHANNEL","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","setChannelType","type","isBroadcast","isSuper","createChannel","onBeforeCreateChannel","Promise","resolve","reject","GroupChannel","response","getErrorFirstCallback","groupChannel","GroupChannelParams","addUserIds","isDistinct","operatorUserIds","LeaveChannel","onCloseModal","onLeaveChannel"],"mappings":"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"}