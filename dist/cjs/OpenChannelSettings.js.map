{"version":3,"file":"OpenChannelSettings.js","sources":["../../src/ui/ChannelAvatar/OpenChannelAvatar.tsx","../../src/smart-components/OpenChannelSettings/components/EditDetailsModal.tsx","../../src/smart-components/OpenChannelSettings/components/ChannelProfile.tsx","../../src/smart-components/OpenChannelSettings/components/ParticipantsModal.tsx","../../src/smart-components/OpenChannelSettings/components/ParticipantsAccordion.tsx","../../src/smart-components/OpenChannelSettings/components/DeleteChannel.tsx","../../src/smart-components/OpenChannelSettings/components/ParticipantsList.tsx","../../src/smart-components/OpenChannelSettings/components/InvalidChannel.tsx","../../src/smart-components/OpenChannelSettings/index.tsx"],"sourcesContent":["import React, { useMemo, useContext } from 'react';\n\nimport Avatar from '../Avatar/index';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport * as utils from './utils';\n\ninterface Props {\n  channel: SendBird.OpenChannel;\n  theme: string;\n  height?: number;\n  width?: number;\n}\n\nfunction ChannelAvatar({\n  channel,\n  theme,\n  height = 56,\n  width = 56,\n}: Props): JSX.Element{\n  const { stringSet } = useContext(LocalizationContext);\n  const memoizedAvatar = useMemo(() => {\n    return (\n      <Avatar\n        className=\"sendbird-chat-header__avatar--open-channel\"\n        src={utils.getOpenChannelAvatar(channel)}\n        width={`${width}px`}\n        height={`${height}px`}\n        alt={channel.name || stringSet.OPEN_CHANNEL_SETTINGS__NO_TITLE}\n      />\n    );\n  }, [channel.coverUrl, theme]);\n  return (\n    <>{ memoizedAvatar }</>\n  );\n}\n\nexport default ChannelAvatar;\n","import React, {\n  useState,\n  useRef,\n  useContext,\n  ReactElement,\n} from 'react';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar/index';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\nimport OpenChannelAvatar from '../../../ui/ChannelAvatar/OpenChannelAvatar';\n\ninterface Props {\n  onSubmit(newFile: File, newTitle: string): void;\n  onCancel(): void;\n  channel: SendBird.OpenChannel;\n  theme: string;\n}\n\nconst EditDetails = (props: Props): ReactElement => {\n  const {\n    onSubmit,\n    onCancel,\n    channel,\n    theme,\n  } = props;\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(null);\n  const [newFile, setNewFile] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const title = channel.name;\n  return (\n    <Modal\n      titleText={stringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={stringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        if (title !== '' && !inputRef.current.value) {\n          if (formRef.current.reportValidity) { // might not work in explorer\n            formRef.current.reportValidity();\n          }\n          return;\n        }\n        onSubmit(newFile, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form\n        className=\"channel-profile-form\"\n        ref={formRef}\n        onSubmit={(e) => { e.preventDefault(); }}\n      >\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            {\n              currentImg\n                ? (\n                  <Avatar\n                    height=\"80px\"\n                    width=\"80px\"\n                    src={currentImg}\n                  />\n                ) : (\n                  <OpenChannelAvatar\n                    height={80}\n                    width={80}\n                    channel={channel}\n                    theme={theme}\n                  />\n                )\n              }\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n              setNewFile(e.target.files[0]);\n              hiddenInputRef.current.value = '';\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n              {stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            required={title !== ''}\n            name=\"channel-profile-form__name\"\n            ref={inputRef}\n            value={title}\n            placeHolder={stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default EditDetails;\n","import React, {\n  ReactElement,\n  useContext,\n  useState,\n} from 'react';\n\nimport './channel-profile.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\nimport OpenChannelAvatar from '../../../ui/ChannelAvatar/OpenChannelAvatar';\nimport EditDetailsModal from './EditDetailsModal';\n\ninterface Props {\n  channel: SendBird.OpenChannel;\n  disabled: boolean;\n  theme: string;\n  onChannelInfoChange(currentImg: File, currentTitle: string): void;\n}\n\nexport default function ChannelProfile(props: Props): ReactElement {\n  const {\n    disabled,\n    channel,\n    theme,\n    onChannelInfoChange,\n  } = props;\n  const title = channel.name;\n  const [showModal, setShowModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  return (\n    <div className=\"sendbird-openchannel-profile\">\n      <div className=\"sendbird-openchannel-profile--inner\">\n        <div className=\"sendbird-openchannel-profile__avatar\">\n          <OpenChannelAvatar\n            channel={channel}\n            theme={theme}\n            height={80}\n            width={80}\n          />\n        </div>\n        <Label\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n          className=\"sendbird-openchannel-profile__title\"\n        >\n          {title || stringSet.OPEN_CHANNEL_SETTINGS__NO_TITLE}\n        </Label>\n        <TextButton\n          disabled={disabled}\n          className=\"sendbird-openchannel-profile__edit\"\n          onClick={() => {\n            if (disabled) { return; }\n            setShowModal(true);\n          }}\n          notUnderline\n        >\n          <Label\n            type={LabelTypography.BUTTON_1}\n            color={disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY}\n          >\n            {stringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={onChannelInfoChange}\n              channel={channel}\n              theme={theme}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\n\nimport Modal from '../../../ui/Modal';\nimport UserListItem from '../../../ui/UserListItem';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { noop } from '../../../utils/utils';\n\ninterface Props {\n  currentUser: string;\n  hideModal(): void;\n  channel: SendBird.OpenChannel;\n}\n\nexport default function ParticipantsModal({\n  hideModal,\n  channel,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const [participants, setParticipants] = useState<Array<SendBird.User>|null>([]);\n  const [participantListQuery, setParticipantListQuery] = useState<SendBird.ParticipantListQuery | null>(null);\n  useEffect(() => {\n    if (!channel || !channel.createParticipantListQuery) {\n      return;\n    }\n    const participantListQuery = channel.createParticipantListQuery();\n    setParticipantListQuery(participantListQuery);\n    participantListQuery.next((participantList, error) => {\n      if (error) {\n        return;\n      }\n      setParticipants(participantList);\n    });\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText={stringSet.OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = participantListQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              participantListQuery.next((fetchedParticipants, error) => {\n                if (error) {\n                  return;\n                }\n                setParticipants([\n                  ...participants,\n                  ...fetchedParticipants,\n                ])\n              });\n            }\n          }}\n        >\n          { participants.map((p) => (\n            <UserListItem\n              user={p}\n              key={p.userId}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react'\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\nimport { UserProfileContext } from '../../../lib/UserProfileContext';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../ui/Button';\nimport Accordion from '../../../ui/Accordion';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\nimport Avatar from '../../../ui/Avatar/index';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport ParticipantsModal from './ParticipantsModal';\nimport UserProfile from '../../../ui/UserProfile';\nimport ContextMenu, { MenuItems } from '../../../ui/ContextMenu';\n\nconst SHOWN_MEMBER_MAX = 10;\n\ninterface UserListItemProps {\n  member: SendBird.User;\n  currentUser?: string;\n}\n\nexport const UserListItem = ({\n  member,\n  currentUser = '',\n}: UserListItemProps): ReactElement => {\n  const avatarRef = useRef(null);\n  const {\n    disableUserProfile,\n    renderUserProfile,\n  } = useContext(UserProfileContext);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-participants-accordion__member\">\n      <div className=\"sendbird-participants-accordion__member-avatar\">\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <Avatar\n              onClick={() => {\n                if (!disableUserProfile) {\n                  toggleDropdown();\n                }\n              }}\n              ref={avatarRef}\n              src={member.profileUrl}\n              width={24}\n              height={24}\n            />\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              openLeft\n              parentRef={avatarRef}\n              // for catching location(x, y) of MenuItems\n              parentContainRef={avatarRef}\n              // for toggling more options(menus & reactions)\n              closeDropdown={closeDropdown}\n              style={{ paddingTop: 0, paddingBottom: 0 }}\n            >\n              {\n                renderUserProfile\n                  ? renderUserProfile({\n                    user: member,\n                    currentUserId: currentUser,\n                    close: closeDropdown,\n                  })\n                  : (\n                    <UserProfile\n                      disableMessaging\n                      user={member}\n                      currentUserId={currentUser}\n                      onSuccess={closeDropdown}\n                    />\n                  )\n              }\n            </MenuItems>\n          )}\n        />\n      </div>\n      <Label type={LabelTypography.SUBTITLE_2} color={LabelColors.ONBACKGROUND_1}>\n        {member.nickname || stringSet.NO_NAME}\n        {\n          (currentUser === member.userId) && (\n            stringSet.CHANNEL_SETTING__MEMBERS__YOU\n          )\n        }\n      </Label>\n    </div>\n  );\n};\n\ninterface Props {\n  channel: SendBird.OpenChannel;\n  currentUser: string;\n}\n\nexport default function ParticipantsAccordion({ channel, currentUser }: Props): ReactElement {\n  const [participants, setParticipants] = useState([]);\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    if (!channel || !channel.createParticipantListQuery) {\n      return;\n    }\n    const participantListQuery = channel.createParticipantListQuery();\n    participantListQuery.next((participantList, error) => {\n      if (error) {\n        return;\n      }\n      setParticipants(participantList);\n    });\n  }, [channel]);\n\n  return (\n    <Accordion\n      className=\"sendbird-participants-accordion\"\n      id=\"participants\"\n      renderTitle={() => (\n        <>\n          <Icon\n            type={IconTypes.MEMBERS}\n            fillColor={IconColors.PRIMARY}\n            width={24}\n            height={24}\n            className=\"sendbird-openchannel-settings__accordion-icon\"\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE}\n          </Label>\n        </>\n      )}\n      renderContent={() => (\n        <div className=\"\">\n          <div className=\"sendbird-participants-accordion__list\">\n            {\n              participants.slice(0, SHOWN_MEMBER_MAX).map((p) => (\n                <UserListItem\n                  member={p}\n                  currentUser={currentUser}\n                  key={p.userId}\n                />\n              ))\n            }\n            {\n              (participants && participants.length === 0)\n                ? (\n                    <Label\n                      className=\"sendbird-channel-settings__empty-list\"\n                      type={LabelTypography.SUBTITLE_2}\n                      color={LabelColors.ONBACKGROUND_3}\n                    >\n                      {stringSet.OPEN_CHANNEL_SETTINGS__EMPTY_LIST}\n                    </Label>\n                ): null\n            }\n          </div>\n          {\n            participants.length >= SHOWN_MEMBER_MAX && (\n              <div className=\"sendbird-participants-accordion__footer\">\n                <Button\n                  className=\"sendbird-participants-accordion__footer__all-participants\"\n                  type={ButtonTypes.SECONDARY}\n                  size={ButtonSizes.SMALL}\n                  onClick={() => setShowMoreModal(true)}\n                >\n                  {stringSet.OPEN_CHANNEL_SETTINGS__SEE_ALL}\n                </Button>\n                {\n                  showMoreModal && (\n                    <ParticipantsModal\n                      currentUser={currentUser}\n                      hideModal={() => {\n                        setShowMoreModal(false);\n                      }}\n                      channel={channel}\n                    />\n                  )\n                }\n              </div>\n            )\n          }\n        </div>\n      )}\n    />\n  );\n}\n","import React, {\n  ReactElement,\n  useState,\n  useContext,\n} from 'react';\n\nimport Modal from '../../../ui/Modal';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport Icon, { IconTypes } from '../../../ui/Icon';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\ninterface Props {\n  isOnline: boolean;\n  onDeleteChannel(): void;\n}\n\nexport default function DeleteChannel({\n  isOnline,\n  onDeleteChannel,\n}: Props): ReactElement {\n  const [showDeleteChannelModal, setShowDeleteChannelModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <>\n      <div\n        className={\n          `sendbird-openchannel-settings__panel-item\n          sendbird-openchannel-settings__delete-channel\n            ${!isOnline ? 'sendbird-openchannel-settings__panel-item__disabled' : ''}`\n        }\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n        onClick={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n      >\n        <Icon\n          type={IconTypes.DELETE}\n          className={[\n            'sendbird-openchannel-settings__panel-icon-left',\n            'sendbird-openchannel-settings__panel-icon__delete',\n          ].join(' ')}\n          height=\"24px\"\n          width=\"24px\"\n        />\n        <Label\n          type={LabelTypography.SUBTITLE_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL}\n        </Label>\n      </div>\n      {\n        showDeleteChannelModal && (\n          <Modal\n            onCancel={() => {\n              setShowDeleteChannelModal(false);\n            }}\n            onSubmit={() => {\n              onDeleteChannel();\n            }}\n            submitText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT}\n            titleText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE}\n          />\n        )\n      }\n    </>\n  )\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useState,\n  useEffect,\n} from 'react';\n\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport Icon, { IconTypes } from '../../../ui/Icon';\n\nimport { UserListItem } from './ParticipantsAccordion';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\ninterface Props {\n  channel: SendBird.OpenChannel;\n  onCloseClick(): void;\n  currentUser: string;\n}\n\nexport default function ParticipantsList({\n  channel,\n  onCloseClick,\n  currentUser,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const [participants, setParticipants] = useState<Array<SendBird.User>|null>([]);\n  const [participantListQuery, setParticipantListQuery] = useState<SendBird.ParticipantListQuery | null>(null);\n  useEffect(() => {\n    if (!channel || !channel.createParticipantListQuery) {\n      return;\n    }\n    const participantListQuery = channel.createParticipantListQuery();\n    setParticipantListQuery(participantListQuery);\n    participantListQuery.next((participantList, error) => {\n      if (error) {\n        return;\n      }\n      setParticipants(participantList);\n    });\n  }, [channel]);\n  return (\n    <div className=\"sendbird-openchannel-settings__participant\">\n      <div className=\"sendbird-openchannel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE}\n        </Label>\n        <Icon\n          type={IconTypes.CLOSE}\n          className=\"sendbird-openchannel-settings__close-icon\"\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div\n        className=\"sendbird-openchannel-settings__participants-list\"\n        onScroll={(e) => {\n          const { hasNext } = participantListQuery;\n          const target = e.target as HTMLTextAreaElement;\n          const fetchMore = (\n            target.clientHeight + target.scrollTop === target.scrollHeight\n          );\n\n          if (hasNext && fetchMore) {\n            participantListQuery.next((fetchedParticipants, error) => {\n              if (error) {\n                return;\n              }\n              setParticipants([\n                ...participants,\n                ...fetchedParticipants,\n              ])\n            });\n          }\n        }}\n      >\n        <div>\n          {\n            participants.map((p: SendBird.User) => (\n              <UserListItem\n                member={p}\n                currentUser={currentUser}\n                key={p.userId}\n              />\n            ))\n          }\n          {\n            (participants && participants.length === 0)\n              ? (\n                  <Label\n                    className=\"sendbird-channel-settings__empty-list\"\n                    type={LabelTypography.SUBTITLE_2}\n                    color={LabelColors.ONBACKGROUND_3}\n                  >\n                    {stringSet.OPEN_CHANNEL_SETTINGS__EMPTY_LIST}\n                  </Label>\n              ): null\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { ReactElement, useContext } from 'react'\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport Icon, { IconTypes } from '../../../ui/Icon';\n\nimport PlaceHolder from '../../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../../ui/PlaceHolder/type';\n\ninterface Props {\n  onCloseClick?(): void;\n}\n\nexport default function InvalidChannel({\n  onCloseClick,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-openchannel-settings\">\n      <div className=\"sendbird-openchannel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          type={IconTypes.CLOSE}\n          className=\"sendbird-openchannel-settings__close-icon\"\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div className=\"sendbird-openchannel-settings__placeholder\">\n        <PlaceHolder type={PlaceHolderTypes.WRONG} />\n      </div>\n    </div>\n  )\n}\n","import React, {\n  useContext,\n  useState,\n  useEffect,\n} from 'react';\nimport { OpenChannelSettingsProps } from '../../index';\n\nimport { UserProfileProvider } from '../../lib/UserProfileContext';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport selectors from '../../lib/selectors';\n\nimport { copyToClipboard } from '../../utils'\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../../ui/Label';\nimport Icon, { IconTypes } from '../../ui/Icon';\nimport ChannelProfile from './components/ChannelProfile';\nimport ParticipantsAccordion from './components/ParticipantsAccordion';\nimport DeleteChannel from './components/DeleteChannel';\nimport ParticipantsList from './components/ParticipantsList';\nimport InvalidChannel from './components/InvalidChannel';\nimport { AccordionGroup } from '../../ui/Accordion';\nimport { noop } from '../../utils/utils';\n\nconst emptyLogger = () => ({\n  info: noop,\n  error: noop,\n  warning: noop,\n});\n\ninterface Props extends OpenChannelSettingsProps {\n  logger: SendbirdUIKit.Logger;\n  sdk: SendBird.SendBirdInstance;\n  theme: string;\n  user: SendBird.User;\n  isOnline: boolean;\n}\n\nfunction OpenChannelSettings(props: Props) {\n  const {\n    channelUrl,\n    onCloseClick = noop,\n    onBeforeUpdateChannel,\n    onChannelModified = noop,\n    renderChannelProfile,\n    renderUserProfile,\n    onDeleteChannel,\n    disableUserProfile = false,\n    logger = emptyLogger(),\n    sdk,\n    theme,\n    user,\n    isOnline,\n  } = props;\n\n  const currentUser = user.userId;\n  const [channel, setChannel] = useState<SendBird.OpenChannel | null>(null);\n  const { stringSet } = useContext(LocalizationContext);\n  useEffect(() => {\n    if (!channelUrl || !sdk || !sdk.getConnectionState) {\n      setChannel(null);\n      return;\n    }\n\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (!error) {\n        setChannel(openChannel);\n      } else {\n        setChannel(null);\n      }\n    });\n  }, [channelUrl, sdk])\n  if (!channel) {\n    return (\n      <InvalidChannel\n        onCloseClick={() => {\n          logger.info('OpenChannelSettings: Click close');\n          if (onCloseClick) {\n            onCloseClick();\n          }\n        }}\n      />\n    );\n  }\n  return (\n    <UserProfileProvider\n      className=\"sendbird-openchannel-settings\"\n      disableUserProfile={disableUserProfile}\n      renderUserProfile={renderUserProfile}\n    >\n      {\n        channel.isOperator(user)\n          ? (\n            <>\n              <div className=\"sendbird-openchannel-settings__header\">\n                <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n                  {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n                </Label>\n                <Icon\n                  className=\"sendbird-openchannel-settings__close-icon\"\n                  type={IconTypes.CLOSE}\n                  height=\"24px\"\n                  width=\"24px\"\n                  onClick={() => {\n                    onCloseClick();\n                  }}\n                />\n              </div>\n              <div className=\"sendbird-openchannel-settings__profile\">\n              {\n                renderChannelProfile\n                  ? renderChannelProfile({ channel, user })\n                  : (\n                    <ChannelProfile\n                      disabled={!isOnline}\n                      channel={channel}\n                      theme={theme}\n                      onChannelInfoChange={(currentImg: File, currentTitle: string) => {\n                        logger.info('ChannelSettings: Channel information being updated');\n                        if (onBeforeUpdateChannel) {\n                          const params = onBeforeUpdateChannel(currentTitle, currentImg, channel.data);\n                          logger.info('ChannelSettings: onBeforeUpdateChannel', params);\n                          channel.updateChannel(params, (openChannel) => {\n                            onChannelModified(openChannel);\n                            // setChannel(openChannel) => alone not working\n                            setChannel(null);\n                            setChannel(openChannel);\n                          });\n                        } else {\n                          channel.updateChannel(\n                            currentTitle,\n                            currentImg,\n                            channel.data,\n                            (openChannel) => {\n                              logger.info('ChannelSettings: Channel information updated', openChannel);\n                              onChannelModified(openChannel);\n                              // setChannel(openChannel) => alone not working\n                              setChannel(null);\n                              setChannel(openChannel);\n                            },\n                          );\n                        }\n                      }}\n                    />\n                  )\n                }\n              </div>\n              <div className=\"sendbird-openchannel-settings__url\">\n                <Icon\n                  className=\"sendbird-openchannel-settings__copy-icon\"\n                  type={IconTypes.COPY}\n                  height=\"22px\"\n                  width=\"22px\"\n                  onClick={() => {\n                    copyToClipboard(channel.url);\n                  }}\n                />\n                <Label\n                  className=\"sendbird-openchannel-settings__url-label\"\n                  type={LabelTypography.CAPTION_2}\n                  color={LabelColors.ONBACKGROUND_2}\n                >\n                  {stringSet.OPEN_CHANNEL_SETTINGS__OPERATOR_URL}\n                </Label>\n                <Label\n                  className=\"sendbird-openchannel-settings__url-value\"\n                  type={LabelTypography.SUBTITLE_2}\n                >\n                  {channel.url}\n                </Label>\n              </div>\n              <AccordionGroup>\n                <ParticipantsAccordion\n                  channel={channel}\n                  currentUser={currentUser}\n                />\n              </AccordionGroup>\n              <DeleteChannel\n                isOnline={isOnline}\n                onDeleteChannel={() => {\n                  channel.delete((response, error) => {\n                    if (error) {\n                      logger.warning('OpenChannelSettings: Delete channel failed', error);\n                      return;\n                    }\n                    logger.info('OpenChannelSettings: Delete channel success', response);\n                    if (onDeleteChannel) {\n                      onDeleteChannel(channel);\n                    }\n                  });\n                }}\n              />\n            </>\n          ) : (\n            <ParticipantsList\n              currentUser={currentUser}\n              channel={channel}\n              onCloseClick={() => {\n                onCloseClick();\n              }}\n            />\n          )\n      }\n    </UserProfileProvider>\n  )\n}\n\nconst ChannelSettingsWithSendbird = withSendbirdContext(OpenChannelSettings, (store) => {\n  const logger = (store && store.config && store.config.logger);\n  const theme = (store && store.config && store.config.theme) || 'light';\n  const isOnline = (store && store.config && store.config.isOnline);\n  const user = (store && store.stores && store.stores.userStore\n    && store.stores.userStore.user);\n  return {\n    sdk: selectors.getSdk(store),\n    logger,\n    theme,\n    isOnline,\n    user,\n  };\n});\n\nexport default ChannelSettingsWithSendbird;\n"],"names":["ChannelAvatar","_a","channel","theme","_b","height","_c","width","stringSet","useContext","LocalizationContext","memoizedAvatar","useMemo","React","Avatar","utils","concat","name","OPEN_CHANNEL_SETTINGS__NO_TITLE","coverUrl","EditDetails","props","onSubmit","onCancel","inputRef","useRef","formRef","hiddenInputRef","useState","currentImg","setCurrentImg","newFile","setNewFile","title","Modal","MODAL__CHANNEL_INFORMATION__TITLE","BUTTON__SAVE","current","value","reportValidity","ButtonType","PRIMARY","e","preventDefault","InputLabel","MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE","OpenChannelAvatar","display","URL","createObjectURL","target","files","TextButton","click","Label","LabelTypography","BUTTON_1","LabelColors","MODAL__CHANNEL_INFORMATION__UPLOAD","MODAL__CHANNEL_INFORMATION__CHANNEL_NAME","Input","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","ChannelProfile","disabled","onChannelInfoChange","showModal","setShowModal","SUBTITLE_2","ONBACKGROUND_1","ONBACKGROUND_2","CHANNEL_SETTING__PROFILE__EDIT","EditDetailsModal","ParticipantsModal","hideModal","participants","setParticipants","participantListQuery","setParticipantListQuery","useEffect","createParticipantListQuery","next","participantList","error","noop","OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE","hasNext","fetchMore","clientHeight","scrollTop","scrollHeight","fetchedParticipants","__spreadArray","map","p","UserListItem","userId","SHOWN_MEMBER_MAX","member","currentUser","avatarRef","UserProfileContext","disableUserProfile","renderUserProfile","ContextMenu","toggleDropdown","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","user","currentUserId","close","UserProfile","nickname","NO_NAME","CHANNEL_SETTING__MEMBERS__YOU","ParticipantsAccordion","showMoreModal","setShowMoreModal","Accordion","Icon","IconTypes","MEMBERS","IconColors","SUBTITLE_1","OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE","slice","length","ONBACKGROUND_3","OPEN_CHANNEL_SETTINGS__EMPTY_LIST","Button","ButtonTypes","SECONDARY","ButtonSizes","SMALL","OPEN_CHANNEL_SETTINGS__SEE_ALL","DeleteChannel","isOnline","onDeleteChannel","showDeleteChannelModal","setShowDeleteChannelModal","DELETE","join","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE","ParticipantsList","onCloseClick","H_2","OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE","CLOSE","InvalidChannel","CHANNEL_SETTING__HEADER__TITLE","PlaceHolder","PlaceHolderTypes","WRONG","emptyLogger","info","warning","OpenChannelSettings","channelUrl","onBeforeUpdateChannel","onChannelModified","renderChannelProfile","_d","logger","sdk","_e","setChannel","getConnectionState","OpenChannel","getChannel","openChannel","UserProfileProvider","isOperator","currentTitle","params","data","updateChannel","COPY","copyToClipboard","url","CAPTION_2","OPEN_CHANNEL_SETTINGS__OPERATOR_URL","AccordionGroup","delete","response","ChannelSettingsWithSendbird","withSendbirdContext","store","config","stores","userStore","selectors","getSdk"],"mappings":"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"}