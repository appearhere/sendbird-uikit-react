{"version":3,"file":"OperatorUI.js","sources":["../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/DeleteOpenChannel.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/OperatorsModal.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/AddOperatorsModal.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/OperatorList.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/MutedParticipantsModal.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/MutedParticipantList.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/BannedUsersModal.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/BannedUserList.tsx","../../../../src/smart-components/OpenChannelSettings/components/OperatorUI/index.tsx"],"sourcesContent":["import React, {\n  ReactElement,\n  useState,\n  useContext,\n} from 'react';\n\nimport Modal from '../../../../ui/Modal';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\n\nexport default function DeleteChannel(): ReactElement {\n  const [showDeleteChannelModal, setShowDeleteChannelModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n  const globalState = useSendbirdStateContext();\n  const isOnline = globalState?.config?.isOnline;\n  const logger = globalState?.config?.logger;\n\n  const { channel, onDeleteChannel } = useOpenChannelSettingsContext();\n\n  const deleteChannel = () => {\n    channel?.delete().then((response) => {\n      logger.info('OpenChannelSettings: Delete channel success', response);\n      if (onDeleteChannel) {\n        onDeleteChannel(channel);\n      }\n    }).catch((error) => {\n      logger.warning('OpenChannelSettings: Delete channel failed', error);\n    });\n  }\n  return (\n    <>\n      <div\n        className={\n          `sendbird-openchannel-settings__panel-item\n          sendbird-openchannel-settings__delete-channel\n            ${!isOnline ? 'sendbird-openchannel-settings__panel-item__disabled' : ''}`\n        }\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n        onClick={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n      >\n        <Icon\n          type={IconTypes.DELETE}\n          fillColor={IconColors.ERROR}\n          className={[\n            'sendbird-openchannel-settings__panel-icon-left',\n            'sendbird-openchannel-settings__panel-icon__delete',\n          ].join(' ')}\n          height=\"24px\"\n          width=\"24px\"\n        />\n        <Label\n          type={LabelTypography.SUBTITLE_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL}\n        </Label>\n      </div>\n      {\n        showDeleteChannelModal && (\n          <Modal\n            isFullScreenOnMobile\n            onCancel={() => {\n              setShowDeleteChannelModal(false);\n            }}\n            onSubmit={() => {\n              deleteChannel();\n            }}\n            titleText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE}\n            submitText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT}\n          >\n            {stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT}\n          </Modal>\n        )\n      }\n    </>\n  )\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from 'react'\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\ninterface Props { onCancel?(): void }\n\nexport default function OperatorListModal({ onCancel }: Props): ReactElement {\n  const [users, setUsers] = useState([]);\n  const [operatorQuery, setOperatorQuery] = useState(null);\n\n  const { channel } = useOpenChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUserId = state?.config?.userId;\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    const operatorListQuery = channel?.createOperatorListQuery({\n      limit: 20,\n    });\n    operatorListQuery.next().then((participants) => {\n      setUsers(participants);\n    });\n    setOperatorQuery(operatorListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        hideFooter\n        isFullScreenOnMobile\n        titleText={stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL}\n        onCancel={onCancel}\n      >\n        <div\n          className=\"sendbird-more-users__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = operatorQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              operatorQuery.next().then((o) => {\n                setUsers([\n                  ...users,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {\n            users.map((operator) => (\n              <UserListItem\n                currentUser={currentUserId}\n                user={operator}\n                key={operator.userId}\n                action={({ parentRef, actionRef }) => (\n                  currentUserId !== operator?.userId\n                    ? (\n                      <ContextMenu\n                        menuTrigger={(toggleDropdown) => (\n                          <IconButton\n                            className=\"sendbird-user-message__more__menu\"\n                            width=\"32px\"\n                            height=\"32px\"\n                            onClick={toggleDropdown}\n                          >\n                            <Icon\n                              width=\"24px\"\n                              height=\"24px\"\n                              type={IconTypes.MORE}\n                              fillColor={IconColors.CONTENT_INVERSE}\n                            />\n                          </IconButton>\n                        )}\n                        menuItems={(closeDropdown) => (\n                          <MenuItems\n                            parentContainRef={parentRef}\n                            parentRef={actionRef}\n                            closeDropdown={closeDropdown}\n                            openLeft\n                          >\n                            <MenuItem\n                              onClick={() => {\n                                channel?.removeOperators([operator.userId]).then(() => {\n                                  setUsers(users.filter(({ userId }) => {\n                                    return userId !== operator.userId;\n                                  }));\n                                });\n                                closeDropdown();\n                              }}\n                            >\n                              {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR}\n                            </MenuItem>\n                          </MenuItems>\n                        )}\n                      />\n                    ) : null\n                )}\n              />\n            ))\n          }\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Modal from '../../../../ui/Modal';\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport { ButtonTypes } from '../../../../ui/Button';\nimport UserListItem from '../../../../ui/UserListItem';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\n\ninterface Props {\n  onCancel(): void;\n  onSubmit(participants: Array<string>): void;\n}\n\nexport default function AddOperatorsModal({\n  onCancel,\n  onSubmit,\n}: Props): ReactElement {\n  const [participants, setParticipants] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const [participantQuery, setParticipantQuery] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n\n  const { channel } = useOpenChannelSettingsContext();\n\n  useEffect(() => {\n    const participantListQuery = channel?.createParticipantListQuery({\n      limit: 20,\n    });\n    participantListQuery.next().then((users) => {\n      setParticipants(users);\n    });\n    setParticipantQuery(participantListQuery);\n  }, [])\n\n  const selectedCount = Object.keys(selectedUsers).filter((m) => selectedUsers[m]).length;\n  return (\n    <>\n      <Modal\n        isFullScreenOnMobile\n        type={ButtonTypes.PRIMARY}\n        submitText={stringSet.CHANNEL_SETTING__OPERATORS__ADD_BUTTON}\n        onCancel={onCancel}\n        onSubmit={() => {\n          const users = Object.keys(selectedUsers).filter((m) => selectedUsers[m]);\n          channel?.addOperators(users).then(() => {\n            onSubmit(users);\n          })\n        }}\n        titleText={stringSet.OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS}\n      >\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTED}`}\n        </Label>\n        <div\n          className=\"sendbird-more-users__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = participantQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n            if (hasNext && fetchMore) {\n              participantQuery.next().then((o) => {\n                setParticipants([\n                  ...participants,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {\n            participants.map((participant) => {\n              const isOperator = channel?.operators.find((operator) => operator?.userId === participant?.userId) ? true : false;\n              return (\n                <UserListItem\n                  checkBox\n                  checked={selectedUsers[participant.userId] || isOperator}\n                  disabled={isOperator}\n                  isOperator={isOperator}\n                  onChange={\n                    (event) => {\n                      const modifiedSelectedUsers = {\n                        ...selectedUsers,\n                        [event.target.id]: event.target.checked,\n                      };\n                      if (!event.target.checked) {\n                        delete modifiedSelectedUsers[event.target.id];\n                      }\n                      setSelectedUsers(modifiedSelectedUsers);\n                    }\n                  }\n                  user={participant}\n                  key={participant.userId}\n                />\n              );\n            })\n          }\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, { ReactElement, useContext, useState } from 'react';\n\nimport { UserListItem } from '../ParticipantUI/ParticipantItem';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport OperatorListModal from './OperatorsModal';\nimport AddOperatorsModal from './AddOperatorsModal';\n\nconst OperatorList = (): ReactElement => {\n  const [showAdd, setShowAdd] = useState<boolean>(false);\n  const [showMore, setShowMore] = useState<boolean>(false);\n  const state = useSendbirdStateContext();\n  const currentUserId = state?.config?.userId;\n  const { stringSet } = useContext(LocalizationContext);\n  const { channel } = useOpenChannelSettingsContext();\n\n  return (\n    <div>\n      {\n        channel?.operators?.slice(0, 10).map((operator) => (\n          <UserListItem\n            key={operator.userId}\n            user={operator}\n            currentUser={currentUserId}\n            action={({ actionRef }) => (\n              currentUserId !== operator?.userId\n                ? (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-openchannel-operator-list__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentRef={actionRef}\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            channel?.removeOperators([operator.userId]).then(() => {\n                              closeDropdown();\n                            });\n                          }}\n                        >\n                          {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR}\n                        </MenuItem>\n                        <MenuItem\n                          onClick={() => {\n                            channel?.muteUser(operator).then(() => {\n                              closeDropdown();\n                            });\n                          }}\n                        >\n                          {stringSet.OPEN_CHANNEL_SETTING__MODERATION__MUTE}\n                        </MenuItem>\n                        <MenuItem\n                          onClick={() => {\n                            channel?.banUser(operator).then(() => {\n                              closeDropdown();\n                            });\n                          }}\n                        >\n                          {stringSet.OPEN_CHANNEL_SETTING__MODERATION__BAN}\n                        </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                ) : null\n            )}\n          />\n        ))\n      }\n      <div className=\"sendbird-openchannel-operator-list__footer\">\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => {\n            setShowAdd(true);\n          }}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD}\n        </Button>\n        {\n          channel?.operators?.length > 10 && (\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowMore(true);\n              }}\n            >\n              {stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL}\n            </Button>\n          )\n        }\n      </div>\n      {\n        showMore && (\n          <>\n            <OperatorListModal\n              onCancel={() => {\n                setShowMore(false);\n              }}\n            />\n          </>\n        )\n      }\n      {\n        showAdd && (\n          <>\n            <AddOperatorsModal\n              onCancel={() => setShowAdd(false)}\n              onSubmit={() => {\n                setShowAdd(false);\n              }}\n            />\n          </>\n        )\n      }\n    </div>\n  );\n};\n\nexport default OperatorList;\n","import React, {\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\ninterface Props {\n  onCancel(): void;\n}\n\nexport default function MutedParticipantsModal({\n  onCancel,\n}: Props): ReactElement {\n  const [mutedUsers, setMutedUsers] = useState([]);\n  const [userListQuery, setUserListQuery] = useState(null);\n\n  const { channel } = useOpenChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUserId = state?.config?.userId;\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    const mutedUserListQuery = channel?.createMutedUserListQuery({\n      limit: 10,\n    });\n    mutedUserListQuery.next().then((users) => {\n      setMutedUsers(users);\n    });\n    setUserListQuery(mutedUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        isFullScreenOnMobile\n        hideFooter\n        onCancel={() => onCancel()}\n        onSubmit={noop}\n        titleText={stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = userListQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              userListQuery.next().then((o) => {\n                setMutedUsers([\n                  ...mutedUsers,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {\n            mutedUsers.map((mutedUser) => (\n              <UserListItem\n                currentUser={currentUserId}\n                user={mutedUser}\n                key={mutedUser.userId}\n                action={({ actionRef }) => (\n                  mutedUser?.userId !== currentUserId\n                    ? (\n                      <ContextMenu\n                        menuTrigger={(toggleDropdown) => (\n                          <IconButton\n                            className=\"sendbird-user-message__more__menu\"\n                            width=\"32px\"\n                            height=\"32px\"\n                            onClick={toggleDropdown}\n                          >\n                            <Icon\n                              width=\"24px\"\n                              height=\"24px\"\n                              type={IconTypes.MORE}\n                              fillColor={IconColors.CONTENT_INVERSE}\n                            />\n                          </IconButton>\n                        )}\n                        menuItems={(closeDropdown) => (\n                          <MenuItems\n                            parentRef={actionRef}\n                            closeDropdown={closeDropdown}\n                            openLeft\n                          >\n                            <MenuItem\n                              onClick={() => {\n                                channel?.unmuteUser(mutedUser).then(() => {\n                                  closeDropdown();\n                                  setMutedUsers(mutedUsers.filter((u) => {\n                                    return (u.userId !== mutedUser.userId);\n                                  }));\n                                });\n                              }}\n                            >\n                              {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE}\n                            </MenuItem>\n                          </MenuItems>\n                        )}\n                      />\n                    ) : null\n                )}\n              />\n            ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { UserListItem } from '../ParticipantUI/ParticipantItem';\nimport MutedParticipantsModal from './MutedParticipantsModal';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\nexport const MutedParticipantList = (): ReactElement => {\n  const [mutedUsers, setMutedUsers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  const { channel } = useOpenChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUserId = state?.config?.userId;\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    if (!channel) {\n      setMutedUsers([]);\n      return;\n    }\n    const mutedUserListQuery = channel?.createMutedUserListQuery({\n      limit: 10,\n    });\n    mutedUserListQuery.next().then((members) => {\n      setMutedUsers(members);\n      setHasNext(mutedUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMutedUsers([]);\n      return;\n    }\n\n    const mutedUserListQuery = channel?.createMutedUserListQuery({\n      limit: 10,\n    });\n    mutedUserListQuery.next().then((members) => {\n      setMutedUsers(members);\n      setHasNext(mutedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        mutedUsers.map((mutedUser) => (\n          <UserListItem\n            key={mutedUser.userId}\n            user={mutedUser}\n            currentUser={currentUserId}\n            isOperator={channel?.isOperator(mutedUser.userId)}\n            action={({ actionRef }) => (\n              mutedUser?.userId !== currentUserId\n                ? (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-user-message__more__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        closeDropdown={closeDropdown}\n                        openLeft\n                        parentRef={actionRef}\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            channel?.unmuteUser(mutedUser).then(() => {\n                              refreshList();\n                              closeDropdown();\n                            })\n                          }}\n                        >\n                          {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE}\n                        </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                ) : null\n            )}\n          />\n        ))\n      }\n      {\n        mutedUsers && mutedUsers.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE}\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-muted-participant-list__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              {stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <MutedParticipantsModal\n            onCancel={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nexport default MutedParticipantList;\n","import React, {\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport { noop } from '../../../../utils/utils';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\ninterface Props {\n  onCancel(): void;\n}\n\nexport default function BannedUsersModal({\n  onCancel,\n}: Props): ReactElement {\n  const [bannedUsers, setBannedUsers] = useState([]);\n  const [userListQuery, setUserListQuery] = useState(null);\n  const { channel } = useOpenChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const { stringSet } = useContext(LocalizationContext);\n  const currentUserId = state?.config?.userId;\n\n  useEffect(() => {\n    const bannedUserListQuery = channel?.createBannedUserListQuery();\n    bannedUserListQuery.next().then((users) => {\n      setBannedUsers(users);\n    });\n    setUserListQuery(bannedUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        isFullScreenOnMobile\n        onCancel={() => onCancel()}\n        onSubmit={noop}\n        titleText={stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = userListQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              userListQuery.next().then((o) => {\n                setBannedUsers([\n                  ...bannedUsers,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {\n            bannedUsers.map((bannedUser) => (\n              <UserListItem\n                user={bannedUser}\n                key={bannedUser.userId}\n                action={({ actionRef }) => (\n                  bannedUser?.userId !== currentUserId\n                    ? (\n                      <ContextMenu\n                        menuTrigger={(toggleDropdown) => (\n                          <IconButton\n                            className=\"sendbird-user-message__more__menu\"\n                            width=\"32px\"\n                            height=\"32px\"\n                            onClick={toggleDropdown}\n                          >\n                            <Icon\n                              width=\"24px\"\n                              height=\"24px\"\n                              type={IconTypes.MORE}\n                              fillColor={IconColors.CONTENT_INVERSE}\n                            />\n                          </IconButton>\n                        )}\n                        menuItems={(closeDropdown) => (\n                          <MenuItems\n                            parentRef={actionRef}\n                            closeDropdown={closeDropdown}\n                            openLeft\n                          >\n                            <MenuItem\n                              onClick={() => {\n                                channel?.unbanUser(bannedUser).then(() => {\n                                  closeDropdown();\n                                  setBannedUsers(bannedUsers.filter((u) => {\n                                    return (u.userId !== bannedUser.userId);\n                                  }));\n                                })\n                              }}\n                            >\n                              {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNBAN}\n                            </MenuItem>\n                          </MenuItems>\n                        )}\n                      />\n                    ) : null\n                )\n                }\n              />\n            ))\n          }\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport BannedUsersModal from './BannedUsersModal';\nimport { UserListItem } from '../ParticipantUI/ParticipantItem';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nexport const BannedUserList = (): ReactElement => {\n  const [bannedUsers, setBannedUsers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  const { channel } = useOpenChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const { stringSet } = useContext(LocalizationContext);\n  const currentUserId = state?.config?.userId;\n\n  useEffect(() => {\n    if (!channel) {\n      setBannedUsers([]);\n      return;\n    }\n    const bannedUserListQuery = channel?.createBannedUserListQuery();\n    bannedUserListQuery.next().then((users) => {\n      setBannedUsers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setBannedUsers([]);\n      return;\n    }\n    const bannedUserListQuery = channel?.createBannedUserListQuery();\n    bannedUserListQuery.next().then((users) => {\n      setBannedUsers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        bannedUsers.map((bannedUser) => (\n          <UserListItem\n            key={bannedUser.userId}\n            user={bannedUser}\n            isOperator={channel?.isOperator(bannedUser.userId)}\n            action={({ actionRef }) => (\n              bannedUser?.userId !== currentUserId\n                ? (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-user-message__more__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentRef={actionRef}\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            channel?.unbanUser(bannedUser).then(() => {\n                              closeDropdown();\n                              refreshList();\n                            })\n                          }}\n                        >\n                          {stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNBAN}\n                        </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                ) : null\n            )}\n          />\n        ))\n      }\n      {\n        bannedUsers && bannedUsers.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE}\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div className=\"sendbird-channel-settings-banned-user-list__footer\" >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              {stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <BannedUsersModal\n            onCancel={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\n\nexport default BannedUserList;\n","import React, { useContext } from 'react';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport Icon, {\n  IconTypes,\n  IconColors,\n} from '../../../../ui/Icon';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport OpenChannelProfile from '../OpenChannelProfile';\nimport DeleteChannel from './DeleteOpenChannel';\nimport ParticipantsAccordion from '../ParticipantUI';\nimport Accordion, { AccordionGroup } from '../../../../ui/Accordion';\nimport OperatorList from './OperatorList';\nimport MutedParticipantList from './MutedParticipantList';\nimport BannedUserList from './BannedUserList';\n\nexport const copyToClipboard = (text: string): boolean => {\n  // @ts-ignore: Unreachable code error\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    // @ts-ignore: Unreachable code error\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport interface OperatorUIProps {\n  renderChannelProfile?: () => React.ReactElement;\n}\n\nexport const OperatorUI: React.FC<OperatorUIProps> = ({\n  renderChannelProfile,\n}: OperatorUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    onCloseClick,\n    channel,\n  } = useOpenChannelSettingsContext();\n  return (\n    <>\n      <div className=\"sendbird-openchannel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          className=\"sendbird-openchannel-settings__close-icon\"\n          type={IconTypes.CLOSE}\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div className=\"sendbird-openchannel-settings__profile\">\n        {\n          renderChannelProfile?.() || (\n            <OpenChannelProfile />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-settings__url\">\n        <Icon\n          className=\"sendbird-openchannel-settings__copy-icon\"\n          type={IconTypes.COPY}\n          height=\"22px\"\n          width=\"22px\"\n          onClick={() => {\n            copyToClipboard(channel?.url);\n          }}\n        />\n        <Label\n          className=\"sendbird-openchannel-settings__url-label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__OPERATOR_URL}\n        </Label>\n        <Label\n          className=\"sendbird-openchannel-settings__url-value\"\n          type={LabelTypography.SUBTITLE_2}\n        >\n          {channel?.url}\n        </Label>\n      </div>\n      <AccordionGroup>\n        <Accordion\n          className=\"sendbird-openchannel-settings__operators-list\"\n          id=\"operators\"\n          renderTitle={() => (\n            <>\n              <Icon\n                className=\"sendbird-openchannel-settings__operator-accordion-icon\"\n                type={IconTypes.OPERATOR}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE}\n              </Label>\n            </>\n          )}\n          renderContent={() => (\n            <>\n              <OperatorList />\n            </>\n          )}\n        />\n        <Accordion\n          className=\"sendbird-channel-settings__operators-list\"\n          id=\"participants\"\n          renderTitle={() => (\n            <>\n              <Icon\n                type={IconTypes.MEMBERS}\n                fillColor={IconColors.PRIMARY}\n                width={24}\n                height={24}\n                className=\"sendbird-openchannel-settings__operator-accordion-icon\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE}\n              </Label>\n            </>\n          )}\n          renderContent={() => (\n            <>\n              <ParticipantsAccordion isOperatorView />\n            </>\n          )}\n        />\n        <Accordion\n          className=\"sendbird-channel-settings__operators-list\"\n          id=\"mutedMembers\"\n          renderTitle={() => (\n            <>\n              <Icon\n                className=\"sendbird-openchannel-settings__operator-accordion-icon\"\n                type={IconTypes.MUTE}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE}\n              </Label>\n            </>\n          )}\n          renderContent={() => (\n            <>\n              <MutedParticipantList />\n            </>\n          )}\n        />\n        <Accordion\n          className=\"sendbird-channel-settings__operators-list\"\n          id=\"bannedUsers\"\n          renderTitle={() => (\n            <>\n              <Icon\n                className=\"sendbird-openchannel-settings__operator-accordion-icon\"\n                type={IconTypes.BAN}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE}\n              </Label>\n            </>\n          )}\n          renderContent={() => (\n            <>\n              <BannedUserList />\n            </>\n          )}\n        />\n      </AccordionGroup>\n      <DeleteChannel />\n    </>\n  );\n};\n\nexport default OperatorUI;\n"],"names":["DeleteChannel","_c","useState","showDeleteChannelModal","setShowDeleteChannelModal","stringSet","useContext","LocalizationContext","globalState","useSendbirdStateContext","isOnline","_a","config","logger","_b","_d","useOpenChannelSettingsContext","channel","onDeleteChannel","deleteChannel","delete","then","response","info","catch","error","warning","React","concat","Icon","IconTypes","DELETE","IconColors","ERROR","join","Label","LabelTypography","SUBTITLE_1","LabelColors","ONBACKGROUND_1","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL","Modal","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT","OperatorListModal","onCancel","users","setUsers","operatorQuery","setOperatorQuery","state","currentUserId","userId","useEffect","operatorListQuery","createOperatorListQuery","limit","next","participants","OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL","e","hasNext","target","fetchMore","clientHeight","scrollTop","scrollHeight","o","__spreadArray","map","operator","UserListItem","parentRef","actionRef","ContextMenu","toggleDropdown","IconButton","MORE","CONTENT_INVERSE","closeDropdown","MenuItems","MenuItem","removeOperators","filter","OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR","AddOperatorsModal","onSubmit","setParticipants","selectedUsers","setSelectedUsers","participantQuery","setParticipantQuery","participantListQuery","createParticipantListQuery","selectedCount","Object","keys","m","length","ButtonTypes","PRIMARY","CHANNEL_SETTING__OPERATORS__ADD_BUTTON","addOperators","OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS","ONBACKGROUND_3","CAPTION_1","MODAL__INVITE_MEMBER__SELECTED","participant","isOperator","operators","find","event","modifiedSelectedUsers","__assign","id","checked","OperatorList","showAdd","setShowAdd","_e","showMore","setShowMore","slice","muteUser","OPEN_CHANNEL_SETTING__MODERATION__MUTE","banUser","OPEN_CHANNEL_SETTING__MODERATION__BAN","Button","SECONDARY","ButtonSizes","SMALL","OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD","MutedParticipantsModal","mutedUsers","setMutedUsers","userListQuery","setUserListQuery","mutedUserListQuery","createMutedUserListQuery","noop","OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE","mutedUser","unmuteUser","u","OPEN_CHANNEL_SETTING__MODERATION__UNMUTE","MutedParticipantList","setHasNext","showModal","setShowModal","members","refreshList","useCallback","SUBTITLE_2","OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE","OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL","BannedUsersModal","bannedUsers","setBannedUsers","bannedUserListQuery","createBannedUserListQuery","bannedUser","unbanUser","OPEN_CHANNEL_SETTING__MODERATION__UNBAN","BannedUserList","OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE","OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL","copyToClipboard","text","window","clipboardData","setData","document","queryCommandSupported","textarea","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","OperatorUI","renderChannelProfile","onCloseClick","H_2","CHANNEL_SETTING__HEADER__TITLE","CLOSE","OpenChannelProfile","COPY","url","CAPTION_2","ONBACKGROUND_2","OPEN_CHANNEL_SETTINGS__OPERATOR_URL","AccordionGroup","Accordion","OPERATOR","OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE","MEMBERS","OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE","ParticipantsAccordion","MUTE","BAN","OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE"],"mappings":"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"}