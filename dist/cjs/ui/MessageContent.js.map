{"version":3,"file":"MessageContent.js","sources":["../../../src/ui/MobileMenu/MobileContextMenu.tsx","../../../src/ui/MobileMenu/MobileBottomSheet.tsx","../../../src/ui/MobileMenu/index.tsx","../../../src/ui/MessageContent/index.tsx"],"sourcesContent":["import React from 'react';\nimport type { BaseMenuProps } from './types';\nimport type { FileMessage, UserMessage } from '@sendbird/chat/message';\nimport type { GroupChannel } from '@sendbird/chat/groupChannel';\n\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\n\nimport {\n  isFailedMessage,\n  isPendingMessage,\n  isSentMessage,\n  isUserMessage,\n  copyToClipboard,\n  isFileMessage,\n} from '../../utils';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Label, { LabelTypography } from '../Label';\n\nconst MobileContextMenu: React.FunctionComponent<BaseMenuProps> = (props: BaseMenuProps) => {\n  const {\n    hideMenu,\n    channel,\n    message,\n    replyType,\n    userId,\n    resendMessage,\n    showEdit,\n    showRemove,\n    setQuoteMessage,\n    parentRef,\n  } = props;\n  const isByMe = message?.sender?.userId === userId;\n  const { stringSet } = useLocalization();\n  const showMenuItemCopy: boolean = isUserMessage(message as UserMessage);\n  const showMenuItemEdit: boolean = (isUserMessage(message as UserMessage) && isSentMessage(message) && isByMe);\n  const showMenuItemResend: boolean = (isFailedMessage(message) && message?.isResendable && isByMe);\n  const showMenuItemDelete: boolean = !isPendingMessage(message) && isByMe;\n  const showMenuItemDownload: boolean = !isPendingMessage(message) && isFileMessage(message);\n  const showMenuItemReply: boolean = (replyType === 'QUOTE_REPLY')\n    && !isFailedMessage(message)\n    && !isPendingMessage(message)\n    && (channel?.isGroupChannel() && !(channel as GroupChannel)?.isBroadcast);\n\n  const fileMessage = message as FileMessage;\n  return (\n    <ContextMenu\n      isOpen\n      menuItems={() => (\n        <MenuItems\n          className=\"sendbird-message__mobile-context-menu\"\n          parentRef={parentRef}\n          parentContainRef={parentRef}\n          closeDropdown={hideMenu}\n        >\n          {showMenuItemCopy && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-copy\"\n              onClick={() => {\n                hideMenu();\n                copyToClipboard((message as UserMessage)?.message);\n              }}\n            >\n              <Label type={LabelTypography.SUBTITLE_1}>\n                {stringSet?.MESSAGE_MENU__COPY}\n              </Label>\n              <Icon\n                type={IconTypes.COPY}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </MenuItem>\n          )}\n          {showMenuItemReply && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-reply\"\n              onClick={() => {\n                hideMenu();\n                setQuoteMessage(message);\n              }}\n              disable={message?.parentMessageId > 0}\n            >\n              <Label type={LabelTypography.SUBTITLE_1}>\n                {stringSet.MESSAGE_MENU__REPLY}\n              </Label>\n              <Icon\n                type={IconTypes.REPLY}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </MenuItem>\n          )}\n          {showMenuItemEdit && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-edit\"\n              onClick={() => {\n                hideMenu();\n                showEdit(true);\n              }}\n            >\n              <Label type={LabelTypography.SUBTITLE_1}>\n                {stringSet.MESSAGE_MENU__EDIT}\n              </Label>\n              <Icon\n                type={IconTypes.EDIT}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </MenuItem>\n          )}\n          {showMenuItemResend && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-resend\"\n              onClick={() => {\n                hideMenu();\n                resendMessage(message);\n              }}\n            >\n              <Label type={LabelTypography.SUBTITLE_1}>\n                {stringSet.MESSAGE_MENU__RESEND}\n              </Label>\n              <Icon\n                type={IconTypes.REFRESH}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </MenuItem>\n          )}\n          {showMenuItemDelete && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-delete\"\n              onClick={() => {\n                hideMenu();\n                showRemove(true);\n              }}\n              disable={message?.threadInfo?.replyCount > 0}\n            >\n              <Label type={LabelTypography.SUBTITLE_1}>\n                {stringSet.MESSAGE_MENU__DELETE}\n              </Label>\n              <Icon\n                type={IconTypes.DELETE}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </MenuItem>\n          )}\n          {showMenuItemDownload && (\n            <MenuItem\n              className=\"sendbird-message__mobile-context-menu-item menu-item-save\"\n              onClick={() => {\n                hideMenu();\n              }}\n            >\n              <a\n                className=\"sendbird-message__contextmenu--hyperlink\"\n                rel=\"noopener noreferrer\"\n                href={fileMessage?.url}\n                target=\"_blank\"\n              >\n                <Label type={LabelTypography.SUBTITLE_1}>\n                  {stringSet.MESSAGE_MENU__SAVE}\n                </Label>\n                <Icon\n                  type={IconTypes.DOWNLOAD}\n                  fillColor={IconColors.PRIMARY}\n                  width=\"24px\"\n                  height=\"24px\"\n                />\n              </a>\n            </MenuItem>\n          )}\n        </MenuItems>\n      )}\n    />\n  );\n};\n\nexport default MobileContextMenu;\n","import type { Emoji } from '@sendbird/chat';\nimport { FileMessage, Reaction, UserMessage } from '@sendbird/chat/message';\nimport React, { useState } from 'react';\n\nimport type { MobileBottomSheetProps } from './types';\nimport type { GroupChannel } from '@sendbird/chat/groupChannel';\n\nimport {\n  getEmojiListAll,\n  isFailedMessage,\n  isPendingMessage,\n  isSentMessage,\n  isUserMessage,\n  copyToClipboard,\n  isFileMessage,\n} from '../../utils';\nimport BottomSheet from '../BottomSheet';\nimport ImageRenderer from '../ImageRenderer';\nimport ReactionButton from '../ReactionButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useLocalization } from '../../lib/LocalizationContext';\n\nconst EMOJI_SIZE = 38;\n\nconst MobileBottomSheet: React.FunctionComponent<MobileBottomSheetProps> = (props: MobileBottomSheetProps) => {\n  const {\n    hideMenu,\n    channel,\n    emojiContainer,\n    message,\n    replyType,\n    userId,\n    resendMessage,\n    toggleReaction,\n    isReactionEnabled,\n    showEdit,\n    showRemove,\n    setQuoteMessage,\n  } = props;\n  const isByMe = message?.sender?.userId === userId;\n  const { stringSet } = useLocalization();\n  const showMenuItemCopy: boolean = isUserMessage(message as UserMessage);\n  const showMenuItemEdit: boolean = (isUserMessage(message as UserMessage) && isSentMessage(message) && isByMe);\n  const showMenuItemResend: boolean = (isFailedMessage(message) && message?.isResendable && isByMe);\n  const showMenuItemDelete: boolean = !isPendingMessage(message) && isByMe;\n  const showMenuItemDownload: boolean = !isPendingMessage(message) && isFileMessage(message);\n  const showReaction: boolean = !isFailedMessage(message) && !isPendingMessage(message) && isReactionEnabled;\n  const showMenuItemReply: boolean = (replyType === 'QUOTE_REPLY')\n    && !isFailedMessage(message)\n    && !isPendingMessage(message)\n    && (channel?.isGroupChannel() && !(channel as GroupChannel)?.isBroadcast);\n  const disableReaction = message?.parentMessageId > 0;\n\n  const fileMessage = message as FileMessage;\n  const maxEmojisPerRow = Math.floor(window?.innerWidth / EMOJI_SIZE) - 1;\n  const [showEmojisOnly, setShowEmojisOnly] = useState<boolean>(false);\n  const emojis = getEmojiListAll(emojiContainer);\n  // calculate max emojis that can be shown in screen\n  const visibleEmojis = showEmojisOnly\n    ? emojis\n    : emojis?.slice(0, maxEmojisPerRow);\n  const canShowMoreEmojis = emojis.length > maxEmojisPerRow;\n  return (\n    <BottomSheet onBackdropClick={hideMenu}>\n      <div className='sendbird-message__bottomsheet'>\n        {\n          showReaction && (\n            <div className='sendbird-message__bottomsheet-reactions'>\n              <ul\n                className=\"sendbird-message__bottomsheet-reaction-bar\"\n              >\n                <div\n                  className={`\n                    sendbird-message__bottomsheet-reaction-bar__row\n                    ${showEmojisOnly ? 'sendbird-message__bottomsheet-reaction-bar__all' : ''}\n                  `}\n                >\n                  {visibleEmojis.map((emoji: Emoji): React.ReactElement => {\n                    const isReacted: boolean = message?.reactions\n                      ?.filter((reaction: Reaction): boolean => reaction.key === emoji.key)[0]\n                      ?.userIds\n                      ?.some((reactorId: string): boolean => reactorId === userId);\n                    return (\n                      <ReactionButton\n                        key={emoji.key}\n                        width={`${EMOJI_SIZE}px`}\n                        height={`${EMOJI_SIZE}px`}\n                        selected={isReacted}\n                        onClick={(): void => {\n                          hideMenu();\n                          toggleReaction(message, emoji.key, isReacted);\n                        }}\n                      >\n                        <ImageRenderer\n                          url={emoji?.url || ''}\n                          width=\"28px\"\n                          height=\"28px\"\n                          placeHolder={(style: Record<string, unknown>): ReactElement => (\n                            <div style={style}>\n                              <Icon\n                                type={IconTypes.QUESTION}\n                                fillColor={IconColors.ON_BACKGROUND_3}\n                                width=\"28px\"\n                                height=\"28px\"\n                              />\n                            </div>\n                          )}\n                        />\n                      </ReactionButton>\n                    );\n                  })}\n                  {\n                    canShowMoreEmojis && !showEmojisOnly && (\n                      <ReactionButton\n                        key=\"emoji_more\"\n                        width=\"38px\"\n                        height=\"38px\"\n                        onClick={(): void => {\n                          setShowEmojisOnly(true);\n                        }}\n                      >\n                        <ImageRenderer\n                          url={''}\n                          width=\"28px\"\n                          height=\"28px\"\n                          placeHolder={(style: Record<string, unknown>): React.ReactElement => (\n                            <div style={style}>\n                              <Icon\n                                type={IconTypes.EMOJI_MORE}\n                                fillColor={IconColors.ON_BACKGROUND_3}\n                                width=\"28px\"\n                                height=\"28px\"\n                              />\n                            </div>\n                          )}\n                        />\n                      </ReactionButton>\n                    )\n                  }\n                </div>\n              </ul>\n            </div>\n          )\n        }\n        {\n          !showEmojisOnly && (\n            <div className='sendbird-message__bottomsheet--actions'>\n              {showMenuItemCopy && (\n                <div\n                  className='sendbird-message__bottomsheet--action'\n                  onClick={() => {\n                    hideMenu();\n                    copyToClipboard((message as UserMessage)?.message);\n                  }}\n                >\n                  <Icon\n                    type={IconTypes.COPY}\n                    fillColor={IconColors.PRIMARY}\n                    width=\"24px\"\n                    height=\"24px\"\n                  />\n                  <Label type={LabelTypography.SUBTITLE_1}>\n                    {stringSet?.MESSAGE_MENU__COPY}\n                  </Label>\n                </div>\n              )}\n              {\n                showMenuItemEdit && (\n                  <div\n                    className='sendbird-message__bottomsheet--action'\n                    onClick={() => {\n                      hideMenu();\n                      showEdit(true);\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.EDIT}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                    <Label type={LabelTypography.SUBTITLE_1}>\n                      {stringSet?.MESSAGE_MENU__EDIT}\n                    </Label>\n                  </div>\n                )\n              }\n              {\n                showMenuItemResend && (\n                  <div\n                    className='sendbird-message__bottomsheet--action'\n                    onClick={() => {\n                      hideMenu();\n                      resendMessage(message);\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.REFRESH}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                    <Label type={LabelTypography.SUBTITLE_1}>\n                      {stringSet?.MESSAGE_MENU__RESEND}\n                    </Label>\n                  </div>\n                )\n              }\n              {\n                showMenuItemReply && (\n\n                  <div\n                    className={`sendbird-message__bottomsheet--action\n                      ${disableReaction ? 'sendbird-message__bottomsheet--action-disabled': ''}\n                    `}\n                    role=\"menuitem\"\n                    aria-disabled={disableReaction ? true : false}\n                    onClick={() => {\n                      if(!disableReaction) {\n                        hideMenu();\n                        setQuoteMessage(message);\n                      }\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.REPLY}\n                      fillColor={disableReaction\n                        ? IconColors.ON_BACKGROUND_3\n                        : IconColors.PRIMARY\n                      }\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                    <Label\n                      type={LabelTypography.SUBTITLE_1}\n                      color={disableReaction && LabelColors.ONBACKGROUND_4}\n                    >\n                      {stringSet?.MESSAGE_MENU__REPLY}\n                    </Label>\n                  </div>\n                )\n              }\n              {\n                showMenuItemDelete && (\n                  <div\n                    className='sendbird-message__bottomsheet--action'\n                    onClick={() => {\n                      hideMenu();\n                      showRemove(true);\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.DELETE}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                    <Label type={LabelTypography.SUBTITLE_1}>\n                      {stringSet?.MESSAGE_MENU__DELETE}\n                    </Label>\n                  </div>\n                )\n              }\n              {\n                showMenuItemDownload && (\n                  <div\n                    className='sendbird-message__bottomsheet--action'\n                    onClick={() => {\n                      hideMenu();\n                    }}\n                  >\n                    <a\n                      className=\"sendbird-message__bottomsheet--hyperlink\"\n                      rel=\"noopener noreferrer\"\n                      href={fileMessage?.url}\n                      target=\"_blank\"\n                    >\n                      <Icon\n                        type={IconTypes.DOWNLOAD}\n                        fillColor={IconColors.PRIMARY}\n                        width=\"24px\"\n                        height=\"24px\"\n                      />\n                      <Label type={LabelTypography.SUBTITLE_1}>\n                        {stringSet?.MESSAGE_MENU__SAVE}\n                      </Label>\n                    </a>\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    </BottomSheet>\n  );\n};\n\nexport default MobileBottomSheet;\n","import './mobile-menu.scss';\n\nimport React from 'react';\nimport MobileContextMenu from './MobileContextMenu';\nimport MobileBottomSheet from './MobileBottomSheet';\nimport type { MobileBottomSheetProps } from './types';\n\nconst MobileMenu: React.FC<MobileBottomSheetProps> = (props: MobileBottomSheetProps) => {\n  const {\n    message,\n    hideMenu,\n    userId,\n    channel,\n    isReactionEnabled = false,\n    isByMe,\n    replyType,\n    disabled,\n    showRemove,\n    showEdit,\n    resendMessage,\n    setQuoteMessage,\n    emojiContainer,\n    toggleReaction,\n    parentRef,\n  } = props;\n  return (\n    <>\n      {\n        isReactionEnabled\n        ? (\n            <MobileBottomSheet\n              channel={channel}\n              message={message}\n              hideMenu={hideMenu}\n              isByMe={isByMe}\n              userId={userId}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              showEdit={showEdit}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              emojiContainer={emojiContainer}\n              toggleReaction={toggleReaction}\n              isReactionEnabled={isReactionEnabled}\n            />\n          ): (\n            <MobileContextMenu\n              channel={channel}\n              userId={userId}\n              message={message}\n              hideMenu={hideMenu}\n              isByMe={isByMe}\n              showEdit={showEdit}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              parentRef={parentRef}\n            />\n          )\n      }\n    </>\n  );\n};\n\nexport default MobileMenu;\n","import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n  isSentMessage,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../index.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, Sender, UserMessage } from '@sendbird/chat/message';\nimport useLongPress from '../../hooks/useLongPress';\nimport MobileMenu from '../MobileMenu';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport ThreadReplies from '../ThreadReplies';\nimport { ThreadReplySelectType } from '../../smart-components/Channel/context/const';\n\n// should initialize in UserProfileContext.jsx\nexport interface UserProfileContextInterface {\n  disableUserProfile: boolean;\n  isOpenChannel: boolean;\n  renderUserProfile?: (props: { user: Sender, close: () => void }) => React.ReactElement,\n}\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  disableQuoteMessage?: boolean;\n  replyType?: ReplyType;\n  threadReplySelectType?: ThreadReplySelectType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n  onReplyInThread?: (props: { message: UserMessage | FileMessage }) => void;\n  onQuoteMessageClick?: (props: { message: UserMessage | FileMessage }) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  disableQuoteMessage = false,\n  replyType,\n  threadReplySelectType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n  onReplyInThread,\n  onQuoteMessageClick,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile }: UserProfileContextInterface = useContext(UserProfileContext);\n  const avatarRef = useRef(null);\n  const contentRef = useRef(null);\n  const { isMobile } = useMediaQueryContext();\n  const [showMenu, setShowMenu] = useState(false);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage)?.sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage)?.sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'sendbird-mouse-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY' || replyType === 'THREAD')\n    && message?.parentMessageId && message?.parentMessage\n    && !disableQuoteMessage\n  );\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  // Thread replies\n  const displayThreadReplies = message?.threadInfo?.replyCount > 0 && replyType === 'THREAD';\n\n  // onMouseDown: (e: React.MouseEvent<T>) => void;\n  // onTouchStart: (e: React.TouchEvent<T>) => void;\n  // onMouseUp: (e: React.MouseEvent<T>) => void;\n  // onMouseLeave: (e: React.MouseEvent<T>) => void;\n  // onTouchEnd: (e: React.TouchEvent<T>) => void;\n  const longPress = useLongPress({\n    onLongPress: () => {\n      if (isMobile) {\n        setShowMenu(true);\n      }\n    },\n    onClick: () => {\n      // @ts-ignore\n      if (isMobile && isThumbnailMessage(message) && isSentMessage(message)) {\n        showFileViewer(true);\n      }\n    },\n  }, {\n    delay: 300,\n  });\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message as AdminMessage} />);\n  }\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className={`sendbird-message-content__left__avatar ${displayThreadReplies ? 'use-thread-replies' : ''}`}\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: '0px', paddingBottom: '0px' }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && !isMobile && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n              onReplyInThread={({ message }) => {\n                if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                  onReplyInThread({ message });\n                } else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div\n        className=\"sendbird-message-content__middle\"\n        {...(isMobile ? { ...longPress } : {})}\n        ref={contentRef}\n      >\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              isUnavailable={(replyType === 'THREAD' && (channel?.joinedAt * 1000) > message?.parentMessage?.createdAt)}\n              onClick={() => {\n                if (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.THREAD) {\n                  onQuoteMessageClick?.({ message: message as UserMessage | FileMessage });\n                }\n                if (\n                  (replyType === 'QUOTE_REPLY' || (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.PARENT))\n                  && message?.parentMessage?.createdAt && message?.parentMessageId\n                ) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          {isTextMessage(message as UserMessage) && (\n            <TextMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n              isReactionEnabled={isReactionEnabled}\n            />\n          )}\n          {(isOGMessage(message as UserMessage)) && (\n            <OGMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n              isReactionEnabled={isReactionEnabled}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n            <FileMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isReactionEnabled={isReactionEnabled}\n            />\n          )}\n          {(isThumbnailMessage(message as FileMessage)) && (\n            <ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isReactionEnabled={isReactionEnabled}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n            <UnknownMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isReactionEnabled={isReactionEnabled}\n            />\n          )}\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n        {/* thread replies */}\n        {displayThreadReplies && (\n          <ThreadReplies\n            className=\"sendbird-message-content__middle__thread-replies\"\n            threadInfo={message?.threadInfo}\n            onClick={() => onReplyInThread?.({ message: message as UserMessage | FileMessage })}\n          />\n        )}\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && !isMobile && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n              onReplyInThread={({ message }) => {\n                if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                  onReplyInThread({ message });\n                } else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        )}\n      </div>\n      {\n        showMenu && (\n          message?.isUserMessage?.() || message?.isFileMessage?.()\n        ) && (\n          <MobileMenu\n            parentRef={contentRef}\n            channel={channel}\n            hideMenu={() => { setShowMenu(false) }}\n            message={message}\n            isReactionEnabled={isReactionEnabled}\n            isByMe={isByMe}\n            userId={userId}\n            replyType={replyType}\n            disabled={disabled}\n            showRemove={showRemove}\n            emojiContainer={emojiContainer}\n            resendMessage={resendMessage}\n            setQuoteMessage={setQuoteMessage}\n            toggleReaction={toggleReaction}\n            showEdit={showEdit}\n          />\n        )\n      }\n    </div>\n  );\n}\n"],"names":["MobileContextMenu","props","hideMenu","channel","message","replyType","userId","resendMessage","showEdit","showRemove","setQuoteMessage","parentRef","isByMe","_a","sender","stringSet","useLocalization","showMenuItemCopy","isUserMessage","showMenuItemEdit","isSentMessage","showMenuItemResend","isFailedMessage","isResendable","showMenuItemDelete","isPendingMessage","showMenuItemDownload","isFileMessage","showMenuItemReply","isGroupChannel","isBroadcast","fileMessage","React","ContextMenu","MenuItems","MenuItem","copyToClipboard","Label","LabelTypography","SUBTITLE_1","MESSAGE_MENU__COPY","Icon","IconTypes","COPY","IconColors","PRIMARY","parentMessageId","MESSAGE_MENU__REPLY","REPLY","MESSAGE_MENU__EDIT","EDIT","MESSAGE_MENU__RESEND","REFRESH","threadInfo","replyCount","MESSAGE_MENU__DELETE","DELETE","url","MESSAGE_MENU__SAVE","DOWNLOAD","EMOJI_SIZE","MobileBottomSheet","emojiContainer","toggleReaction","isReactionEnabled","showReaction","disableReaction","maxEmojisPerRow","Math","floor","window","innerWidth","_b","useState","showEmojisOnly","setShowEmojisOnly","emojis","getEmojiListAll","visibleEmojis","slice","canShowMoreEmojis","length","BottomSheet","map","emoji","isReacted","_c","reactions","filter","reaction","key","userIds","some","reactorId","ReactionButton","concat","ImageRenderer","style","QUESTION","ON_BACKGROUND_3","EMOJI_MORE","LabelColors","ONBACKGROUND_4","MobileMenu","disabled","MessageContent","className","_l","_m","chainTop","_o","chainBottom","_p","_q","disableQuoteMessage","threadReplySelectType","nicknamesMap","scrollToMessage","showFileViewer","onReplyInThread","onQuoteMessageClick","messageTypes","getUIKitMessageTypes","dateLocale","config","useSendbirdStateContext","_r","useContext","UserProfileContext","disableUserProfile","renderUserProfile","avatarRef","useRef","contentRef","isMobile","useMediaQueryContext","_s","showMenu","setShowMenu","_t","mouseHover","setMouseHover","_u","supposedHover","setSupposedHover","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessage","useReplyingClassName","displayThreadReplies","longPress","useLongPress","onLongPress","onClick","isThumbnailMessage","delay","isAdminMessage","_d","call","messageType","ClientAdminMessage","getClassName","toggleDropdown","Avatar","members","find","member","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","UserProfile","MessageItemMenu","ThreadReplySelectType","THREAD","PARENT","createdAt","MessageItemReactionMenu","_extends","__assign","CAPTION_2","ONBACKGROUND_2","_e","nickname","getSenderName","QuoteMessage","joinedAt","_g","MessageStatus","isTextMessage","TextMessageItemBody","isMentionEnabled","isOGMessage","OGMessageItemBody","getUIKitMessageType","FILE","FileMessageItemBody","ThumbnailMessageItemBody","UNKNOWN","UnknownMessageItemBody","_h","EmojiReactions","CAPTION_3","format","locale","ThreadReplies","_j","_k"],"mappings":"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"}