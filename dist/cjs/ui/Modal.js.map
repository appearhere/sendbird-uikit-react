{"version":3,"file":"Modal.js","sources":["../../../src/ui/Modal/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport Button, { ButtonTypes } from '../Button';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\n\nexport interface ModalHeaderProps {\n  titleText: string;\n}\nexport const ModalHeader = ({ titleText }: ModalHeaderProps): ReactElement => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\n\nexport interface ModalBodyProps {\n  children?: ReactElement;\n}\nexport const ModalBody = ({ children }: ModalBodyProps): ReactElement => (\n  <div className=\"sendbird-modal__body\">\n    <Label\n      type={LabelTypography.SUBTITLE_1}\n      color={LabelColors.ONBACKGROUND_2}\n    >\n      {children}\n    </Label>\n  </div>\n);\n\nexport interface ModalFooterProps {\n  submitText: string;\n  disabled?: boolean;\n  type?: ButtonTypes;\n  onCancel: () => void;\n  onSubmit: (e: SubmitEvent) => void;\n}\nexport const ModalFooter = ({\n  submitText,\n  disabled = false,\n  type = ButtonTypes.DANGER,\n  onSubmit,\n  onCancel,\n}: ModalFooterProps): ReactElement => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nexport interface ModalProps {\n  children?: ReactElement;\n  className?: string;\n  isCloseOnClickOutside?: boolean;\n  isFullScreenOnMobile?: boolean;\n  titleText?: string;\n  submitText?: string;\n  disabled?: boolean;\n  hideFooter?: boolean;\n  type?: ButtonTypes;\n  onCancel?: () => void;\n  onSubmit?: (e: SubmitEvent) => void;\n  renderHeader?: () => ReactElement;\n}\nexport default function Modal(props: ModalProps): ReactElement {\n  const {\n    children = null,\n    className = '',\n    isCloseOnClickOutside = false,\n    isFullScreenOnMobile = false,\n    titleText,\n    submitText,\n    disabled = false,\n    hideFooter = false,\n    type = ButtonTypes.DANGER,\n    onCancel = () => {/* noop */ },\n    onSubmit = () => {/* noop */ },\n    renderHeader,\n  } = props;\n\n  const { isMobile } = useMediaQueryContext();\n  return createPortal((\n    <div className={`\n      sendbird-modal ${className}\n      ${(isFullScreenOnMobile && isMobile) ? 'sendbird-modal--full-mobile' : ''}\n    `}>\n      <div className=\"sendbird-modal__content\">\n        {renderHeader?.() || (\n          <ModalHeader titleText={titleText} />\n        )}\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div\n        className={`\n          sendbird-modal__backdrop\n          ${isCloseOnClickOutside && 'sendbird-modal__backdrop--clickoutside'}\n        `}\n        onClick={(e) =>{\n          e?.stopPropagation();\n          if (isCloseOnClickOutside) {\n            onCancel();\n          }\n        }}\n      />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n"],"names":["ModalHeader","_a","titleText","React","Label","LabelTypography","H_1","LabelColors","ONBACKGROUND_1","ModalBody","children","SUBTITLE_1","ONBACKGROUND_2","ModalFooter","submitText","_b","disabled","_c","type","ButtonTypes","DANGER","onSubmit","onCancel","stringSet","useContext","LocalizationContext","Button","SECONDARY","BUTTON_1","BUTTON__CANCEL","Modal","props","className","isCloseOnClickOutside","_d","isFullScreenOnMobile","_e","_f","hideFooter","_g","_h","_j","renderHeader","isMobile","useMediaQueryContext","createPortal","concat","IconButton","Icon","IconTypes","CLOSE","IconColors","DEFAULT","e","stopPropagation","document","getElementById","MODAL_ROOT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAiBaA,IAAAA,WAAW,GAAG,UAACC,EAAD,EAAgC;AAA7B,EAAA,IAAAC,SAAS,GAAAD,EAAA,CAAAC,SAAT,CAAA;EAAgD,oBAC5EC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,wBAAA;AAAf,GAAA,eACEA,wCAACC,cAAD,EAAA;IAAO,IAAI,EAAEC,wBAAe,CAACC,GAA7B;IAAkC,KAAK,EAAEC,oBAAW,CAACC,cAAAA;GAClDN,EAAAA,SADH,CADF,CAD4E,CAAA;AAM7E,EANM;AAWMO,IAAAA,SAAS,GAAG,UAACR,EAAD,EAA6B;AAA1B,EAAA,IAAAS,QAAQ,GAAAT,EAAA,CAAAS,QAAR,CAAA;EAA6C,oBACvEP,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,sBAAA;AAAf,GAAA,eACEA,wCAACC,cAAD,EAAA;IACE,IAAI,EAAEC,wBAAe,CAACM,UADxB;IAEE,KAAK,EAAEJ,oBAAW,CAACK,cAAAA;GAElBF,EAAAA,QAJH,CADF,CADuE,CAAA;AASxE,EATM;AAkBMG,IAAAA,WAAW,GAAG,UAACZ,EAAD,EAMR;MALjBa,UAAU,GAAAb,EAAA,CAAAa;MACVC,EAAgB,GAAAd,EAAA,CAAAe;MAAhBA,QAAQ,GAAGD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAKA;MAChBE,EAAyB,GAAAhB,EAAA,CAAAiB;MAAzBA,IAAI,GAAGD,EAAA,KAAA,KAAA,CAAA,GAAAE,qBAAW,CAACC,MAAZ,GAAkBH;MACzBI,QAAQ,GAAApB,EAAA,CAAAoB;MACRC,QAAQ,GAAArB,EAAA,CAAAqB;AAEA,EAAA,IAAAC,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAAA;EACR,oBACEtB,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,wBAAA;AAAf,GAAA,eACEA,wCAACuB,oBAAD,EAAA;IAAQ,IAAI,EAAEP,qBAAW,CAACQ,SAA1B;AAAqC,IAAA,OAAO,EAAEL,QAAAA;AAA9C,GAAA,eACEnB,wCAACC,cAAD,EAAA;IAAO,IAAI,EAAEC,wBAAe,CAACuB,QAA7B;IAAuC,KAAK,EAAErB,oBAAW,CAACC,cAAAA;AAA1D,GAAA,EACGe,SAAS,CAACM,cADb,CADF,CADF,eAME1B,wCAACuB,oBAAD,EAAA;AAAQ,IAAA,IAAI,EAAER,IAAd;AAAoB,IAAA,QAAQ,EAAEF,QAA9B;AAAwC,IAAA,OAAO,EAAEK,QAAAA;GAC9CP,EAAAA,UADH,CANF,CADF,CAAA;AAYD,EApBM;AAoCiB,SAAAgB,KAAA,CAAMC,KAAN,EAAuB;AAE3C,EAAA,IAAA9B,EAAA,GAYE8B,KAAK,CAZQrB,QAAf;MAAAA,QAAQ,GAAGT,EAAA,KAAA,KAAA,CAAA,GAAA,IAAA,KAAX;AAAA,MACAc,EAAA,GAWEgB,KAAK,CAXOC,SADd;MACAA,SAAS,GAAGjB,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,KADZ;AAAA,MAEAE,EAAA,GAUEc,KAAK,CAAAE,qBAZP;MAEAA,qBAAqB,mBAAG,QAAKhB,EAF7B;AAAA,MAGAiB,EASE,GAAAH,KAAK,qBAZP;MAGAI,oBAAoB,GAAGD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAKA,EAH5B;AAAA,MAIAhC,SAAS,GAQP6B,KAAK,UAZP;AAAA,MAKAjB,UAAU,GAORiB,KAAK,CAAAjB,UAZP;AAAA,MAMAsB,EAAA,GAMEL,KAAK,CAAAf,QAZP;MAMAA,QAAQ,GAAAoB,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQA,EANhB;AAAA,MAOAC,KAKEN,KAAK,CAAAO,UAZP;MAOAA,UAAU,GAAGD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,KAPb;AAAA,MAQAE,EAAA,GAIER,KAAK,CAJkBb,IARzB;MAQAA,IAAI,GAAGqB,EAAA,KAAA,KAAA,CAAA,GAAApB,qBAAW,CAACC,MAAZ,GAAkBmB,EARzB;AAAA,MASAC,KAGET,KAAK,CAAAT,QAZP;MASAA,QAAQ,GAAAkB,EAAA,KAAA,KAAA,CAAA,GAAG,cAAH,GAAsBA,EAT9B;AAAA,MAUAC,EAAA,GAEEV,KAAK,CAAAV,QAZP;MAUAA,QAAQ,GAAAoB,EAAA,KAAA,KAAA,CAAA,GAAG,cAAH,GAAsBA,EAV9B;AAAA,MAWAC,YAAY,GACVX,KAAK,CAAAW,YAZP,CAAA;AAcM,EAAA,IAAAC,QAAQ,GAAKC,sCAAoB,EAAA,SAAjC,CAAA;AACR,EAAA,oBAAOC,qBAAY,eACjB1C,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAE,yBACG2C,CAAAA,MADH,CACGd,SADH,EAEZ,UAFY,CAEZc,CAAAA,MAFY,CAEXX,oBAAoB,IAAIQ,QAAzB,GAAqC,6BAArC,GAAqE,EAFzD,EAGf,QAHe,CAAA;GAId,eAAAxC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,yBAAA;AAAf,GAAA,EACG,CAAAuC,YAAY,KAAA,IAAZ,IAAAA,YAAY,KAAZ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,YAAY,EAAZ,kBACCvC,wCAAC,WAAD,EAAA;AAAa,IAAA,SAAS,EAAED,SAAAA;GAF5B,CAAA,eAIEC,yBAAC,CAAA,aAAA,CAAA,SAAD,EAAYO,IAAAA,EAAAA,QAAZ,CAJF,EAMI,CAAC4B,UAAD,iBACEnC,yBAAA,CAAA,aAAA,CAAC,WAAD,EAAA;AACE,IAAA,QAAQ,EAAEa,QADZ;AAEE,IAAA,QAAQ,EAAEM,QAFZ;AAGE,IAAA,QAAQ,EAAED,QAHZ;AAIE,IAAA,UAAU,EAAEP,UAJd;AAKE,IAAA,IAAI,EAAEI,IAAAA;AALR,GAAA,CAPN,eAgBEf,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,uBAAA;AAAf,GAAA,eACEA,wCAAC4C,aAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAFT;AAGE,IAAA,OAAO,EAAEzB,QAAAA;AAHX,GAAA,eAKEnB,wCAAC6C,kBAAD,EAAA;IACE,IAAI,EAAEC,iBAAS,CAACC,KADlB;IAEE,SAAS,EAAEC,kBAAU,CAACC,OAFxB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GATX,CAAA,CADF,CAhBF,CAJF,eAmCEjD,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;IACE,SAAS,EAAE,yDAAA,CAEP8B,qBAAqB,IAAI,wCAFlB,EAE0D,YAF1D,CADb;IAKE,OAAO,EAAE,UAACoB,CAAD,EAAE;AACTA,MAAAA,CAAC,SAAD,IAAAA,CAAC,KAAA,KAAA,CAAD,GAAC,KAAA,CAAD,GAAAA,CAAC,CAAEC,eAAH,EAAA,CAAA;;AACA,MAAA,IAAIrB,qBAAJ,EAA2B;QACzBX,QAAQ,EAAA,CAAA;AACT,OAAA;AACF,KAAA;GA7CL,CAAA,CADiB,EAiDhBiC,QAAQ,CAACC,cAAT,CAAwBC,gBAAxB,CAjDgB,CAAnB,CAAA;AAkDD;;;;;;;"}