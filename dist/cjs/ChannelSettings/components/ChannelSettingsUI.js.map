{"version":3,"file":"ChannelSettingsUI.js","sources":["../../../../src/smart-components/ChannelSettings/components/ChannelSettingsUI/index.tsx"],"sourcesContent":["import './channel-settings-ui.scss';\n\nimport React, { useContext, useState } from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelProfile from '../ChannelProfile';\nimport ModerationPanel from '../ModerationPanel';\nimport LeaveChannelModal from '../LeaveChannel';\nimport UserPanel from '../UserPanel';\n\nexport interface ChannelSettingsUIProps {\n  renderPlaceholderError?: () => React.ReactElement;\n  renderChannelProfile?: () => React.ReactElement;\n  renderModerationPanel?: () => React.ReactElement;\n  renderLeaveChannel?: () => React.ReactElement;\n}\n\nconst ChannelSettingsUI: React.FC<ChannelSettingsUIProps> = (props: ChannelSettingsUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettingsContext();\n\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const isOnline = state?.config?.isOnline;\n  const logger = state?.config?.logger;\n\n  const {\n    channel,\n    invalidChannel,\n    onCloseClick,\n  } = channelSettingStore;\n\n  const {\n    renderPlaceholderError,\n    renderChannelProfile,\n    renderModerationPanel,\n    renderLeaveChannel,\n  } = props;\n\n  if (!channel || invalidChannel) {\n    return (\n      <div>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          />\n        </div>\n        <div>\n          {\n            renderPlaceholderError\n              ? renderPlaceholderError()\n              : (\n                <PlaceHolder type={PlaceHolderTypes.WRONG} />\n              )\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile?.() || (\n            <ChannelProfile />\n          )\n        }\n        {\n          renderModerationPanel?.() || (\n            channel?.myRole === 'operator'\n              ? (<ModerationPanel />)\n              : (<UserPanel />)\n          )\n        }\n        {\n          renderLeaveChannel?.() || (\n            <div\n              className={[\n                'sendbird-channel-settings__panel-item',\n                'sendbird-channel-settings__leave-channel',\n                !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n              ].join(' ')}\n              role=\"button\"\n              onKeyDown={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              onClick={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              tabIndex={0}\n            >\n              <Icon\n                className={[\n                  'sendbird-channel-settings__panel-icon-left',\n                  'sendbird-channel-settings__panel-icon__leave',\n                ].join(' ')}\n                type={IconTypes.LEAVE}\n                fillColor={IconColors.ERROR}\n                height=\"24px\"\n                width=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n              </Label>\n            </div>\n          )\n        }\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCancel={() => {\n                setShowLeaveChannelModal(false);\n              }}\n              onSubmit={() => {\n                setShowLeaveChannelModal(false);\n                onCloseClick?.();\n              }}\n            />\n          )\n        }\n      </div>\n    </>\n  );\n}\n\nexport default ChannelSettingsUI;\n"],"names":["ChannelSettingsUI","props","stringSet","useContext","LocalizationContext","state","useSendbirdStateContext","channelSettingStore","useChannelSettingsContext","_c","useState","showLeaveChannelModal","setShowLeaveChannelModal","isOnline","_a","config","logger","_b","channel","invalidChannel","onCloseClick","renderPlaceholderError","renderChannelProfile","renderModerationPanel","renderLeaveChannel","React","Label","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","CHANNEL_SETTING__HEADER__TITLE","Icon","IconTypes","CLOSE","info","PlaceHolder","PlaceHolderTypes","WRONG","IconButton","ChannelProfile","myRole","ModerationPanel","UserPanel","join","LEAVE","IconColors","ERROR","SUBTITLE_1","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal"],"mappings":"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"}