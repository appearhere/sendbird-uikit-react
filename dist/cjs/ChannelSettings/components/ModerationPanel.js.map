{"version":3,"file":"ModerationPanel.js","sources":["../../../../src/smart-components/ChannelSettings/components/ModerationPanel/OperatorsModal.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/AddOperatorsModal.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/OperatorList.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/BannedUsersModal.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/BannedUserList.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/MutedMembersModal.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/MutedMemberList.tsx","../../../../src/smart-components/ChannelSettings/components/ModerationPanel/index.tsx"],"sourcesContent":["import React, {\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from 'react'\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\ninterface Props { onCancel?(): void }\n\nexport default function OperatorsModal({ onCancel }: Props): ReactElement {\n  const [operators, setOperators] = useState([]);\n  const [operatorQuery, setOperatorQuery] = useState(null);\n\n  const { channel } = useChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUserId = state?.config?.userId;\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    const operatorListQuery = channel?.createOperatorListQuery({\n      limit: 20,\n    });\n    operatorListQuery.next().then((operators) => {\n      setOperators(operators);\n    });\n    setOperatorQuery(operatorListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        isFullScreenOnMobile\n        hideFooter\n        titleText={stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL}\n        onCancel={onCancel}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = operatorQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              operatorQuery.next().then((o) => {\n                setOperators([\n                  ...operators,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {operators.map((member) => (\n            <UserListItem\n              currentUser={currentUserId}\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                member?.userId !== currentUserId && (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-user-message__more__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentContainRef={parentRef}\n                        parentRef={actionRef} // for catching location(x, y) of MenuItems\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            channel?.removeOperators([member.userId]).then(() => {\n                              setOperators(operators.filter(({ userId }) => {\n                                return userId !== member.userId;\n                              }));\n                            });\n                            closeDropdown();\n                          }}\n                        >\n                          {stringSet.CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR}\n                        </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                )\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Modal from '../../../../ui/Modal';\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport { ButtonTypes } from '../../../../ui/Button';\nimport UserListItem from '../../../../ui/UserListItem';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport { OperatorFilter } from '@sendbird/chat/groupChannel';\n\ninterface Props {\n  onCancel(): void;\n  onSubmit(members: Array<string>): void;\n}\n\nexport default function AddOperatorsModal({\n  onCancel,\n  onSubmit,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState({});\n  const [memberQuery, setMemberQuery] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n\n  const { channel } = useChannelSettingsContext();\n\n  useEffect(() => {\n    const memberListQuery = channel?.createMemberListQuery({\n      operatorFilter: OperatorFilter.NONOPERATOR,\n      limit: 20,\n    });\n    memberListQuery.next().then((members) => {\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, [])\n\n  const selectedCount = Object.keys(selectedMembers).filter((m) => selectedMembers[m]).length;\n  return (\n    <div>\n      <Modal\n        isFullScreenOnMobile\n        type={ButtonTypes.PRIMARY}\n        submitText={stringSet.CHANNEL_SETTING__OPERATORS__ADD_BUTTON}\n        onCancel={onCancel}\n        onSubmit={() => {\n          const members = Object.keys(selectedMembers).filter((m) => selectedMembers[m]);\n          channel?.addOperators(members).then(() => {\n            onSubmit(members);\n          })\n        }}\n        titleText={stringSet.CHANNEL_SETTING__MEMBERS__SELECT_TITLE}\n      >\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTED}`}\n        </Label>\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n            if (hasNext && fetchMore) {\n              memberQuery.next().then((o) => {\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          {\n            members.map((member) => (\n              <UserListItem\n                checkBox\n                checked={selectedMembers[member.userId]}\n                isOperator={member?.role === 'operator'}\n                disabled={member?.role === 'operator'}\n                onChange={\n                  (event) => {\n                    const modifiedSelectedMembers = {\n                      ...selectedMembers,\n                      [event.target.id]: event.target.checked,\n                    };\n                    if (!event.target.checked) {\n                      delete modifiedSelectedMembers[event.target.id];\n                    }\n                    setSelectedMembers(modifiedSelectedMembers);\n                  }\n                }\n                user={member}\n                key={member.userId}\n              />\n            ))\n          }\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport OperatorsModal from './OperatorsModal';\nimport AddOperatorsModal from './AddOperatorsModal';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nexport const OperatorList = (): ReactElement => {\n  const [operators, setOperators] = useState([]);\n  const [showMore, setShowMore] = useState(false);\n  const [showAdd, setShowAdd] = useState(false);\n  const [hasNext, setHasNext] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const { channel } = useChannelSettingsContext();\n\n  const userId = state?.config?.userId;\n\n  useEffect(() => {\n    if (!channel) {\n      setOperators([]);\n      return;\n    }\n\n    const operatorListQuery = channel?.createOperatorListQuery({\n      limit: 10,\n    });\n    operatorListQuery.next().then((operators) => {\n      setOperators(operators);\n      setHasNext(operatorListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(\n    () => {\n      if (!channel) {\n        setOperators([]);\n        return;\n      }\n      const operatorListQuery = channel?.createOperatorListQuery({\n        limit: 10,\n      });\n      operatorListQuery.next().then((operators) => {\n        setOperators(operators);\n        setHasNext(operatorListQuery.hasNext);\n      });\n    },\n    [channel],\n  );\n\n  return (\n    <>\n      {\n        operators.map((operator) => (\n          <UserListItem\n            key={operator.userId}\n            user={operator}\n            currentUser={userId}\n            action={({ actionRef }) => {\n              if (operator?.userId === userId) {\n                return null;\n              }\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentRef={actionRef}\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel?.removeOperators([operator.userId]).then(() => {\n                            setOperators(operators.filter(({ userId }) => (\n                              userId !== operator.userId\n                            )));\n                          });\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR}\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }}\n          />\n        ))\n      }\n      <div\n        className=\"sendbird-channel-settings-accordion__footer\"\n      >\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => {\n            setShowAdd(true);\n          }}\n        >\n          {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ADD}\n        </Button>\n        {\n          hasNext && (\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowMore(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL}\n            </Button>\n          )\n        }\n      </div>\n      {\n        showMore && (\n          <OperatorsModal onCancel={() => {\n            setShowMore(false);\n            refreshList();\n          }} />\n        )\n      }\n      {\n        showAdd && (\n          <AddOperatorsModal\n            onCancel={() => setShowAdd(false)}\n            onSubmit={() => {\n              refreshList();\n              setShowAdd(false);\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nexport default OperatorList;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport { noop } from '../../../../utils/utils';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ninterface Props {\n  onCancel(): void;\n}\n\nexport default function BannedUsersModal({\n  onCancel,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n  const { channel } = useChannelSettingsContext();\n  const { stringSet } = useLocalization();\n\n  useEffect(() => {\n    const bannedUserListQuery = channel?.createBannedUserListQuery();\n    bannedUserListQuery.next().then((users) => {\n      setMembers(users);\n    });\n    setMemberQuery(bannedUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        isFullScreenOnMobile\n        hideFooter\n        onCancel={() => onCancel()}\n        onSubmit={noop}\n        titleText={stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next().then((o) => {\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel?.unbanUser(member).then(() => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        {stringSet.CHANNEL_SETTING__MODERATION__BAN}\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n              }\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\nimport { BannedUserListQueryParams } from '@sendbird/chat';\n\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport BannedUsersModal from './BannedUsersModal';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\nexport const BannedMemberList = (): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  const { stringSet } = useContext(LocalizationContext);\n  const { channel } = useChannelSettingsContext();\n\n  const bannedUserListQueryParams: BannedUserListQueryParams = { limit: 10 };\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n    const bannedUserListQuery = channel?.createBannedUserListQuery(bannedUserListQueryParams);\n    bannedUserListQuery.next().then((users) => {\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n    const bannedUserListQuery = channel?.createBannedUserListQuery(bannedUserListQueryParams);\n    bannedUserListQuery.next().then((users) => {\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel?.unbanUser(member).then(() => {\n                            closeDropdown();\n                            refreshList();\n                          })\n                        }}\n                      >\n                        {stringSet.CHANNEL_SETTING__MODERATION__UNBAN}\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n            }}\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {stringSet.CHANNEL_SETTING__MODERATION__EMPTY_BAN}\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__MODERATION__ALL_BAN}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <BannedUsersModal\n            onCancel={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nexport default BannedMemberList;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ninterface Props {\n  onCancel(): void;\n}\n\nexport default function MutedMembersModal({\n  onCancel,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  const { channel } = useChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUser = state?.config?.userId;\n  const { stringSet } = useLocalization();\n\n  useEffect(() => {\n    const memberUserListQuery = channel?.createMemberListQuery({\n      limit: 10,\n      // @ts-ignore\n      mutedMemberFilter: 'muted',\n    });\n    memberUserListQuery.next().then((members) => {\n      setMembers(members);\n    });\n    setMemberQuery(memberUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        isFullScreenOnMobile\n        hideFooter\n        onCancel={() => onCancel()}\n        onSubmit={noop}\n        titleText={stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE}\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next().then((o) => {\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              currentUser={currentUser}\n              user={member}\n              key={member.userId}\n              action={({ actionRef, parentRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel?.unmuteUser(member).then(() => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        {stringSet.CHANNEL_SETTING__MODERATION__UNMUTE}\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport\nLabel, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport UserListItem from '../UserListItem';\nimport MutedMembersModal from './MutedMembersModal';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\n\nexport const MutedMemberList = (): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const { stringSet } = useLocalization();\n\n  const { channel } = useChannelSettingsContext();\n  const state = useSendbirdStateContext();\n  const currentUser = state?.config?.userId;\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel?.createMemberListQuery({\n      limit: 10,\n      // @ts-ignore\n      mutedMemberFilter: 'muted',\n    });\n    memberUserListQuery.next().then((members) => {\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel?.createMemberListQuery({\n      limit: 10,\n      // @ts-ignore\n      mutedMemberFilter: 'muted',\n    });\n    memberUserListQuery.next().then((members) => {\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            currentUser={currentUser}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel?.unmuteUser(member).then(() => {\n                            refreshList();\n                            closeDropdown();\n                          })\n                        }}\n                      >\n                        <>\n                          {stringSet?.CHANNEL_SETTING__UNMUTE || stringSet.CHANNEL_SETTING__MODERATION__UNMUTE}\n                        </>\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }\n            }\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {stringSet.CHANNEL_SETTING__NO_UNMUTED}\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <MutedMembersModal\n            onCancel={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nexport default MutedMemberList;\n","import './admin-panel.scss';\nimport React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Accordion, { AccordionGroup } from '../../../../ui/Accordion';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport Badge from '../../../../ui/Badge';\n\nimport OperatorList from './OperatorList';\nimport MemberList from './MemberList';\nimport BannedUserList from './BannedUserList';\nimport MutedMemberList from './MutedMemberList';\n\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nconst kFormatter = (num: number): string|number => {\n  return Math.abs(num) > 999\n    ? `${(Math.abs(num)/1000).toFixed(1)}K`\n    : num;\n}\n\nexport default function AdminPannel(): ReactElement {\n  const [frozen, setFrozen] = useState(false);\n\n  const { stringSet } = useContext(LocalizationContext);\n  const { channel } = useChannelSettingsContext();\n\n\n  // work around for\n  // https://sendbird.slack.com/archives/G01290GCDCN/p1595922832000900\n  // SDK bug - after frozen/unfrozen myRole becomes \"none\"\n  useEffect(() => {\n    setFrozen(channel?.isFrozen);\n  }, [channel]);\n\n  return (\n    <AccordionGroup className=\"sendbird-channel-settings__operator\">\n      <Accordion\n        className=\"sendbird-channel-settings__operators-list\"\n        id=\"operators\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.OPERATOR}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <OperatorList />\n          </>\n        )}\n      />\n      <Accordion\n        className=\"sendbird-channel-settings__members-list\"\n        id=\"members\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.MEMBERS}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__MEMBERS__TITLE}\n            </Label>\n            <Badge count={kFormatter(channel?.memberCount)} />\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <MemberList />\n          </>\n        )}\n      />\n      {\n        // No muted members in broadcast channel\n        !channel?.isBroadcast && (\n          <Accordion\n            id=\"mutedMembers\"\n            className=\"sendbird-channel-settings__muted-members-list\"\n            renderTitle={() => (\n              <>\n                <Icon\n                  type={IconTypes.MUTE}\n                  fillColor={IconColors.PRIMARY}\n                  width={24}\n                  height={24}\n                  className=\"sendbird-channel-settings__accordion-icon\"\n                />\n                <Label\n                  type={LabelTypography.SUBTITLE_1}\n                  color={LabelColors.ONBACKGROUND_1}\n                >\n                  {stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE}\n                </Label>\n              </>\n            )}\n            renderContent={() => (\n              <>\n                <MutedMemberList />\n              </>\n            )}\n          />\n        )\n      }\n      <Accordion\n        className=\"sendbird-channel-settings__banned-members-list\"\n        id=\"bannedUsers\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.BAN}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <BannedUserList />\n          </>\n        )}\n      />\n      {\n        // cannot freeze broadcast channel\n        !channel?.isBroadcast && (\n          <div className=\"sendbird-channel-settings__freeze\">\n            <Icon\n              type={IconTypes.FREEZE}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__FREEZE_CHANNEL}\n            </Label>\n            <div className=\"sendbird-channel-settings__frozen-icon\">\n              {\n                frozen\n                  ? (\n                    <Icon\n                      onClick={() => {\n                        channel?.unfreeze().then(() => {\n                          setFrozen(false);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_ON}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n                  : (\n                    <Icon\n                      onClick={() => {\n                        channel?.freeze().then(() => {\n                          setFrozen(true);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_OFF}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n              }\n            </div>\n          </div>\n        )\n      }\n    </AccordionGroup>\n  );\n}\n"],"names":["OperatorsModal","_a","onCancel","_c","useState","operators","setOperators","_d","operatorQuery","setOperatorQuery","channel","useChannelSettingsContext","state","useSendbirdStateContext","currentUserId","_b","config","userId","stringSet","useContext","LocalizationContext","useEffect","operatorListQuery","createOperatorListQuery","limit","next","then","React","Modal","CHANNEL_SETTING__OPERATORS__TITLE_ALL","e","hasNext","target","fetchMore","clientHeight","scrollTop","scrollHeight","o","__spreadArray","map","member","UserListItem","parentRef","actionRef","ContextMenu","toggleDropdown","IconButton","Icon","IconTypes","MORE","IconColors","CONTENT_INVERSE","closeDropdown","MenuItems","MenuItem","removeOperators","filter","CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR","AddOperatorsModal","onSubmit","members","setMembers","selectedMembers","setSelectedMembers","memberQuery","setMemberQuery","memberListQuery","createMemberListQuery","operatorFilter","OperatorFilter","NONOPERATOR","selectedCount","Object","keys","m","length","ButtonTypes","PRIMARY","CHANNEL_SETTING__OPERATORS__ADD_BUTTON","addOperators","CHANNEL_SETTING__MEMBERS__SELECT_TITLE","Label","LabelColors","ONBACKGROUND_3","LabelTypography","CAPTION_1","concat","MODAL__INVITE_MEMBER__SELECTED","role","event","modifiedSelectedMembers","__assign","id","checked","OperatorList","showMore","setShowMore","showAdd","setShowAdd","_e","setHasNext","refreshList","useCallback","operator","Button","SECONDARY","ButtonSizes","SMALL","CHANNEL_SETTING__OPERATORS__TITLE_ADD","BannedUsersModal","useLocalization","bannedUserListQuery","createBannedUserListQuery","users","noop","CHANNEL_SETTING__MUTED_MEMBERS__TITLE","unbanUser","CHANNEL_SETTING__MODERATION__BAN","BannedMemberList","showModal","setShowModal","bannedUserListQueryParams","CHANNEL_SETTING__MODERATION__UNBAN","SUBTITLE_2","CHANNEL_SETTING__MODERATION__EMPTY_BAN","CHANNEL_SETTING__MODERATION__ALL_BAN","MutedMembersModal","currentUser","memberUserListQuery","mutedMemberFilter","unmuteUser","CHANNEL_SETTING__MODERATION__UNMUTE","MutedMemberList","CHANNEL_SETTING__UNMUTE","CHANNEL_SETTING__NO_UNMUTED","CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL","kFormatter","num","Math","abs","toFixed","AdminPannel","frozen","setFrozen","isFrozen","AccordionGroup","Accordion","OPERATOR","SUBTITLE_1","ONBACKGROUND_1","CHANNEL_SETTING__OPERATORS__TITLE","MEMBERS","CHANNEL_SETTING__MEMBERS__TITLE","Badge","memberCount","MemberList","isBroadcast","MUTE","BAN","CHANNEL_SETTING__BANNED_MEMBERS__TITLE","BannedUserList","FREEZE","CHANNEL_SETTING__FREEZE_CHANNEL","unfreeze","TOGGLE_ON","freeze","TOGGLE_OFF"],"mappings":"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"}