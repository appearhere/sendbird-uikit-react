{"version":3,"file":"OpenChannel.js","sources":["../../src/smart-components/OpenchannelConversation/utils.ts","../../src/smart-components/OpenchannelConversation/components/MessageInpuetWrapper.tsx","../../src/smart-components/OpenchannelConversation/components/FrozenNotification.tsx","../../src/ui/OpenchannelConversationHeader/index.tsx","../../src/ui/OpenchannelUserMessage/utils.ts","../../src/utils/openChannelUtils.ts","../../src/ui/OpenchannelUserMessage/index.tsx","../../src/ui/OpenChannelAdminMessage/index.tsx","../../src/ui/OpenchannelOGMessage/utils.ts","../../src/ui/OpenchannelOGMessage/index.tsx","../../src/ui/OpenchannelThumbnailMessage/utils.ts","../../src/ui/OpenchannelThumbnailMessage/index.tsx","../../src/ui/OpenchannelFileMessage/utils.ts","../../src/ui/OpenchannelFileMessage/index.tsx","../../src/smart-components/OpenchannelConversation/components/RemoveMessageModal.tsx","../../src/ui/FileViewer/types.js","../../src/smart-components/OpenchannelConversation/components/types.ts","../../src/smart-components/OpenchannelConversation/components/MessageHOC.tsx","../../src/smart-components/OpenchannelConversation/components/OpenchannelConversationScroll.tsx","../../src/smart-components/OpenchannelConversation/dux/actionTypes.ts","../../src/smart-components/OpenchannelConversation/dux/reducers.ts","../../src/smart-components/OpenchannelConversation/dux/initialState.ts","../../src/smart-components/OpenchannelConversation/hooks/useSetChannel.ts","../../src/smart-components/OpenchannelConversation/hooks/useHandleChannelEvents.ts","../../src/smart-components/OpenchannelConversation/hooks/useInitialMessagesFetch.ts","../../src/smart-components/OpenchannelConversation/hooks/useScrollCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useCheckScrollBottom.ts","../../src/smart-components/OpenchannelConversation/hooks/useSendMessageCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useFileUploadCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useUpdateMessageCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useDeleteMessageCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useResendMessageCallback.ts","../../src/smart-components/OpenchannelConversation/hooks/useTrimMessageList.ts","../../src/smart-components/OpenchannelConversation/index.tsx"],"sourcesContent":["import format from 'date-fns/format';\nimport Sendbird from 'sendbird';\nimport SendbirdUIKit from '../../index';\n\nexport const getMessageCreatedAt = (message: SendbirdUIKit.EveryMessage): string => format(message.createdAt, 'p');\n\nexport const shouldFetchMore = (messageLength: number, maxMessages: number): boolean => {\n  if (typeof maxMessages !== 'number') {\n    return true;\n  }\n\n  if (typeof maxMessages === 'number'\n    && maxMessages > messageLength\n  ) {\n    return true;\n  }\n  return false;\n}\n\nexport const scrollIntoLast = (intialTry = 0): void => {\n  const MAX_TRIES = 10;\n  const currentTry = intialTry;\n  if (currentTry > MAX_TRIES) {\n    return;\n  }\n  try {\n    const scrollDOM = document.querySelector('.sendbird-openchannel-conversation-scroll');\n    // eslint-disable-next-line no-multi-assign\n    scrollDOM.scrollTop = scrollDOM.scrollHeight;\n  } catch (error) {\n    setTimeout(() => {\n      scrollIntoLast(currentTry + 1);\n    }, 500 * currentTry);\n  }\n};\n\nexport const isSameGroup = (\n  message: SendbirdUIKit.EveryMessage,\n  comparingMessage: SendbirdUIKit.EveryMessage,\n): boolean => {\n  if (!(\n    message\n    && comparingMessage\n    && message?.messageType !== 'admin'\n    && comparingMessage?.messageType !== 'admin'\n    && message?.sender\n    && comparingMessage?.sender\n    && message?.createdAt\n    && comparingMessage?.createdAt\n    && message?.sender?.userId\n    && comparingMessage?.sender?.userId\n  )) {\n    return false\n  }\n\n  return (\n    message?.sendingStatus === comparingMessage?.sendingStatus\n    && message?.sender?.userId === comparingMessage?.sender?.userId\n    && getMessageCreatedAt(message) === getMessageCreatedAt(comparingMessage)\n  );\n};\n\nexport const compareMessagesForGrouping = (\n  prevMessage: SendbirdUIKit.EveryMessage,\n  currMessage: SendbirdUIKit.EveryMessage,\n  nextMessage: SendbirdUIKit.EveryMessage,\n): [boolean, boolean] => (\n  [\n    isSameGroup(prevMessage, currMessage),\n    isSameGroup(currMessage, nextMessage),\n  ]\n);\n\nexport const kFormatter = (num: number): string => {\n  if (Math.abs(num) > 999999) {\n    return `${(Math.abs(num) / 1000000).toFixed(1)}M`;\n  }\n\n  if (Math.abs(num) > 999) {\n    return `${(Math.abs(num) / 1000).toFixed(1)}K`;\n  }\n\n  return `${num}`;\n};\n\nexport const isOperator = (openChannel: Sendbird.OpenChannel, userId: string): boolean => {\n  const { operators } = openChannel;\n  if (operators.map(operator => operator.userId).indexOf(userId) < 0) {\n    return false;\n  }\n  return true;\n};\n\nexport const isDisabledBecauseFrozen = (openChannel: Sendbird.OpenChannel, userId: string): boolean => {\n  const { isFrozen } = openChannel;\n  return isFrozen && !isOperator(openChannel, userId);\n};\n\nexport const isDisabledBecauseMuted = (mutedParticipantIds: Array<string>, userId: string): boolean => {\n  return mutedParticipantIds.indexOf(userId) < 0;\n};\n\nexport const fetchWithListQuery = (\n  listQuery: SendbirdUIKit.UserListQuery,\n  logger: SendbirdUIKit.Logger,\n  eachQueryNextCallback: (users: Array<Sendbird.User>) => void,\n): void => {\n  const fetchList = (query) => {\n    const { hasNext } = query;\n    if (hasNext) {\n      query.next((error, users) => {\n        if (!error) {\n          eachQueryNextCallback(users);\n          fetchList(query);\n        } else {\n          logger.warning('OpenChannel | FetchUserList failed', error);\n        }\n      });\n    } else {\n      logger.info('OpenChannel | FetchUserList finished');\n    }\n  };\n  logger.info('OpenChannel | FetchUserList start', listQuery);\n  fetchList(listQuery);\n};\n\nexport const pxToNumber = (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { useContext } from 'react';\nimport Sendbird from 'sendbird';\nimport { RenderOpenChannelMessageInputProps } from '../../../index';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport MessageInput from '../../../ui/MessageInput';\n\ninterface Props {\n  channel: Sendbird.OpenChannel;\n  user: Sendbird.User;\n  disabled: boolean;\n  onSendMessage(): void;\n  onFileUpload(file_: File): void;\n  renderMessageInput?(renderProps: RenderOpenChannelMessageInputProps): JSX.Element;\n}\n\nconst MessageInputWrapper = ({\n  channel,\n  user,\n  disabled,\n  onSendMessage,\n  onFileUpload,\n  renderMessageInput,\n}: Props, ref: React.RefObject<HTMLInputElement>): JSX.Element => {\n  if (!channel) {\n    return;\n  }\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  if (renderMessageInput) {\n    return renderMessageInput({ channel, user, disabled });\n  }\n\n  return (\n    <div className=\"sendbird-openchannel-footer\">\n      <MessageInput\n        ref={ref}\n        disabled={disabled}\n        onSendMessage={onSendMessage}\n        onFileUpload={onFileUpload}\n        placeholder={(\n          disabled\n          && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED\n          // add disabled because of muted state\n        )}\n      />\n    </div>\n  );\n};\n\nexport default React.forwardRef(MessageInputWrapper);\n","import React, { useContext } from 'react';\n\nimport './frozen-notification.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelTypography } from '../../../ui/Label';\n\nconst FrozenNotification = (): JSX.Element => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-frozen-channel-notification\">\n      <Label\n        className=\"sendbird-frozen-channel-notification__text\"\n        type={LabelTypography.CAPTION_2}\n      >\n        {stringSet.CHANNEL_FROZEN}\n      </Label>\n    </div>\n  );\n}\n\nexport default FrozenNotification;\n","import React, { useContext } from 'react';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Icon, { IconColors, IconTypes } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\ninterface Props {\n  coverImage?: string;\n  title?: string;\n  subTitle?: string;\n  amIOperator?: boolean;\n  onActionClick?(): void;\n}\n\nexport default function OpenchannelConversationHeader({\n  coverImage,\n  title,\n  subTitle,\n  amIOperator,\n  onActionClick,\n}: Props): JSX.Element {\n  const { stringSet } = useContext(LocalizationContext);\n\n  return (\n    <div className=\"sendbird-openchannel-conversation-header\">\n      <div className=\"sendbird-openchannel-conversation-header__left\">\n        {\n          coverImage ? (\n            <Avatar\n              className=\"sendbird-openchannel-conversation-header__left__cover-image\"\n              src={coverImage}\n              alt=\"channel cover image\"\n              width=\"32px\"\n              height=\"32px\"\n            />\n          ) : (\n            <div\n              className=\"sendbird-openchannel-conversation-header__left__cover-image--icon\"\n              style={{ width: 32, height: 32 }}\n            >\n              <Icon\n                type={IconTypes.CHANNELS}\n                fillColor={IconColors.CONTENT}\n                width=\"18px\"\n                height=\"18px\"\n              />\n            </div>\n          )\n        }\n        <Label\n          className=\"sendbird-openchannel-conversation-header__left__title\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {title || stringSet.NO_TITLE}\n        </Label>\n        <Label\n          className=\"sendbird-openchannel-conversation-header__left__sub-title\"\n          type={LabelTypography.BODY_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {subTitle || stringSet.NO_TITLE}\n        </Label>\n      </div>\n      <div className=\"sendbird-openchannel-conversation-header__right\">\n        <IconButton\n          className=\"sendbird-openchannel-conversation-header__right__trigger\"\n          width=\"32px\"\n          height=\"32px\"\n          onClick={onActionClick}\n        >\n          <Icon\n            type={(\n              amIOperator\n              ? IconTypes.INFO\n              : IconTypes.MEMBERS\n            )}\n            fillColor={IconColors.PRIMARY}\n            width=\"24px\"\n            height=\"24px\"\n          />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","export const copyToClipboard = (text: string): boolean => {\n  // @ts-ignore: Unreachable code error\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    // @ts-ignore: Unreachable code error\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport default { copyToClipboard };\n","import Sendbird from 'sendbird';\nimport { ClientUserMessage, ClientFileMessage } from '../index';\n\nconst OpenChannelMessageStatusTypes = {\n  NONE: 'none',\n  PENDING: 'pending',\n  FAILED: 'failed',\n  CANCELED: 'canceled',\n  SUCCEEDED: 'succeeded'\n};\n\nexport const getSenderFromMessage = (message: ClientUserMessage | ClientFileMessage): Sendbird.User => {\n  return message.sender || message._sender;\n};\n\nexport const checkIsSent = (status: string): boolean => (status === OpenChannelMessageStatusTypes.SUCCEEDED);\nexport const checkIsPending = (status: string): boolean => (status === OpenChannelMessageStatusTypes.PENDING);\nexport const checkIsFailed = (status: string): boolean => (status === OpenChannelMessageStatusTypes.FAILED);\n\nexport const checkIsByMe = (message: ClientFileMessage | ClientUserMessage, userId: string): boolean => (getSenderFromMessage(message).userId === userId);\n\ninterface isFineCopyParams {\n  message: ClientUserMessage;\n  status: string;\n  userId: string;\n}\nexport const isFineCopy = ({ message }: isFineCopyParams): boolean => {\n  return (message.messageType === 'user' && message.message.length > 0);\n};\n\ninterface isFineResendParams {\n  message: ClientFileMessage | ClientUserMessage;\n  status: string;\n  userId: string;\n}\nexport const isFineResend = ({ message, status, userId }: isFineResendParams): boolean => {\n  return checkIsByMe(message, userId)\n    && checkIsFailed(status)\n    && message.isResendable\n    && message.isResendable();\n};\n\ninterface isFineEditParams {\n  message: ClientUserMessage;\n  status: string;\n  userId: string;\n}\nexport const isFineEdit = ({ message, status, userId }: isFineEditParams): boolean => {\n  return checkIsByMe(message, userId) && checkIsSent(status);\n};\n\ninterface isFineDeleteParams {\n  message: ClientFileMessage | ClientUserMessage;\n  status: string;\n  userId: string;\n}\nexport const isFineDelete = ({ message, userId }: isFineDeleteParams): boolean => {\n  return checkIsByMe(message, userId);\n};\n\ninterface showMenuTriggerParams {\n  message: ClientUserMessage | ClientFileMessage;\n  status: string;\n  userId: string;\n}\nexport const showMenuTrigger = (props: showMenuTriggerParams): boolean => {\n  const { message, status, userId } = props;\n  if (message.messageType === 'user') {\n    return (\n      isFineDelete({ message, status, userId })\n      || isFineEdit({ message, status, userId })\n      || isFineCopy({ message, status, userId })\n      || isFineResend({ message, status, userId })\n    );\n  } else {\n    return (\n      isFineDelete({ message, status, userId })\n      || isFineResend({ message, status, userId })\n    );\n  }\n};\n","import React, {\n  useMemo,\n  useContext,\n  useRef,\n  useState,\n  ReactElement,\n  useEffect,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { copyToClipboard } from './utils';\nimport uuidv4 from '../../utils/uuid';\nimport { ClientUserMessage } from '../../index';\nimport {\n  checkIsByMe,\n  checkIsPending,\n  checkIsFailed,\n  isFineCopy,\n  isFineEdit,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: ClientUserMessage;\n  userId: string;\n  disabled?: boolean;\n  showEdit(bool: boolean): void;\n  showRemove(bool: boolean): void;\n  resendMessage(message: ClientUserMessage): void;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  status: string;\n}\n\nexport default function OpenchannelUserMessage({\n  className,\n  message,\n  userId,\n  resendMessage,\n  disabled,\n  showEdit,\n  showRemove,\n  chainTop,\n  status,\n}: Props): ReactElement {\n  if (!message || message.messageType !== 'user') {\n    return null;\n  }\n\n  // hooks\n  const { stringSet, dateLocale } = useContext(LocalizationContext);\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const messageRef = useRef(null);\n  const avatarRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const [contextStyle, setContextStyle] = useState({});\n\n  // consts\n  const isByMe = checkIsByMe(message, userId);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  const MemoizedMessageText = useMemo(() => () => {\n    const splitMessage = message.message.split(/\\r/);\n    const matchedMessage = splitMessage.map((word) => (word !== '' ? word : <br />));\n    if (message.updatedAt > 0) {\n      matchedMessage.push(\n        <Label\n          key={uuidv4()}\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n          calssName=\"sendbird-openchannel-user-message-word\"\n        >\n          {` ${stringSet.MESSAGE_EDITED} `}\n        </Label>,\n      );\n    }\n    return matchedMessage;\n  }, [message, message.updatedAt]);\n\n  // place context menu top depending clientHeight of message component\n  useEffect(() => {\n    if (messageRef?.current?.clientHeight > 36) {\n      setContextStyle({ top: '8px ' });\n    } else {\n      setContextStyle({ top: '2px' });\n    }\n  }, [window.innerWidth]);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-user-message',\n      ].join(' ')}\n      ref={messageRef}\n    >\n      <div className=\"sendbird-openchannel-user-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-user-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: 0, paddingBottom: 0 }}\n                >\n                  {\n                    renderUserProfile\n                    ? (\n                      renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                      })\n                    )\n                    : (\n                      <UserProfile\n                        user={sender}\n                        onSuccess={closeDropdown}\n                        disableMessaging\n                      />\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-user-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-user-message__right__top\">\n              <Label\n                className=\"sendbird-openchannel-user-message__right__top__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-user-message__right__top__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {format(message.createdAt, 'p', { locale: dateLocale })}\n              </Label>\n            </div>\n          )\n        }\n        <div className=\"sendbird-openchannel-user-message__right__bottom\">\n          <Label\n            className=\"sendbird-openchannel-user-message__right__bottom__message\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {MemoizedMessageText()}\n          </Label>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-user-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-user-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-user-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        <div\n          className=\"sendbird-openchannel-user-message__context-menu\"\n          ref={contextMenuRef}\n          style={contextStyle}\n        >\n          <ContextMenu\n            menuTrigger={(toggleDropdown) => (\n              showMenuTrigger({ message: message, userId: userId, status: status}) && (\n                <IconButton\n                  className=\"sendbird-openchannel-user-message__context-menu--icon\"\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={() => {\n                    toggleDropdown();\n                  }}\n                >\n                  <Icon\n                    type={IconTypes.MORE}\n                    fillColor={IconColors.CONTENT_INVERSE}\n                    width=\"24px\"\n                    height=\"24px\"\n                  />\n                </IconButton>\n              )\n            )}\n            menuItems={(closeDropdown) => (\n              <MenuItems\n                parentRef={contextMenuRef}\n                parentContainRef={contextMenuRef}\n                closeDropdown={closeDropdown}\n                openLeft\n              >\n                {\n                  isFineCopy({ message: message, userId: userId, status: status }) && (\n                    <MenuItem\n                      className=\"sendbird-openchannel-user-message__context-menu__copy\"\n                      onClick={() => {\n                        copyToClipboard(message.message);\n                        closeDropdown();\n                      }}\n                    >\n                      {stringSet.CONTEXT_MENU_DROPDOWN__COPY}\n                    </MenuItem>\n                  )\n                }\n                {\n                  isFineEdit({ message: message, userId: userId, status: status }) && (\n                    <MenuItem\n                      className=\"sendbird-openchannel-user-message__context-menu__edit\"\n                      onClick={() => {\n                        if (disabled) {\n                          return;\n                        }\n                        showEdit(true);\n                        closeDropdown();\n                      }}\n                    >\n                      {stringSet.CONTEXT_MENU_DROPDOWN__EDIT}\n                    </MenuItem>\n                  )\n                }\n                {\n                  isFineResend({ message: message, userId: userId, status: status }) && (\n                    <MenuItem\n                      className=\"sendbird-openchannel-user-message__context-menu__resend\"\n                      onClick={() => {\n                        resendMessage(message);\n                        closeDropdown();\n                      }}\n                    >\n                      {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                    </MenuItem>\n                  )\n                }\n                {\n                  isFineDelete({ message: message, userId: userId, status: status }) && (\n                    <MenuItem\n                      className=\"sendbird-openchannel-user-message__context-menu__delete\"\n                      onClick={() => {\n                        if (disabled) {\n                          return;\n                        }\n                        showRemove(true);\n                        closeDropdown();\n                      }}\n                    >\n                      {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                    </MenuItem>\n                  )\n                }\n              </MenuItems>\n            )}\n          />\n        </div>\n      }\n    </div>\n  );\n}\n","import React, { ReactElement } from 'react';\nimport { ClientAdminMessage } from '../../index';\nimport './index.scss';\n\nimport Label, { LabelColors, LabelTypography } from '../Label';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: ClientAdminMessage;\n}\n\nexport default function OpenChannelAdminMessage({\n  className,\n  message,\n}: Props): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-admin-message',\n      ].join(' ')}\n    >\n      <Label\n        className=\"sendbird-openchannel-admin-message__text\"\n        type={LabelTypography.CAPTION_2}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {message.message || ''}\n      </Label>\n    </div>\n  );\n}\n","import Sendbird from 'sendbird';\n\nexport const URL_REG = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\nexport const createUrlTester = (regexp: RegExp) => (text: string): boolean => regexp.test(text);\nexport const checkOGIsEnalbed = (message: Sendbird.UserMessage): boolean => {\n  const { ogMetaData } = message;\n  if (!ogMetaData) {\n    return false;\n  }\n  const { url } = ogMetaData;\n  if (!url) {\n    return false;\n  }\n  return true;\n};\n","import React, { useState, useContext, useMemo, useRef, useEffect } from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ImageRenderer from '../ImageRenderer';\nimport LinkLabel from '../LinkLabel';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport uuidv4 from '../../utils/uuid';\nimport { copyToClipboard } from '../OpenchannelUserMessage/utils';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { checkOGIsEnalbed, createUrlTester, URL_REG } from './utils';\nimport { ClientUserMessage } from '../../index';\nimport {\n  checkIsByMe,\n  checkIsPending,\n  checkIsFailed,\n  isFineCopy,\n  isFineEdit,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface Props {\n  message: ClientUserMessage;\n  className?: string | Array<string>;\n  disabled?: boolean;\n  showEdit(bool: boolean): void;\n  showRemove(bool: boolean): void;\n  resendMessage(message: ClientUserMessage): void;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  status: string;\n  userId: string;\n}\n\nexport default function OpenchannelOGMessage({\n  message,\n  className,\n  disabled,\n  showEdit,\n  showRemove,\n  resendMessage,\n  chainTop,\n  status,\n  userId,\n}: Props): JSX.Element {\n  if (!message || message.messageType !== 'user') {\n    return null;\n  }\n\n  const { ogMetaData } = message;\n  const { defaultImage } = ogMetaData;\n\n  const { stringSet, dateLocale } = useContext(LocalizationContext);\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const [contextStyle, setContextStyle] = useState({});\n  const messageComponentRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n\n  const isUrl = createUrlTester(URL_REG);\n  const isByMe = checkIsByMe(message, userId);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  const MemoizedMessageText = useMemo(() => () => {\n    const wordClassName = 'sendbird-openchannel-og-message--word';\n    const splitMessage = message.message.split(' ');\n    const matchedMessage = splitMessage\n      .map((word) => (\n        isUrl(word)\n          ? (\n            <LinkLabel\n              key={uuidv4()}\n              className={[\n                wordClassName,\n                'sendbird-openchannel-og-message--word--link'\n              ]}\n              src={word}\n              type={LabelTypography.BODY_1}\n              color={LabelColors.PRIMARY}\n            >\n              {word}\n            </LinkLabel>\n          )\n          : (\n            <Label\n              key={uuidv4()}\n              className={wordClassName}\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {word}\n            </Label>\n          )\n      ));\n\n    if (message.updatedAt > 0) {\n      matchedMessage.push(\n        <Label\n          key={uuidv4()}\n          className={wordClassName}\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.MESSAGE_EDITED}\n        </Label>,\n      );\n    }\n\n    return matchedMessage;\n  }, [message, message.updatedAt]);\n\n  const openLink = () => {\n    if (checkOGIsEnalbed(message)) {\n      const { url } = ogMetaData;\n      window.open(url);\n    }\n  };\n\n  // place conxt menu top depending clientHeight of message component\n  useEffect(() => {\n    if (messageComponentRef?.current?.clientHeight > 36) {\n      setContextStyle({ top: '8px ' });\n    } else {\n      setContextStyle({ top: '2px' });\n    }\n  }, [window.innerWidth]);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-og-message',\n      ].join(' ')}\n      ref={messageComponentRef}\n    >\n      <div\n        className=\"sendbird-openchannel-og-message__top\"\n      >\n        <div className=\"sendbird-openchannel-og-message__top__left\">\n          {\n            !chainTop && (\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <Avatar\n                    className=\"sendbird-openchannel-og-message__top__left__avatar\"\n                    src={sender.profileUrl || ''}\n                    ref={avatarRef}\n                    width=\"28px\"\n                    height=\"28px\"\n                    onClick={() => {\n                      if (!disableUserProfile) {\n                        toggleDropdown();\n                      }\n                    }}\n                  />\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={avatarRef}\n                    parentContainRef={avatarRef}\n                    closeDropdown={closeDropdown}\n                    style={{ paddingTop: 0, paddingBottom: 0 }}\n                  >\n                    {\n                      renderUserProfile\n                        ? (\n                          renderUserProfile({\n                            user: sender,\n                            close: closeDropdown,\n                          })\n                        )\n                        : (\n                          <UserProfile\n                            user={sender}\n                            onSuccess={closeDropdown}\n                            disableMessaging\n                          />\n                        )\n                    }\n                  </MenuItems>\n                )}\n              />\n            )\n          }\n        </div>\n        <div className=\"sendbird-openchannel-og-message__top__right\">\n          {\n            !chainTop && (\n              <div className=\"sendbird-openchannel-og-message__top__right__title\">\n                <Label\n                  className=\"sendbird-openchannel-og-message__top__right__title__sender-name\"\n                  type={LabelTypography.CAPTION_2}\n                  color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n                >\n                  {\n                    sender && (\n                      sender.friendName\n                      || sender.nickname\n                      || sender.userId\n                    )\n                  }\n                </Label>\n                <Label\n                  className=\"sendbird-openchannel-og-message__top__right__title__sent-at\"\n                  type={LabelTypography.CAPTION_3}\n                  color={LabelColors.ONBACKGROUND_3}\n                >\n                  {format(message.createdAt, 'p', { locale: dateLocale })}\n                </Label>\n              </div>\n            )\n          }\n          <div className=\"sendbird-openchannel-og-message__top__right__description\">\n            <Label\n              className=\"sendbird-openchannel-og-message__top__right__description__message\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {MemoizedMessageText()}\n            </Label>\n          </div>\n        </div>\n        {\n          <div\n            className=\"sendbird-openchannel-og-message__top__context-menu\"\n            ref={contextMenuRef}\n            style={contextStyle}\n          >\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                showMenuTrigger({ message: message, userId: userId, status: status }) && (\n                  <IconButton\n                    className=\"sendbird-openchannel-og-message__top__context-menu--icon\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={() => {\n                      toggleDropdown();\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.MORE}\n                      fillColor={IconColors.CONTENT_INVERSE}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                  </IconButton>\n                )\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={contextMenuRef}\n                  parentContainRef={contextMenuRef}\n                  closeDropdown={closeDropdown}\n                  openLeft\n                >\n                  {\n                    isFineCopy({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__copy\"\n                        onClick={() => {\n                          copyToClipboard(message.message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__COPY}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineEdit({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__edit\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showEdit(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__EDIT}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineResend({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__resend\"\n                        onClick={() => {\n                          resendMessage(message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineDelete({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__delete\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showRemove(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                      </MenuItem>\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n          </div>\n        }\n      </div>\n      <div className=\"sendbird-openchannel-og-message__bottom\">\n        <div className=\"sendbird-openchannel-og-message__bottom__og-tag\">\n          {\n            ogMetaData.url && (\n              <Label\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__url\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_2}\n              >\n                {ogMetaData.url}\n              </Label>\n            )\n          }\n          {\n            ogMetaData.title && (\n              <LinkLabel\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__title\"\n                src={ogMetaData.url}\n                type={LabelTypography.SUBTITLE_2}\n                color={LabelColors.PRIMARY}\n              >\n                {\n                  ogMetaData.title\n                }\n              </LinkLabel>\n            )\n          }\n          {\n            ogMetaData.description && (\n              <Label\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__description\"\n                type={LabelTypography.BODY_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {ogMetaData.description}\n              </Label>\n            )\n          }\n          {\n            ogMetaData.url && (\n              <div\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail\"\n                role=\"button\"\n                onClick={openLink}\n                onKeyDown={openLink}\n                tabIndex={0}\n              >\n                {\n                  defaultImage && (\n                    <ImageRenderer\n                      className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image\"\n                      url={defaultImage.url || ''}\n                      alt={defaultImage.alt || ''}\n                      height=\"189px\"\n                      defaultComponent={(\n                        <div className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder\">\n                          <Icon\n                            type={IconTypes.THUMBNAIL_NONE}\n                            width=\"56px\"\n                            height=\"56px\"\n                          />\n                        </div>\n                      )}\n                    />\n                  )\n                }\n              </div>\n            )\n          }\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-og-message__top__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-og-message__top__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-og-message__top__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n","export const SUPPORTING_TYPES = {\n  IMAGE: 'IMAGE',\n  VIDEO: 'VIDEO',\n  UNSUPPORTED: 'UNSUPPORTED',\n};\n\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const getSupportingFileType = (type: string): string => {\n  if (SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.IMAGE;\n  }\n  if (SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.VIDEO;\n  }\n  return SUPPORTING_TYPES.UNSUPPORTED;\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useContext,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\nimport { SUPPORTING_TYPES, getSupportingFileType } from './utils';\nimport { ClientFileMessage } from '../../index';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ImageRenderer from '../ImageRenderer';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport {\n  checkIsByMe,\n  checkIsSent,\n  checkIsPending,\n  checkIsFailed,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: ClientFileMessage;\n  disabled: boolean;\n  userId: string;\n  status: string;\n  chainTop: boolean;\n  chainBottom: boolean;\n  onClick(bool: boolean): void,\n  showRemove(bool: boolean): void,\n  resendMessage(message: ClientFileMessage): void;\n}\n\nexport default function OpenchannelThumbnailMessage({\n  className,\n  message,\n  disabled,\n  userId,\n  status,\n  chainTop,\n  onClick,\n  showRemove,\n  resendMessage,\n}: Props): JSX.Element {\n  const {\n    type,\n    url,\n    localUrl,\n    thumbnails,\n  } = message;\n  const thumbnailUrl = (thumbnails && thumbnails.length > 0 && thumbnails[0].url) || null;\n  const { stringSet, dateLocale } = useContext(LocalizationContext);\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const [messageWidth, setMessageWidth] = useState(360);\n  const messageRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n\n  const memorizedThumbnailPlaceHolder = useMemo(() => (type) => ({ style }) => ( // eslint-disable-line\n    <div style={style}>\n      <Icon\n        type={type}\n        fillColor={IconColors.ON_BACKGROUND_2}\n        width=\"56px\"\n        height=\"56px\"\n        />\n    </div>\n  ), []);\n\n  const isByMe = checkIsByMe(message, userId);\n  const isMessageSent = checkIsSent(status);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  useEffect(() => {\n    const thumbnailWidth = messageRef?.current?.clientWidth - 80;\n    setMessageWidth(thumbnailWidth > 360 ? 360 : thumbnailWidth);\n  }, []);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-thumbnail-message',\n      ].join(' ')}\n      ref={messageRef}\n    >\n      <div className=\"sendbird-openchannel-thumbnail-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-thumbnail-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: 0, paddingBottom: 0 }}\n                >\n                  {\n                    renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-thumbnail-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {format(message.createdAt, 'p', { locale: dateLocale })}\n              </Label>\n            </div>\n          )\n        }\n        <div className=\"sendbird-openchannel-thumbnail-message__right__body\">\n          <div\n            className=\"sendbird-openchannel-thumbnail-message__right__body__wrap\"\n            role=\"button\"\n            onClick={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            onKeyDown={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            tabIndex={0}\n          >\n            <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay\" />\n            {\n              {\n                [SUPPORTING_TYPES.VIDEO]: (\n                  (url || localUrl)\n                    ? (\n                      <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\" >\n                        {\n                          (thumbnailUrl)\n                            ? (\n                              <ImageRenderer\n                                className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\"\n                                url={thumbnailUrl}\n                                width={messageWidth}\n                                height=\"270px\"\n                                alt=\"image\"\n                                placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PLAY)}\n                              />\n                            )\n                            : (\n                              <video className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video\">\n                                <source src={url || localUrl} type={type} />\n                              </video>\n                            )\n                        }\n                        <Icon\n                          className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon\"\n                          type={IconTypes.PLAY}\n                          fillColor={IconColors.ON_BACKGROUND_2}\n                          width=\"56px\"\n                          height=\"56px\"\n                        />\n                      </div>\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.IMAGE]: (\n                  (url || localUrl)\n                    ? (\n                      <ImageRenderer\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image\"\n                        url={thumbnailUrl || url || localUrl}\n                        alt=\"image\"\n                        width={messageWidth}\n                        height=\"270px\"\n                        placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PHOTO)}\n                      />\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.UNSUPPORTED]: (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown\"\n                    type={IconTypes.PHOTO}\n                    fillColor={IconColors.ON_BACKGROUND_2}\n                    width=\"56px\"\n                    height=\"56px\"\n                  />\n                ),\n              }[getSupportingFileType(type)]\n            }\n          </div>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-thumbnail-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      <div\n        className=\"sendbird-openchannel-thumbnail-message__context-menu\"\n        ref={contextMenuRef}\n      >\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            showMenuTrigger({ message, userId, status }) && (\n              <IconButton\n                className=\"sendbird-openchannel-thumbnail-message__context-menu--icon\"\n                width=\"32px\"\n                height=\"32px\"\n                onClick={toggleDropdown}\n              >\n                <Icon\n                  type={IconTypes.MORE}\n                  fillColor={IconColors.CONTENT_INVERSE}\n                  width=\"24px\"\n                  height=\"24px\"\n                />\n              </IconButton>\n            )\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={contextMenuRef}\n              parentContainRef={contextMenuRef}\n              closeDropdown={closeDropdown}\n              openLeft\n            >\n              {\n                isFineResend({ message, userId, status }) && (\n                  <MenuItem\n                    onClick={() => {\n                      resendMessage(message);\n                      closeDropdown();\n                    }}\n                  >\n                    {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                  </MenuItem>\n                )\n              }\n              {\n                isFineDelete({ message, userId, status }) && (\n                  <MenuItem\n                    onClick={() => {\n                      if (disabled) {\n                        return;\n                      }\n                      showRemove(true);\n                      closeDropdown();\n                    }}\n                  >\n                    {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                  </MenuItem>\n                )\n              }\n            </MenuItems>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n","import { IconTypes } from '../Icon';\n\nexport const checkFileType = (fileUrl: string): string => {\n  const audioFile = /(\\.mp3)$/i;\n  const gifFile = /(\\.gif)$/i;\n  if (audioFile.test(fileUrl)) {\n    return IconTypes.FILE_AUDIO;\n  }\n  if (gifFile.test(fileUrl)) {\n    return IconTypes.GIF\n  }\n  return IconTypes.FILE_DOCUMENT;\n}\n\nexport const truncate = (fullStr:string, strLen: number): string => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n","import React, { useContext, useRef } from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport TextButton from '../TextButton';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { checkFileType, truncate } from './utils';\nimport { ClientFileMessage } from '../../index';\nimport {\n  checkIsByMe,\n  checkIsPending,\n  checkIsFailed,\n  isFineDelete,\n  isFineResend,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: ClientFileMessage;\n  userId: string;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  status: string;\n  showRemove(bool: boolean): void;\n  resendMessage(message: ClientFileMessage): void;\n}\n\nexport default function OpenchannelFileMessage({\n  className,\n  message,\n  userId,\n  disabled,\n  chainTop,\n  status,\n  showRemove,\n  resendMessage,\n}: Props): JSX.Element {\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { stringSet, dateLocale } = useContext(LocalizationContext);\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n\n  const openFileUrl = () => { window.open(message.url); };\n\n  const isByMe = checkIsByMe(message, userId);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-file-message',\n      ].join(' ')}\n    >\n      <div className=\"sendbird-openchannel-file-message__left\">\n        {\n            !chainTop && (\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <Avatar\n                    className=\"sendbird-openchannel-file-message__left__avatar\"\n                    src={sender.profileUrl || ''}\n                    ref={avatarRef}\n                    width=\"28px\"\n                    height=\"28px\"\n                    onClick={() => {\n                      if (!disableUserProfile) {\n                        toggleDropdown();\n                      }\n                    }}\n                  />\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={avatarRef}\n                    parentContainRef={avatarRef}\n                    closeDropdown={closeDropdown}\n                    style={{ paddingTop: 0, paddingBottom: 0 }}\n                  >\n                    {\n                      renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                    }\n                  </MenuItems>\n                )}\n              />\n            )\n          }\n      </div>\n      <div className=\"sendbird-openchannel-file-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-file-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {format(message.createdAt, 'p', { locale: dateLocale })}\n              </Label>\n            </div>\n          )\n        }\n        <div className=\"sendbird-openchannel-file-message__right__body\">\n          {\n            checkFileType(message.url) && (\n              <Icon\n                className=\"sendbird-openchannel-file-message__right__body__icon\"\n                type={checkFileType(message.url)}\n                fillColor={IconColors.PRIMARY}\n                width=\"48px\"\n                height=\"48px\"\n              />\n            )\n          }\n          <TextButton\n            className=\"sendbird-openchannel-file-message__right__body__file-name\"\n            onClick={openFileUrl}\n          >\n            <Label\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {truncate(message.name || message.url, 40)}\n            </Label>\n          </TextButton>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-file-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-file-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-file-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      <div\n        className=\"sendbird-openchannel-file-message__context-menu\"\n        ref={contextMenuRef}\n      >\n        {\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                showMenuTrigger({ message, userId, status }) && (\n                  <IconButton\n                    className=\"sendbird-openchannel-file-message__context-menu__icon\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={toggleDropdown}\n                  >\n                    <Icon\n                      type={IconTypes.MORE}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                  </IconButton>\n                )\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={contextMenuRef}\n                  parentContainRef={contextMenuRef}\n                  closeDropdown={closeDropdown}\n                  openLeft\n                >\n                  {\n                    isFineResend({ message, userId, status }) && (\n                      <MenuItem\n                        onClick={() => {\n                          if (disabled) { return; }\n                          resendMessage(message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineDelete({ message, userId, status }) && (\n                      <MenuItem\n                        onClick={() => {\n                          if (disabled) { return; }\n                          showRemove(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                      </MenuItem>\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n        }\n      </div>\n    </div>\n  );\n}\n","import React, { useContext } from 'react'\nimport { ClientFileMessage, ClientUserMessage } from '../../..'\nimport Modal from '../../../ui/Modal';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\ninterface Props {\n  onCloseModal(): void;\n  onDeleteMessage(message: ClientUserMessage | ClientFileMessage, callback?: () => void): void;\n}\n\nexport default function RemoveMessageModal({\n  onCloseModal,\n  onDeleteMessage,\n}: Props): JSX.Element {\n  const { stringSet } = useContext(LocalizationContext);\n\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onDeleteMessage}\n      submitText=\"Delete\"\n      titleText={stringSet.MODAL__DELETE_MESSAGE__TITLE}\n    />\n  );\n}\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/svg+xml',\n    'image/webp', // not supported in IE\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const isImage = (type) => SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0;\nexport const isVideo = (type) => SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0;\nexport const isGif = (type) => type === 'image/gif';\nexport const unSupported = (type) => !(isImage(type) || isVideo(type));\n\nexport default SUPPORTED_MIMES;\n","import { EveryMessage } from '../../..';\nimport { isImage, isVideo } from '../../../ui/FileViewer/types';\n\nexport const MessageTypes = {\n  ADMIN: 'ADMIN',\n  USER: 'USER',\n  FILE: 'FILE',\n  THUMBNAIL: 'THUMBNAIL',\n  OG: 'OG',\n  UNKNOWN: 'UNKNOWN',\n};\n\nexport const SendingMessageStatus = {\n  NONE: 'none',\n  SUCCEEDED: 'succeeded',\n  FAILED: 'failed',\n  PENDING: 'pending',\n};\n\nexport const getMessageType = (message: EveryMessage): string => {\n  if ((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user') {\n    return (message.ogMetaData)\n      ? MessageTypes.OG\n      : MessageTypes.USER;\n  }\n  if (message.isAdminMessage && message.isAdminMessage()) {\n    return MessageTypes.ADMIN;\n  }\n  if (message.messageType === 'file') {\n    return (isImage(message.type) || isVideo(message.type))\n      ? MessageTypes.THUMBNAIL\n      : MessageTypes.FILE;\n  }\n  return MessageTypes.UNKNOWN;\n};\n\nexport default {\n  MessageTypes,\n  SendingMessageStatus,\n  getMessageType,\n};\n","import React, {\n  useState,\n  useRef,\n  ReactElement,\n  useMemo,\n  useContext,\n} from 'react';\n\nimport format from 'date-fns/format';\nimport * as types from '../../../index';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\n\nimport OpenChannelUserMessage from '../../../ui/OpenchannelUserMessage';\nimport OpenChannelAdminMessage from '../../../ui/OpenChannelAdminMessage';\nimport OpenChannelOGMessage from '../../../ui/OpenchannelOGMessage';\nimport OpenChannelThumbnailMessage from '../../../ui/OpenchannelThumbnailMessage';\nimport OpenChannelFileMessage from '../../../ui/OpenchannelFileMessage';\n// import UnknownMessage from '../../../ui/UnknownMessage';\n\nimport DateSeparator from '../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport MessageInput from '../../../ui/MessageInput';\nimport FileViewer from '../../../ui/FileViewer';\n\nimport RemoveMessageModal from './RemoveMessageModal';\nimport {\n  MessageTypes,\n  SendingMessageStatus,\n  getMessageType,\n} from './types';\nimport { OpenChannel } from 'sendbird';\n\ninterface Props {\n  message: types.EveryMessage;\n  userId: string;\n  disabled: boolean;\n  editDisabled: boolean;\n  hasSeparator: boolean;\n  channel: OpenChannel;\n  renderCustomMessage?: types.RenderCustomMessage,\n  deleteMessage(message: types.ClientUserMessage | types.ClientFileMessage, callback?: () => void): void;\n  updateMessage(messageId: number, text: string, callback?: () => void): void;\n  resendMessage(failedMessage: types.ClientUserMessage | types.ClientFileMessage): void;\n  status?: string;\n  chainTop: boolean;\n  chainBottom: boolean;\n}\n\nexport default function MessageHoc({\n  message,\n  userId,\n  disabled,\n  editDisabled,\n  hasSeparator,\n  channel,\n  renderCustomMessage,\n  deleteMessage,\n  updateMessage,\n  resendMessage,\n  status,\n  chainTop,\n  chainBottom,\n}: Props): ReactElement {\n  let sender: SendBird.User = null;\n  if (message.messageType !== 'admin') {\n    sender = message.sender;\n  }\n\n  const { dateLocale } = useContext(LocalizationContext);\n\n  const RenderedMessage = useMemo(() => {\n    if (renderCustomMessage) {\n      return renderCustomMessage(message, channel, chainTop, chainBottom);\n    }\n    return null;\n  }, [message, renderCustomMessage]);\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const editMessageInputRef = useRef(null);\n\n  let isByMe = false;\n\n  if (sender && message.messageType !== 'admin') {\n    // pending and failed messages are by me\n    isByMe = (userId === sender.userId)\n      || (message.requestState === SendingMessageStatus.PENDING)\n      || (message.requestState === SendingMessageStatus.FAILED);\n  }\n\n  if(RenderedMessage) {\n    return (\n      <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n        <RenderedMessage message={message} />\n      </div>\n    );\n  }\n\n  if (message.messageType === 'user' && showEdit) {\n    return (\n      <MessageInput\n        isEdit\n        disabled={editDisabled}\n        ref={editMessageInputRef}\n        name={message.messageId}\n        onSendMessage={updateMessage}\n        onCancelEdit={() => { setShowEdit(false); }}\n        value={message.message}\n      />\n    );\n  }\n\n  return (\n    <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n      {/* date-separator */}\n      {\n        hasSeparator && (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message.createdAt, 'MMMM dd, yyyy', { locale: dateLocale })}\n            </Label>\n          </DateSeparator>\n        )\n      }\n      {/* Message */}\n      {\n        {\n          [MessageTypes.ADMIN]: (() => {\n            if (message.messageType === 'admin') {\n              return (\n                <OpenChannelAdminMessage message={message} />\n              )\n            }\n          })(),\n          [MessageTypes.FILE]: (() => {\n            if (message.messageType === 'file') {\n              return (\n                <OpenChannelFileMessage\n                  message={message}\n                  disabled={disabled}\n                  userId={userId}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  status={status}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.OG]: (() => {\n            if (message.messageType === 'user') {\n              return (\n                <OpenChannelOGMessage\n                  message={message}\n                  status={status}\n                  userId={userId}\n                  showEdit={setShowEdit}\n                  disabled={disabled}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.THUMBNAIL]: (() => {\n            if (message.messageType === 'file') {\n              return (\n                <OpenChannelThumbnailMessage\n                  message={message}\n                  disabled={disabled}\n                  userId={userId}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  onClick={setShowFileViewer}\n                  status={status}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.USER]: (() => {\n            if (message.messageType === 'user') {\n              return (\n                <OpenChannelUserMessage\n                  message={message}\n                  userId={userId}\n                  disabled={disabled}\n                  showEdit={setShowEdit}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  status={status}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.UNKNOWN]: (() => {\n            return;\n            // return (\n            //   <OpenChannelUnknownMessage message={message} />\n            // );\n          })(),\n        }[getMessageType(message)]\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            onCloseModal={() => setShowRemove(false)}\n            onDeleteMessage={() => {\n              if (message.messageType !== 'admin') {\n                deleteMessage(message);\n              }\n            }}\n          />\n        )\n      }\n      {\n        (showFileViewer && message.messageType === 'file') && (\n          <FileViewer\n            onClose={() => setShowFileViewer(false)}\n            message={message}\n            onDelete={() => deleteMessage(message)}\n            isByMe={isByMe}\n          />\n        )\n      }\n      {/* {\n        !((message.isFileMessage && message.isFileMessage()) || message.messageType === 'file')\n        && !(message.isAdminMessage && message.isAdminMessage())\n        && !(((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user'))\n        && !(showFileViewer)\n        && (\n          <UnknownMessage\n            message={message}\n            status={status}\n            isByMe={isByMe}\n            showRemove={setShowRemove}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n          />\n        )\n      } */}\n    </div>\n  );\n}\n","import React, { ReactElement, useRef, useState, useMemo } from 'react';\nimport isSameDay from 'date-fns/isSameDay';\nimport {\n  ClientFileMessage,\n  ClientUserMessage,\n  EveryMessage,\n  RenderCustomMessage,\n} from '../../../index';\nimport MessageHoc from './MessageHOC';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../ui/PlaceHolder';\nimport './openchannel-conversation-scroll.scss';\nimport { compareMessagesForGrouping } from '../utils';\n\ninterface Props {\n  openchannel: SendBird.OpenChannel;\n  user: SendBird.User;\n  allMessages: Array<EveryMessage>;\n  useMessageGrouping: boolean;\n  isOnline: boolean;\n  hasMore: boolean;\n  renderCustomMessage?: RenderCustomMessage;\n  onScroll(callback?: () => void): void;\n  updateMessage(messageId: number, text: string, callback?: () => void): void;\n  deleteMessage(message: ClientUserMessage | ClientFileMessage, callback?: () => void): void;\n  resendMessage(failedMessage: ClientUserMessage | ClientFileMessage): void;\n}\n\nfunction OpenchannelConversationScroll(\n  {\n    useMessageGrouping = true,\n    openchannel,\n    user,\n    allMessages,\n    isOnline = true,\n    hasMore,\n    onScroll,\n    renderCustomMessage,\n    updateMessage,\n    deleteMessage,\n    resendMessage,\n  }: Props,\n  ref: React.RefObject<HTMLDivElement>,\n): ReactElement {\n  const scrollRef = ref || useRef(null);\n  const [showScrollDownButton, setShowScrollDownButton] = useState(false);\n\n  const handleOnScroll = (e) => {\n    const element = e.target;\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight,\n    } = element;\n    if (\n      (scrollHeight > scrollTop + clientHeight)\n      && (window.navigator.userAgent.indexOf('MSIE ') < 0) // don't show button in IE\n    ) {\n      setShowScrollDownButton(true);\n    } else {\n      setShowScrollDownButton(false);\n    }\n\n    if (!hasMore) {\n      return;\n    }\n    if (scrollTop === 0) {\n      const nodes = scrollRef.current.querySelectorAll('.sendbird-msg--scroll-ref');\n      const first = nodes && nodes[0];\n      onScroll(() => {\n        try {\n          first.scrollIntoView();\n        } catch (error) { }\n      });\n    }\n  };\n\n  const scrollToBottom = () => {\n    if (scrollRef && scrollRef.current) {\n      scrollRef.current.scrollTo(0, scrollRef.current.scrollHeight);\n      setShowScrollDownButton(false);\n    }\n  };\n\n  const hasMessage = useMemo(() => {\n    return allMessages.length > 0;\n  }, [allMessages.length]);\n\n  return (\n    <div\n      className=\"sendbird-openchannel-conversation-scroll\"\n      onScroll={handleOnScroll}\n      ref={scrollRef}\n    >\n      <div className=\"sendbird-openchannel-conversation-scroll__container\">\n        <div className=\"sendbird-openchannel-conversation-scroll__container__padding\" />\n        <div className={`sendbird-openchannel-conversation-scroll__container__item-container${hasMessage ? '' : '--no-messages'}`}>\n          {\n            hasMessage\n              ? (\n                allMessages.map((message, index) => {\n                  let status: string;\n\n                  if (message.messageType !== 'admin') {\n                    status = message.sendingStatus;\n                  }\n\n                  const previousMessage = allMessages[index - 1];\n                  const nextMessage = allMessages[index - 1];\n\n                  const previousMessageCreatedAt = previousMessage && previousMessage.createdAt;\n                  const currentCreatedAt = message.createdAt;\n                  // https://stackoverflow.com/a/41855608\n                  const hasSeparator = !(previousMessageCreatedAt && (\n                    isSameDay(currentCreatedAt, previousMessageCreatedAt)\n                  ));\n\n                  const [chainTop, chainBottom] = useMessageGrouping\n                    ? compareMessagesForGrouping(previousMessage, message, nextMessage)\n                    : [false, false];\n                  return (\n                    <MessageHoc\n                      renderCustomMessage={renderCustomMessage}\n                      channel={openchannel}\n                      key={message.messageId}\n                      message={message}\n                      status={status}\n                      userId={user.userId}\n                      disabled={!isOnline}\n                      editDisabled={openchannel.isFrozen}\n                      hasSeparator={hasSeparator}\n                      chainTop={chainTop}\n                      chainBottom={chainBottom}\n                      deleteMessage={deleteMessage}\n                      updateMessage={updateMessage}\n                      resendMessage={resendMessage}\n                    />\n                  )\n                })\n              )\n              : (\n                <PlaceHolder\n                  className=\"sendbird-openchannel-conversation-scroll__container__place-holder\"\n                  type={PlaceHolderTypes.NO_MESSAGES}\n                />\n              )\n          }\n        </div>\n        {\n          showScrollDownButton && (\n            <div\n              className=\"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button\"\n              onClick={scrollToBottom}\n              onKeyDown={scrollToBottom}\n              tabIndex={0}\n              role=\"button\"\n            >\n              <Icon\n                width=\"24px\"\n                height=\"24px\"\n                type={IconTypes.CHEVRON_DOWN}\n                fillColor={IconColors.CONTENT}\n              />\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default React.forwardRef(OpenchannelConversationScroll);\n","export const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nexport const SET_CHANNEL_INVALID = 'SET_CHANNEL_INVALID';\nexport const RESET_MESSAGES = 'RESET_MESSAGES';\nexport const GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nexport const GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nexport const GET_PREV_MESSAGES_FAIL = 'GET_PREV_MESSAGES_FAIL';\nexport const SENDING_MESSAGE_FAILED = 'SENDING_MESSAGE_FAILED';\nexport const SENDING_MESSAGE_SUCCEEDED = 'SENDING_MESSAGE_SUCCEEDED';\nexport const SENDING_MESSAGE_START = 'SENDING_MESSAGE_START';\nexport const RESENDING_MESSAGE_START = 'RESENDING_MESSAGE_START';\nexport const FETCH_PARTICIPANT_LIST = 'FETCH_PARTICIPANT_LIST';\nexport const FETCH_BANNED_USER_LIST = 'FETCH_BANNED_USER_LIST';\nexport const FETCH_MUTED_USER_LIST= 'FETCH_MUTED_USER_LIST';\nexport const TRIM_MESSAGE_LIST= 'TRIM_MESSAGE_LIST';\n\n// event handlers\nexport const ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nexport const ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nexport const ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nexport const ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\nexport const ON_OPERATOR_UPDATED = 'ON_OPERATOR_UPDATED';\nexport const ON_USER_ENTERED = 'ON_USER_ENTERED';\nexport const ON_USER_EXITED = 'ON_USER_EXITED';\nexport const ON_USER_MUTED = 'ON_USER_MUTED';\nexport const ON_USER_UNMUTED = 'ON_USER_UNMUTED';\nexport const ON_USER_BANNED = 'ON_USER_BANNED';\nexport const ON_USER_UNBANNED = 'ON_USER_UNBANNED';\nexport const ON_CHANNEL_FROZEN = 'ON_CHANNEL_FROZEN';\nexport const ON_CHANNEL_UNFROZEN = 'ON_CHANNEL_UNFROZEN';\nexport const ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\nexport const ON_META_DATA_CREATED = 'ON_META_DATA_CREATED';\nexport const ON_META_DATA_UPDATED = 'ON_META_DATA_UPDATED';\nexport const ON_META_DATA_DELETED = 'ON_META_DATA_DELETED';\nexport const ON_META_COUNTERS_CREATED = 'ON_META_COUNTERS_CREATED';\nexport const ON_META_COUNTERS_UPDATED = 'ON_META_COUNTERS_UPDATED';\nexport const ON_META_COUNTERS_DELETED = 'ON_META_COUNTERS_DELETED';\nexport const ON_MENTION_RECEIVED = 'ON_MENTION_RECEIVED';\n","import { State as initialStateInterface } from './initialState';\nimport * as actionTypes from './actionTypes';\n\nimport compareIds from '../../../utils/compareIds.js';\n\n/* eslint-disable  @typescript-eslint/no-explicit-any */\n// @ts-ignore: Unreachable code error\ninterface ActionInterface {\n  type: string;\n  payload?: any;\n}\n\nexport default function reducer(\n  state: initialStateInterface,\n  action: ActionInterface,\n): initialStateInterface {\n  switch (action.type) {\n    case actionTypes.RESET_MESSAGES: {\n      return {\n        ...state,\n        allMessages: [],\n      };\n    }\n\n    case actionTypes.SET_CURRENT_CHANNEL: {\n      const gottenChannel = action.payload;\n      const operators = gottenChannel.operators;\n      if (\n        !state.isInvalid\n        && state.currentOpenChannel\n        && state.currentOpenChannel.url\n        && (state.currentOpenChannel.url === gottenChannel.url)\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        currentOpenChannel: gottenChannel,\n        isInvalid: false,\n        operators: operators,\n        participants: operators,\n        bannedParticipantIds: [],\n        mutedParticipantIds: [],\n      };\n    }\n    case actionTypes.SET_CHANNEL_INVALID: {\n      return {\n        ...state,\n        isInvalid: true,\n      };\n    }\n    case actionTypes.GET_PREV_MESSAGES_START: {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case actionTypes.GET_PREV_MESSAGES_SUCESS:\n    case actionTypes.GET_PREV_MESSAGES_FAIL: {\n      const isFailed = (action.type === actionTypes.GET_PREV_MESSAGES_FAIL);\n      const {\n        currentOpenChannel = {},\n        messages = [],\n        hasMore,\n        lastMessageTimestamp,\n      } = action.payload;\n      const actionChannelUrl = currentOpenChannel.url;\n      const receivedMessages = isFailed ? [] : messages;\n      const _hasMore = isFailed ? false : hasMore;\n      const _lastMessageTimestamp = isFailed ? 0 : lastMessageTimestamp;\n\n      const stateChannel = state.currentOpenChannel;\n      const stateChannelUrl = stateChannel.url;\n\n      if (actionChannelUrl !== stateChannelUrl) {\n        return state;\n      }\n\n      const filteredAllMessages = state.allMessages.filter((message) => (\n        !(receivedMessages.find(({ messageId }) => compareIds(messageId, message.messageId)))\n      ));\n      return {\n        ...state,\n        loading: false,\n        initialized: true,\n        hasMore: _hasMore,\n        lastMessageTimestamp: _lastMessageTimestamp,\n        allMessages: [\n          ...receivedMessages,\n          ...filteredAllMessages,\n        ],\n      };\n    }\n    case actionTypes.SENDING_MESSAGE_START: {\n      const {\n        message,\n        channel,\n      } = action.payload;\n      if (channel.url !== state.currentOpenChannel.url) {\n        return state;\n      }\n      return {\n        ...state,\n        allMessages: [\n          ...state.allMessages,\n          { ...message },\n        ],\n      };\n    }\n    case actionTypes.SENDING_MESSAGE_SUCCEEDED: {\n      const sentMessage = action.payload;\n      const newMessages = state.allMessages.map((m) => (\n        compareIds(m.reqId, sentMessage.reqId) ? sentMessage : m\n      ));\n      return {\n        ...state,\n        allMessages: newMessages,\n      };\n    }\n    case actionTypes.SENDING_MESSAGE_FAILED: {\n      const sentMessage = action.payload;\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, sentMessage.reqId) ? sentMessage : m\n        )),\n      };\n    }\n    case actionTypes.TRIM_MESSAGE_LIST: {\n      const { allMessages } = state;\n      const experimentalMessageLimit = action.payload?.experimentalMessageLimit;\n      if (experimentalMessageLimit\n        && experimentalMessageLimit > 0\n        && allMessages?.length > experimentalMessageLimit\n      ) {\n        const sliceAt = allMessages.length - experimentalMessageLimit;\n        return {\n          ...state,\n          allMessages: allMessages.slice(sliceAt),\n        }\n      }\n      return state;\n    }\n    case actionTypes.RESENDING_MESSAGE_START: {\n      const eventedChannel = action.payload.channel;\n      const resentMessage = action.payload.message;\n      if (eventedChannel.url !== state.currentOpenChannel.url) {\n        return state;\n      }\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, resentMessage.reqId) ? resentMessage : m\n        )),\n      };\n    }\n    case actionTypes.FETCH_PARTICIPANT_LIST: {\n      const eventedChannel = action.payload.channel;\n      const fetchedParticipantList = action.payload.users;\n      if (eventedChannel.url !== state.currentOpenChannel.url) {\n        return state;\n      }\n      return {\n        ...state,\n        participants: [... state.participants, ...fetchedParticipantList],\n        // Should check duplication\n      };\n    }\n    case actionTypes.FETCH_BANNED_USER_LIST: {\n      const eventedChannel = action.payload.channel;\n      const fetchedBannedUserList = action.payload.users;\n      if (\n        (eventedChannel.url !== state.currentOpenChannel.url)\n        || !(fetchedBannedUserList.every(user => typeof user.userId === 'string'))\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        bannedParticipantIds: [\n          ... state.bannedParticipantIds,\n          ...fetchedBannedUserList.map(user => user.userId),\n        ],\n        // Should check duplication\n      };\n    }\n    case actionTypes.FETCH_MUTED_USER_LIST: {\n      const eventedChannel = action.payload.channel;\n      const fetchedMutedUserList = action.payload.users;\n      if (\n        (eventedChannel.url !== state.currentOpenChannel.url)\n        || !(fetchedMutedUserList.every(user => typeof user.userId === 'string'))\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        mutedParticipantIds: [\n          ... state.bannedParticipantIds,\n          ...fetchedMutedUserList.map(user => user.userId),\n        ],\n        // Should check duplication\n      };\n    }\n    // events\n    case actionTypes.ON_MESSAGE_RECEIVED: {\n      const eventedChannel = action.payload.channel;\n      const receivedMessage = action.payload.message;\n\n      const {\n        currentOpenChannel\n      } = state;\n\n      if (\n        !compareIds(eventedChannel.url, currentOpenChannel.url)\n        || (\n          !(state.allMessages.map(\n            (message) => message.messageId).indexOf(receivedMessage.messageId) < 0\n        ))\n      ) {\n        return state;\n      }\n\n      return {\n        ...state,\n        allMessages: [...state.allMessages, receivedMessage],\n      };\n    }\n    case actionTypes.ON_MESSAGE_UPDATED: {\n      const eventedChannel = action.payload.channel;\n      const updatedMessage = action.payload.message;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        allMessages: state.allMessages.map((message) => (\n          message.isIdentical(updatedMessage)\n            ? updatedMessage\n            : message\n        )),\n      };\n    }\n    case actionTypes.ON_MESSAGE_DELETED: {\n      const eventedChannel = action.payload.channel;\n      const deletedMessageId = action.payload.messageId;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((message) => (\n          !compareIds(message.messageId, deletedMessageId)\n        )),\n      };\n    }\n    case actionTypes.ON_MESSAGE_DELETED_BY_REQ_ID: {\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((m) => (\n          !compareIds(m.reqId, action.payload)\n        )),\n      };\n    }\n    case actionTypes.ON_OPERATOR_UPDATED: {\n      const eventedChannel = action.payload.channel;\n      const updatedOperators = action.payload.operators;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        currentOpenChannel: {\n          ...state.currentOpenChannel,\n          operators: updatedOperators,\n        },\n        operators: updatedOperators,\n      };\n    }\n    case actionTypes.ON_USER_ENTERED: {\n      const eventedChannel = action.payload.channel;\n      const enteredUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        participants: [...state.participants, enteredUser],\n      };\n    }\n    case actionTypes.ON_USER_EXITED: {\n      const eventedChannel = action.payload.channel;\n      const exitedUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        participants: state.participants.filter((participant) => (\n          !compareIds(participant.userId, exitedUser.userId)\n        )),\n      };\n    }\n    case actionTypes.ON_USER_MUTED: {\n      const eventedChannel = action.payload.channel;\n      const mutedUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (\n        !currentChannel\n        || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n        || state.mutedParticipantIds.indexOf(mutedUser.userId) >= 0\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        mutedParticipantIds: [...state.mutedParticipantIds, mutedUser.userId],\n      };\n    }\n    case actionTypes.ON_USER_UNMUTED: {\n      const eventedChannel = action.payload.channel;\n      const unmutedUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (\n        !currentChannel\n        || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n        || state.mutedParticipantIds.indexOf(unmutedUser.userId) < 0\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        mutedParticipantIds: state.mutedParticipantIds.filter(userId => userId !== unmutedUser.userId),\n      };\n    }\n    case actionTypes.ON_USER_BANNED: {\n      const eventedChannel = action.payload.channel;\n      const bannedUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (\n        !currentChannel\n        || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n        || state.bannedParticipantIds.indexOf(bannedUser.userId) >= 0\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        bannedParticipantIds: [...state.bannedParticipantIds, bannedUser.userId],\n      };\n    }\n    case actionTypes.ON_USER_UNBANNED: {\n      const eventedChannel = action.payload.channel;\n      const unbannedUser = action.payload.user;\n      const currentChannel = state.currentOpenChannel;\n      if (\n        !currentChannel\n        || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n        || state.bannedParticipantIds.indexOf(unbannedUser.userId) < 0\n      ) {\n        return state;\n      }\n      return {\n        ...state,\n        bannedParticipantIds: state.bannedParticipantIds.filter(userId => userId !== unbannedUser.userId),\n      };\n    }\n    case actionTypes.ON_CHANNEL_FROZEN: {\n      const frozenChannel = action.payload;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== frozenChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        frozen: true,\n      };\n    }\n    case actionTypes.ON_CHANNEL_UNFROZEN: {\n      const unfrozenChannel = action.payload;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== unfrozenChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        frozen: false,\n      };\n    }\n    case actionTypes.ON_CHANNEL_CHANGED: {\n      const changedChannel = action.payload;\n      const currentChannel = state.currentOpenChannel;\n      if (!currentChannel || currentChannel.url && (currentChannel.url !== changedChannel.url)) {\n        return state;\n      }\n      return {\n        ...state,\n        currentOpenChannel: changedChannel,\n      };\n    }\n    case actionTypes.ON_META_DATA_CREATED: {\n      // const eventedChannel = action.payload.channel;\n      // const createdMetaData = action.payload.metaData;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_META_DATA_UPDATED: {\n      // const eventedChannel = action.payload.channel;\n      // const updatedMetaData = action.payload.metaData;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_META_DATA_DELETED: {\n      // const eventedChannel = action.payload.channel;\n      // const deletedMetaDataKeys = action.payload.metaDataKeys;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_META_COUNTERS_CREATED: {\n      // const eventedChannel = action.payload.channel;\n      // const createdMetaCounter = action.payload.metaCounter;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_META_COUNTERS_UPDATED: {\n      // const eventedChannel = action.payload.channel;\n      // const updatedMetaCounter = action.payload.metaCounter;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_META_COUNTERS_DELETED: {\n      // const eventedChannel = action.payload.channel;\n      // const deletedMetaCounterKeys = action.payload.metaCounterKeys;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    case actionTypes.ON_MENTION_RECEIVED: {\n      // const eventedChannel = action.payload.channel;\n      // const mentionedMessage = action.payload.message;\n      // return {\n      //   ...state\n      // };\n      return state;\n    }\n    default:\n      return state;\n  }\n}\n","import Sendbird from 'sendbird';\nimport { EveryMessage } from '../../../index';\n\nexport interface State {\n  allMessages: Array<EveryMessage>;\n  loading: boolean;\n  initialized: boolean;\n  currentOpenChannel: Sendbird.OpenChannel;\n  isInvalid: boolean;\n  hasMore: boolean;\n  lastMessageTimestamp: number;\n  frozen: boolean;\n  operators: Array<Sendbird.User>;\n  participants: Array<Sendbird.User>;\n  bannedParticipantIds: Array<string | number>;\n  mutedParticipantIds: Array<string | number>;\n}\n\nconst initialState: State = {\n  allMessages: [],\n  loading: false,\n  initialized: false,\n  currentOpenChannel: null,\n  isInvalid: false,\n  hasMore: false,\n  lastMessageTimestamp: 0,\n  frozen: false,\n  operators: [],\n  participants: [],\n  bannedParticipantIds: [],\n  mutedParticipantIds: [],\n};\n\nexport default initialState;\n","import { useEffect } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\nimport * as utils from '../utils';\n\ninterface DynamicParams {\n  channelUrl: string;\n  sdkInit: boolean;\n  fetchingParticipants: boolean;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\nfunction useSetChannel(\n  { channelUrl, sdkInit, fetchingParticipants }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): void {\n  useEffect(() => {\n    if (channelUrl && sdkInit && sdk && sdk.OpenChannel) {\n      logger.info('OpenChannel | useSetChannel fetching channel', channelUrl);\n      sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n        if (!error) {\n          logger.info('OpenChannel | useSetChannel fetched channel', openChannel);\n          messagesDispatcher({\n            type: messageActionTypes.SET_CURRENT_CHANNEL,\n            payload: openChannel,\n          });\n          openChannel.enter((_, error) => {\n            if (error) {\n              logger.warning('OpenChannel | useSetChannel enter channel failed', { channelUrl, error });\n              messagesDispatcher({\n                type: messageActionTypes.SET_CHANNEL_INVALID,\n                payload: null,\n              });\n            }\n            if (fetchingParticipants) {\n              // fetch participants, banned participantIds, muted participantIds\n              const participantListQuery = openChannel.createParticipantListQuery();\n              const bannedParticipantListQuery = openChannel.createBannedUserListQuery();\n              const mutedParticipantListQuery = openChannel.createMutedUserListQuery();\n              utils.fetchWithListQuery(\n                participantListQuery,\n                logger,\n                (users) => {\n                  messagesDispatcher({\n                    type: messageActionTypes.FETCH_PARTICIPANT_LIST,\n                    payload: {\n                      channel: openChannel,\n                      users,\n                    },\n                  });\n                },\n              );\n              utils.fetchWithListQuery(\n                bannedParticipantListQuery,\n                logger,\n                (users) => {\n                  messagesDispatcher({\n                    type: messageActionTypes.FETCH_BANNED_USER_LIST,\n                    payload: {\n                      channel: openChannel,\n                      users,\n                    },\n                  });\n                },\n              );\n              utils.fetchWithListQuery(\n                mutedParticipantListQuery,\n                logger,\n                (users) => {\n                  messagesDispatcher({\n                    type: messageActionTypes.FETCH_MUTED_USER_LIST,\n                    payload: {\n                      channel: openChannel,\n                      users,\n                    },\n                  });\n                },\n              );\n            }\n          });\n        } else {\n          logger.warning('OpenChannel | useSetChannel fetching channel failed', { channelUrl, error });\n          messagesDispatcher({\n            type: messageActionTypes.SET_CHANNEL_INVALID,\n            payload: null,\n          });\n        }\n      });\n      // .then((openChannel) => {\n      //   logger.info('OpenChannel | useSetChannel fetched channel', openChannel);\n      //   messagesDispatcher({\n      //     type: messageActionTypes.SET_CURRENT_CHANNEL,\n      //     payload: openChannel,\n      //   });\n      //   openChannel.enter((_, error) => {\n      //     if (error) {\n      //       logger.warning('OpenChannel | useSetChannel enter channel failed', { channelUrl, error });\n      //       messagesDispatcher({\n      //         type: messageActionTypes.SET_CHANNEL_INVALID,\n      //       });\n      //     }\n      //     if (fetchingParticipants) {\n      //       // fetch participants, banned participantIds, muted participantIds\n      //       const participantListQuery = openChannel.createParticipantListQuery();\n      //       const bannedParticipantListQuery = openChannel.createBannedUserListQuery();\n      //       const mutedParticipantListQuery = openChannel.createMutedUserListQuery();\n      //       utils.fetchWithListQuery(\n      //         participantListQuery,\n      //         logger,\n      //         (users) => {\n      //           messagesDispatcher({\n      //             type: messageActionTypes.FETCH_PARTICIPANT_LIST,\n      //             payload: {\n      //               channel: openChannel,\n      //               users,\n      //             },\n      //           });\n      //         },\n      //       );\n      //       utils.fetchWithListQuery(\n      //         bannedParticipantListQuery,\n      //         logger,\n      //         (users) => {\n      //           messagesDispatcher({\n      //             type: messageActionTypes.FETCH_BANNED_USER_LIST,\n      //             payload: {\n      //               channel: openChannel,\n      //               users,\n      //             },\n      //           });\n      //         },\n      //       );\n      //       utils.fetchWithListQuery(\n      //         mutedParticipantListQuery,\n      //         logger,\n      //         (users) => {\n      //           messagesDispatcher({\n      //             type: messageActionTypes.FETCH_MUTED_USER_LIST,\n      //             payload: {\n      //               channel: openChannel,\n      //               users,\n      //             },\n      //           });\n      //         },\n      //       );\n      //     }\n      //   });\n      // })\n      // .catch((error) => {\n      //   logger.warning('OpenChannel | useSetChannel fetching channel failed', { channelUrl, error });\n      //   messagesDispatcher({\n      //     type: messageActionTypes.SET_CHANNEL_INVALID,\n      //   });\n      // });\n    }\n  }, [channelUrl, sdkInit, fetchingParticipants]);\n}\n\nexport default useSetChannel;\n","import { useEffect } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\nimport uuidv4 from '../../../utils/uuid';\nimport { scrollIntoLast } from '../utils';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  checkScrollBottom: () => boolean;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\nfunction useHandleChannelEvents(\n  { currentOpenChannel, checkScrollBottom }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): void {\n  useEffect(() => {\n    const messageReceiverId = uuidv4();\n    if (currentOpenChannel && currentOpenChannel.url && sdk && sdk.ChannelHandler) {\n      const ChannelHandler = new sdk.ChannelHandler();\n      logger.info('OpenChannel | useHandleChannelEvents: Setup evnet handler', messageReceiverId);\n\n      ChannelHandler.onMessageReceived = (channel, message) => {\n        const scrollToEnd = checkScrollBottom();\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMessageReceived', { channelUrl, message });\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_RECEIVED,\n          payload: { channel, message },\n        });\n        if (scrollToEnd) {\n          try {\n            setTimeout(() => {\n              scrollIntoLast();\n            });\n          } catch (error) {\n            logger.warning('OpenChannel | onMessageReceived | scroll to end failed');\n          }\n        }\n      };\n      ChannelHandler.onMessageUpdated = (channel, message) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMessageUpdated', { channelUrl, message });\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_UPDATED,\n          payload: { channel, message },\n        });\n      };\n      ChannelHandler.onMessageDeleted = (channel, messageId) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMessageDeleted', { channelUrl, messageId });\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_DELETED,\n          payload: { channel, messageId },\n        });\n      };\n      ChannelHandler.onOperatorUpdated = (channel, operators) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onOperatorUpdated', { channelUrl, operators });\n        messagesDispatcher({\n          type: messageActionTypes.ON_OPERATOR_UPDATED,\n          payload: { channel, operators },\n        });\n      };\n      ChannelHandler.onUserEntered = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserEntered', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_ENTERED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onUserExited = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserExited', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_EXITED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onUserMuted = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserMuted', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_MUTED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onUserUnmuted = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserUnmuted', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_UNMUTED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onUserBanned = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserBanned', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_BANNED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onUserUnbanned = (channel, user) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onUserUnbanned', { channelUrl, user });\n        messagesDispatcher({\n          type: messageActionTypes.ON_USER_UNBANNED,\n          payload: { channel, user },\n        });\n      };\n      ChannelHandler.onChannelFrozen = (channel) => {\n        logger.info('OpenChannel | useHandleChannelEvents: onChannelFrozen', channel);\n        messagesDispatcher({\n          type: messageActionTypes.ON_CHANNEL_FROZEN,\n          payload: channel,\n        });\n      };\n      ChannelHandler.onChannelUnfrozen = (channel) => {\n        logger.info('OpenChannel | useHandleChannelEvents: onChannelUnfrozen', channel);\n        messagesDispatcher({\n          type: messageActionTypes.ON_CHANNEL_UNFROZEN,\n          payload: channel,\n        });\n      };\n      ChannelHandler.onChannelChanged = (channel) => {\n        logger.info('OpenChannel | useHandleChannelEvents: onChannelChanged', channel);\n        messagesDispatcher({\n          type: messageActionTypes.ON_CHANNEL_CHANGED,\n          payload: channel,\n        });\n      };\n      ChannelHandler.onMetaDataCreated = (channel, metaData) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaDataCreated', { channelUrl, metaData });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_DATA_CREATED,\n          payload: { channel, metaData },\n        });\n      };\n      ChannelHandler.onMetaDataUpdated = (channel, metaData) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaDataUpdated', { channelUrl, metaData });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_DATA_UPDATED,\n          payload: { channel, metaData },\n        });\n      };\n      ChannelHandler.onMetaDataDeleted = (channel, metaDataKeys) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaDataDeleted', { channelUrl, metaDataKeys });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_DATA_DELETED,\n          payload: { channel, metaDataKeys },\n        });\n      };\n      ChannelHandler.onMetaCountersCreated = (channel, metaCounter) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersCreated', { channelUrl, metaCounter });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_COUNTERS_CREATED,\n          payload: { channel, metaCounter },\n        });\n      };\n      ChannelHandler.onMetaCountersUpdated = (channel, metaCounter) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersUpdated', { channelUrl, metaCounter });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_COUNTERS_UPDATED,\n          payload: { channel, metaCounter },\n        });\n      };\n      ChannelHandler.onMetaCountersDeleted = (channel, metaCounterKeys) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersDeleted', { channelUrl, metaCounterKeys });\n        messagesDispatcher({\n          type: messageActionTypes.ON_META_COUNTERS_DELETED,\n          payload: { channel, metaCounterKeys },\n        });\n      };\n      ChannelHandler.onMentionReceived = (channel, message) => {\n        const channelUrl = channel.url;\n        logger.info('OpenChannel | useHandleChannelEvents: onMentionReceived', { channelUrl, message });\n        messagesDispatcher({\n          type: messageActionTypes.ON_MENTION_RECEIVED,\n          payload: { channel, message },\n        });\n      };\n\n      sdk.addChannelHandler(messageReceiverId, ChannelHandler);\n    }\n\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        logger.info('OpenChannel | useHandleChannelEvents: Removing message receiver handler', messageReceiverId);\n        sdk.removeChannelHandler(messageReceiverId);\n      }\n    }\n  }, [currentOpenChannel]);\n}\n\nexport default useHandleChannelEvents;\n","import { useEffect } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\nimport { scrollIntoLast } from '../utils';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  /* eslint-disable @typescript-eslint/no-explicit-any*/\n  userFilledMessageListParams?: Record<string, any>;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\nfunction useInitialMessagesFetch(\n  { currentOpenChannel, userFilledMessageListParams }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): void {\n  useEffect(() => {\n    logger.info('OpenChannel | useInitialMessagesFetch: Setup started', currentOpenChannel);\n    messagesDispatcher({\n      type: messageActionTypes.RESET_MESSAGES,\n      payload: null,\n    });\n\n    if (sdk && sdk.MessageListParams && currentOpenChannel && currentOpenChannel.getMessagesByTimestamp) {\n      const messageListParams = new sdk.MessageListParams();\n      messageListParams.prevResultSize = 30;\n      messageListParams.isInclusive = true;\n      messageListParams.includeReplies = false;\n      messageListParams.includeReactions = false;\n      if (userFilledMessageListParams) {\n        Object.keys(userFilledMessageListParams).forEach((key) => {\n          messageListParams[key] = userFilledMessageListParams[key];\n        });\n        logger.info('OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams');\n      }\n\n      logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages', { currentOpenChannel, messageListParams });\n      messagesDispatcher({\n        type: messageActionTypes.GET_PREV_MESSAGES_START,\n        payload: null,\n      });\n      currentOpenChannel.getMessagesByTimestamp(new Date().getTime(), messageListParams, (messages, error) => {\n        if (!error) {\n          logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages succeeded', messages);\n          const hasMore = (messages && messages.length > 0);\n          const lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              currentOpenChannel,\n              messages,\n              hasMore,\n              lastMessageTimestamp,\n            },\n          });\n          setTimeout(() => { scrollIntoLast(); });\n        } else {\n          logger.error('OpenChannel | useInitialMessagesFetch: Fetching messages failed', error);\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_FAIL,\n            payload: {\n              currentOpenChannel,\n              messages: [],\n              hasMore: false,\n              lastMessageTimestamp: 0,\n            },\n          });\n        }\n      });\n    }\n  }, [currentOpenChannel, userFilledMessageListParams]);\n}\n\nexport default useInitialMessagesFetch;\n","import { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  lastMessageTimestamp: number;\n  fetchMore?: boolean;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n  hasMore: boolean;\n  /* eslint-disable @typescript-eslint/no-explicit-any*/\n  userFilledMessageListParams?: Record<string, any>;\n}\ntype CallbackReturn = (callback: () => void) => void;\n\nfunction useScrollCallback(\n  { currentOpenChannel, lastMessageTimestamp, fetchMore }: DynamicParams,\n  { sdk, logger, messagesDispatcher, hasMore, userFilledMessageListParams }: StaticParams,\n): CallbackReturn {\n  return useCallback((callback) => {\n    if (fetchMore && hasMore && sdk && sdk.MessageListParams) {\n      logger.info('OpenChannel | useScrollCallback: start');\n      const messageListParams = new sdk.MessageListParams();\n      messageListParams.prevResultSize = 30;\n      messageListParams.includeReplies = false;\n      messageListParams.includeReactions = false;\n\n      if (userFilledMessageListParams) {\n        Object.keys(userFilledMessageListParams).forEach((key) => {\n          messageListParams[key] = userFilledMessageListParams[key];\n        });\n        logger.info('OpenChannel | useScrollCallback: Used userFilledMessageListParams', userFilledMessageListParams);\n      }\n\n      logger.info('OpenChannel | useScrollCallback: Fetching messages', { currentOpenChannel, messageListParams });\n\n      currentOpenChannel.getMessagesByTimestamp(lastMessageTimestamp || new Date().getTime(), messageListParams, (messages, error) => {\n        if (!error) {\n          logger.info('OpenChannel | useScrollCallback: Fetching messages succeeded', messages);\n          const hasMore = (messages && messages.length > 0);\n          const lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              currentOpenChannel,\n              messages,\n              hasMore,\n              lastMessageTimestamp,\n            }\n          });\n          setTimeout(() => {\n            callback();\n          });\n        } else {\n          logger.error('OpenChannel | useScrollCallback: Fetching messages failed', error);\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_FAIL,\n            payload: {\n              currentOpenChannel,\n              messages: [],\n              hasMore: false,\n              lastMessageTimestamp: 0,\n            }\n          });\n        }\n      });\n    }\n  }, [currentOpenChannel, lastMessageTimestamp, fetchMore]);\n}\n\nexport default useScrollCallback;\n","import { useCallback } from 'react';\n\ninterface DynamicParams {\n  conversationScrollRef: React.RefObject<HTMLDivElement>;\n}\ninterface StaticParams {\n  logger: SendbirdUIKit.Logger;\n}\n\nfunction useCheckScrollBottom(\n  { conversationScrollRef }: DynamicParams,\n  { logger }: StaticParams,\n): () => boolean {\n  return useCallback(() => {\n    let isBottom = true;\n    if (conversationScrollRef) {\n      try {\n        const conversationScroll = conversationScrollRef.current;\n        isBottom = conversationScroll.scrollHeight <= conversationScroll.scrollTop + conversationScroll.clientHeight;\n      } catch(error) {\n        logger.error('OpenChannel | useCheckScrollBottom', error);\n      }\n    }\n    return isBottom;\n  }, [conversationScrollRef])\n}\n\nexport default useCheckScrollBottom;\n","import Sendbird from 'sendbird';\nimport { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\nimport * as utils from '../utils';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  onBeforeSendUserMessage: (text: string) => Sendbird.UserMessageParams;\n  checkScrollBottom: () => boolean;\n  messageInputRef: React.RefObject<HTMLInputElement>;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\nfunction useSendMessageCallback(\n  { currentOpenChannel, onBeforeSendUserMessage, checkScrollBottom, messageInputRef }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): () => void {\n  return useCallback(() => {\n    if (sdk && sdk.UserMessageParams) {\n      const text = messageInputRef.current.value;\n      const createParamsDefault = (txt: string | number): Sendbird.UserMessageParams => {\n        const message = typeof txt === 'string' ? txt.trim() : txt.toString(10).trim();\n        const params = new sdk.UserMessageParams();\n        params.message = message;\n        return params;\n      }\n      const createCustomParams = onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function';\n      if (createCustomParams) {\n        logger.info('OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n      }\n      const params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text) : createParamsDefault(text);\n      logger.info('OpenChannel | useSendMessageCallback: Sending message has started', params);\n\n      const isBottom = checkScrollBottom();\n      const pendingMessage = currentOpenChannel.sendUserMessage(params, (message, error) => {\n        if (!error) {\n          logger.info('OpenChannel | useSendMessageCallback: Sending message succeeded', message);\n          messagesDispatcher({\n            type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n            payload: message,\n          });\n          if (isBottom) {\n            setTimeout(() => {\n              utils.scrollIntoLast();\n            });\n          }\n        } else {\n          logger.warning('OpenChannel | useSendMessageCallback: Sending message failed', error);\n          messagesDispatcher({\n            type: messageActionTypes.SENDING_MESSAGE_FAILED,\n            payload: messageActionTypes,\n          });\n        }\n      });\n      messagesDispatcher({\n        type: messageActionTypes.SENDING_MESSAGE_START,\n        payload: {\n          message: pendingMessage,\n          channel: currentOpenChannel,\n        }\n      });\n    }\n  }, [currentOpenChannel, onBeforeSendUserMessage, checkScrollBottom, messageInputRef]);\n}\n\nexport default useSendMessageCallback;\n","import Sendbird from 'sendbird';\nimport { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\nimport * as utils from '../utils';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  onBeforeSendFileMessage: (file: File) => Sendbird.FileMessageParams;\n  checkScrollBottom: () => boolean;\n  imageCompression?: {\n    compressionRate?: number,\n    resizingWidth?: number | string,\n    resizingHeight?: number | string,\n  };\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\ntype CallbackReturn = (file: File) => void;\n\nfunction useFileUploadCallback(\n  {\n    currentOpenChannel,\n    checkScrollBottom,\n    imageCompression = {},\n    onBeforeSendFileMessage,\n  }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): CallbackReturn {\n  return useCallback((file) => {\n    if (sdk && sdk.FileMessageParams) {\n      const {\n        compressionRate,\n        resizingWidth,\n        resizingHeight,\n      } = imageCompression;\n      const createCustomParams = onBeforeSendFileMessage && typeof onBeforeSendFileMessage === 'function';\n\n      const compressibleFileType = (file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg');\n      const compressibleRatio = (compressionRate > 0) && (compressionRate < 1);\n      // pxToNumber returns null if values are invalid\n      const compressibleDiamensions = utils.pxToNumber(resizingWidth)\n        || utils.pxToNumber(resizingHeight);\n\n      const canCompressImage = compressibleFileType && (compressibleRatio || compressibleDiamensions);\n\n      const createParamsDefault = (file_): Sendbird.FileMessageParams => {\n        const params = new sdk.FileMessageParams();\n        params.file = file_;\n        return params;\n      };\n\n      if (canCompressImage) { // Using image compression\n        try {\n          const image: HTMLImageElement = document.createElement('img');\n          image.src = URL.createObjectURL(file);\n          image.onload = () => {\n            URL.revokeObjectURL(image.src);\n            const canvas = document.createElement('canvas');\n            const imageWidth = image.naturalWidth || image.width;\n            const imageHeight = image.naturalHeight || image.height;\n            let targetWidth = utils.pxToNumber(resizingWidth) || imageWidth;\n            let targetHeight = utils.pxToNumber(resizingHeight) || imageHeight;\n\n            // In canvas.toBlob(callback, mimeType, qualityArgument)\n            // qualityArgument doesnt work\n            // so in case compressibleDiamensions are not present, we use ratio\n            if (file.type === 'image/png' && !compressibleDiamensions) {\n              targetWidth *= compressionRate;\n              targetHeight *= compressionRate;\n            }\n\n            canvas.width = targetWidth;\n            canvas.height = targetHeight;\n            const context = canvas.getContext('2d');\n            context.drawImage(image, 0, 0, targetWidth, targetHeight);\n            context.canvas.toBlob(\n              (newImageBlob) => {\n                const compressedFile = new File([newImageBlob], file.name, { type: file.type });\n                if (createCustomParams) {\n                  logger.info('OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage', onBeforeSendFileMessage);\n                }\n                const params = onBeforeSendFileMessage ? onBeforeSendFileMessage(compressedFile) : createParamsDefault(compressedFile);\n                logger.info('OpenChannel | useFileUploadCallback: Uploading file message start', params);\n\n                const isBottom = checkScrollBottom();\n                const pendingMessage = currentOpenChannel.sendFileMessage(\n                  params,\n                  (message: SendbirdUIKit.ClientFileMessage, error) => {\n                    if (!error) {\n                      logger.info('OpenChannel | useFileUploadCallback: Sending message succeeded', message);\n                      messagesDispatcher({\n                        type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n                        payload: message,\n                      });\n                      if (isBottom) {\n                        setTimeout(() => {\n                          utils.scrollIntoLast();\n                        });\n                      }\n                    } else {\n                      logger.error('OpenChannel | useFileUploadCallback: Sending file message failed', { message, error });\n                      message.localUrl = URL.createObjectURL(file);\n                      message.file = file;\n                      messagesDispatcher({\n                        type: messageActionTypes.SENDING_MESSAGE_FAILED,\n                        payload: message,\n                      });\n                    }\n                  },\n                );\n\n                messagesDispatcher({\n                  type: messageActionTypes.SENDING_MESSAGE_START,\n                  payload: {\n                    message: {\n                      ...pendingMessage,\n                      url: URL.createObjectURL(file),\n                      // pending thumbnail message seems to be failed\n                      requestState: 'pending',\n                    },\n                    channel: currentOpenChannel,\n                  }\n                });\n              },\n              file.type,\n              compressionRate,\n            );\n          }\n        } catch (error) {\n          logger.warning('OpenChannel | useFileUploadCallback: Sending file message with image compression failed', error);\n        }\n      } else { // Not using image compression\n        if (createCustomParams) {\n          logger.info('OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage', onBeforeSendFileMessage);\n        }\n        const params = onBeforeSendFileMessage ? onBeforeSendFileMessage(file) : createParamsDefault(file);\n        logger.info('OpenChannel | useFileUploadCallback: Uploading file message start', params);\n\n        const isBottom = checkScrollBottom();\n        const pendingMessage = currentOpenChannel.sendFileMessage(\n          params,\n          (message: SendbirdUIKit.ClientFileMessage, error) => {\n            if (!error) {\n              logger.info('OpenChannel | useFileUploadCallback: Sending message succeeded', message);\n              messagesDispatcher({\n                type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n                payload: message,\n              });\n              if (isBottom) {\n                setTimeout(() => {\n                  utils.scrollIntoLast();\n                });\n              }\n            } else {\n              logger.error('OpenChannel | useFileUploadCallback: Sending file message failed', { message, error });\n              message.localUrl = URL.createObjectURL(file);\n              message.file = file;\n              messagesDispatcher({\n                type: messageActionTypes.SENDING_MESSAGE_FAILED,\n                payload: message,\n              });\n            }\n          }\n        );\n\n        messagesDispatcher({\n          type: messageActionTypes.SENDING_MESSAGE_START,\n          payload: {\n            message: {\n              ...pendingMessage,\n              url: URL.createObjectURL(file),\n              // pending thumbnail message seems to be failed\n              requestState: 'pending',\n            },\n            channel: currentOpenChannel,\n          }\n        });\n      }\n    }\n  }, [currentOpenChannel, onBeforeSendFileMessage, checkScrollBottom, imageCompression]);\n}\n\nexport default useFileUploadCallback;\n","import Sendbird from 'sendbird';\nimport { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n  onBeforeSendUserMessage?: (text) => Sendbird.UserMessageParams;\n}\ninterface StaticParams {\n  sdk: SendbirdUIKit.Sdk;\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload :any }) => void;\n}\ntype CallbackReturn = (messageId, text, callback) => void;\n\nfunction useUpdateMessageCallback(\n  { currentOpenChannel, onBeforeSendUserMessage }: DynamicParams,\n  { sdk, logger, messagesDispatcher }: StaticParams,\n): CallbackReturn {\n  return useCallback((messageId, text, callback) => {\n    const createParamsDefault = (txt) => {\n      const params = new sdk.UserMessageParams();\n      params.message = txt;\n      return params;\n    };\n\n    if (onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function') {\n      logger.info('OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage');\n    }\n    const params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text) : createParamsDefault(text);\n    currentOpenChannel.updateUserMessage(messageId, params, (message, error) => {\n      if (callback) {\n        callback();\n      }\n      if (!error) {\n        logger.info('OpenChannel | useUpdateMessageCallback: Updating message succeeded', { message, params });\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_UPDATED,\n          payload: {\n            channel: currentOpenChannel,\n            message,\n          },\n        });\n      } else {\n        logger.warning('OpenChannel | useUpdateMessageCallback: Updating message failed', error);\n      }\n    });\n  }, [currentOpenChannel, onBeforeSendUserMessage]);\n}\n\nexport default useUpdateMessageCallback;\n","import { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n}\ninterface StaticParams {\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\n\ntype CallbackReturn = (\n  message: SendbirdUIKit.ClientUserMessage | SendbirdUIKit.ClientFileMessage,\n  callback?: () => void,\n) => void;\n\nfunction useDeleteMessageCallback(\n  { currentOpenChannel }: DynamicParams,\n  { logger, messagesDispatcher }: StaticParams,\n): CallbackReturn {\n  return useCallback((message, callback) => {\n    logger.info('OpenChannel | useDeleteMessageCallback: Deleting message', message);\n    const { sendingStatus } = message;\n    logger.info('OpenChannel | useDeleteMessageCallback: Deleting message requestState', sendingStatus);\n\n    if (sendingStatus === 'failed' || sendingStatus === 'pending') {\n      logger.info('OpenChannel | useDeleteMessageCallback: Deleted message from local', message);\n      messagesDispatcher({\n        type: messageActionTypes.ON_MESSAGE_DELETED_BY_REQ_ID,\n        payload: message.reqId,\n      });\n      if (callback) {\n        callback();\n      }\n    } else {\n      if (!(message.messageType ==='file' || message.messageType === 'user')) {\n        return;\n      }\n      const messageToDelete = message as SendBird.UserMessage;\n      currentOpenChannel.deleteMessage(messageToDelete, (error) => {\n        logger.info('OpenChannel | useDeleteMessageCallback: Deleting message on server', sendingStatus);\n        if (callback) {\n          callback();\n        }\n        if (!error) {\n          logger.info('OpenChannel | useDeleteMessageCallback: Deleting message succeeded', message);\n          messagesDispatcher({\n            type: messageActionTypes.ON_MESSAGE_DELETED,\n            payload: {\n              channel: currentOpenChannel,\n              messageId: message.messageId,\n            },\n          });\n        } else {\n          logger.warning('OpenChannel | useDeleteMessageCallback: Deleting message failed', error);\n        }\n      });\n    }\n  }, [currentOpenChannel]);\n}\n\nexport default useDeleteMessageCallback;\n","import { useCallback } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\n\ninterface DynamicParams {\n  currentOpenChannel: SendbirdUIKit.OpenChannelType;\n}\ninterface StaticParams {\n  logger: SendbirdUIKit.Logger;\n  messagesDispatcher: ({ type: string, payload: any }) => void;\n}\ntype CallbackReturn = (failedMessage: SendbirdUIKit.ClientUserMessage | SendbirdUIKit.ClientFileMessage) => void;\n\nfunction useResendMessageCallback(\n  { currentOpenChannel }: DynamicParams,\n  { logger, messagesDispatcher }: StaticParams,\n): CallbackReturn {\n  return useCallback((failedMessage) => {\n    logger.info('OpenChannel | useResendMessageCallback: Resending message has started', failedMessage);\n    const { messageType, file } = failedMessage;\n    if (failedMessage && typeof failedMessage.isResendable === 'function' && failedMessage.isResendable()) {\n      // eslint-disable-next-line no-param-reassign\n      failedMessage.requestState = 'pending';\n      messagesDispatcher({\n        type: messageActionTypes.RESENDING_MESSAGE_START,\n        payload: {\n          channel: currentOpenChannel,\n          message: failedMessage,\n        },\n      });\n\n      // userMessage\n      if (messageType === 'user' && failedMessage.messageType === 'user') {\n        currentOpenChannel.resendUserMessage(failedMessage, (message, error) => {\n          if (!error) {\n            logger.info('OpenChannel | useResendMessageCallback: Reseding message succeeded', message);\n            messagesDispatcher({\n              type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n              payload: message,\n            });\n          } else {\n            logger.warning('OpenChannel | useResendMessageCallback: Resending message failed', error);\n            // eslint-disable-next-line no-param-reassign\n            failedMessage.requestState = 'failed';\n            messagesDispatcher({\n              type: messageActionTypes.SENDING_MESSAGE_FAILED,\n              payload: failedMessage,\n            });\n          }\n        });\n        return;\n      }\n\n      // fileMessage\n      if (messageType === 'file' && failedMessage.messageType === 'file') {\n        currentOpenChannel.resendFileMessage(failedMessage, file, (message, error) => {\n          if (!error) {\n            logger.info('OpenChannel | useResendMessageCallback: Resending file message succeeded', message);\n            messagesDispatcher({\n              type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n              payload: message,\n            });\n          } else {\n            logger.warning('OpenChannel | useResendMessageCallback: Resending file message failed', error);\n            // eslint-disable-next-line no-param-reassign\n            failedMessage.requestState = 'failed';\n            messagesDispatcher({\n              type: messageActionTypes.SENDING_MESSAGE_FAILED,\n              payload: failedMessage,\n            });\n          }\n        });\n      }\n    } else {\n      // to alert user on console\n      // eslint-disable-next-line no-console\n      console.error('OpenChannel | useResendMessageCallback: Message is not resendable');\n      logger.warning('OpenChannel | useResendMessageCallback: Message is not resendable', failedMessage);\n    }\n  }, [currentOpenChannel]);\n}\n\nexport default useResendMessageCallback;\n","import { useEffect, useState } from 'react';\nimport * as messageActionTypes from '../dux/actionTypes';\n\ninterface DynamicParams {\n  messagesLength: number;\n  experimentalMessageLimit: number;\n}\n\ninterface StaticParams {\n  messagesDispatcher: ({\n    type: string,\n    payload: { experimentalMessageLimit: number }\n  }) => void;\n  logger: SendbirdUIKit.Logger;\n}\n\nconst THROTTLE_TIMER = 5000;\n\n// to trim message list so that we wont keep thousands of messages in memory\n// We are throttling here; not debouncing\n// it will be called once very 5 sec if messagesLength, experimentalMessageLimit changes\n// we check if messagesLength > experimentalMessageLimit before dispatching action\nfunction useTrimMessageList(\n  { messagesLength, experimentalMessageLimit }: DynamicParams,\n  { messagesDispatcher, logger }: StaticParams,\n): void {\n  const [inProgress, setInProgress] = useState(false);\n  useEffect(() => {\n    if (inProgress) {\n      return;\n    }\n    if (typeof messagesLength === 'number' && messagesLength > experimentalMessageLimit) {\n      logger.info('Trimming MessageList');\n      messagesDispatcher({\n        type: messageActionTypes.TRIM_MESSAGE_LIST,\n        payload: { experimentalMessageLimit },\n      });\n    }\n    setInProgress(true);\n    setTimeout(() => { setInProgress(false); }, THROTTLE_TIMER);\n  }, [messagesLength, experimentalMessageLimit]);\n}\n\nexport default useTrimMessageList;\n","import React, {\n  useRef,\n  useEffect,\n  useReducer,\n  useContext,\n  useMemo,\n} from 'react';\nimport * as utils from './utils';\nimport './index.scss';\n\nimport MessageInputWrapper from './components/MessageInpuetWrapper';\nimport FrozenChannelNotification from './components/FrozenNotification';\nimport OpenchannelConversationHeader from '../../ui/OpenchannelConversationHeader';\nimport OpenchannelConversationScroll from './components/OpenchannelConversationScroll';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder';\nimport { UserProfileProvider } from '../../lib/UserProfileContext';\n\nimport { OpenChannelProps } from '../../index';\nimport messagesReducer from './dux/reducers';\nimport messagesInitialState from './dux/initialState';\nimport * as messageActionTypes from './dux/actionTypes';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext.jsx';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { scrollIntoLast } from './utils';\nimport * as topics from '../../lib/pubSub/topics';\n\n// hooks\nimport useSetChannel from './hooks/useSetChannel';\nimport useHandleChannelEvents from './hooks/useHandleChannelEvents';\nimport useInitialMessagesFetch from './hooks/useInitialMessagesFetch';\nimport useScrollCallback from './hooks/useScrollCallback';\nimport useCheckScrollBottom from './hooks/useCheckScrollBottom';\nimport useSendMessageCallback from './hooks/useSendMessageCallback';\nimport useFileUploadCallback from './hooks/useFileUploadCallback';\nimport useUpdateMessageCallback from './hooks/useUpdateMessageCallback';\nimport useDeleteMessageCallback from './hooks/useDeleteMessageCallback';\nimport useResendMessageCallback from './hooks/useResendMessageCallback';\nimport useTrimMessageList from './hooks/useTrimMessageList';\n\nconst COMPONENT_CLASS_NAME = 'sendbird-openchannel-conversation';\n\ninterface Props extends OpenChannelProps {\n  stores: {\n    sdkStore?: SendbirdUIKit.SdkStore,\n    userStore?: SendbirdUIKit.UserStore,\n  };\n  config: {\n    userId: string,\n    isOnline: boolean,\n    logger?: SendbirdUIKit.Logger,\n    theme?: string,\n    /* eslint-disable @typescript-eslint/no-explicit-any*/\n    pubSub: any,\n    disableUserProfile?: boolean,\n    renderUserProfile?(): JSX.Element,\n    imageCompression?: {\n      compressionRate?: number,\n      resizingWidth?: number | string,\n      resizingHeight?: number | string,\n    },\n  };\n}\n\nexport const OpenchannelConversation = (props: Props): JSX.Element => {\n  const {\n    // internal props\n    stores,\n    config,\n    // normal props\n    useMessageGrouping,\n    channelUrl,\n    queries = {},\n    disableUserProfile,\n    fetchingParticipants = false, // We didn't decide to support fetching participant list\n    renderCustomMessage,\n    renderUserProfile,\n    renderChannelTitle,\n    renderMessageInput,\n    onBeforeSendUserMessage,\n    experimentalMessageLimit,\n    onBeforeSendFileMessage,\n    onChatHeaderActionClick\n  } = props;\n\n  const {\n    sdkStore,\n    userStore,\n  } = stores;\n  const {\n    userId,\n    isOnline,\n    logger,\n    pubSub,\n    imageCompression,\n  } = config;\n\n  const {\n    sdk\n  } = sdkStore;\n  const {\n    user\n  } = userStore;\n\n  // hook variables\n  const [messagesStore, messagesDispatcher] = useReducer(messagesReducer, messagesInitialState);\n  const {\n    allMessages,\n    loading,\n    initialized,\n    currentOpenChannel,\n    isInvalid,\n    hasMore,\n    lastMessageTimestamp,\n    operators,\n    bannedParticipantIds,\n    mutedParticipantIds,\n  } = messagesStore;\n  // ref\n  const messageInputRef = useRef(null); // useSendMessageCallback\n  const conversationScrollRef = useRef(null); // useScrollAfterSendMessageCallback\n  const { stringSet } = useContext(LocalizationContext);\n\n  // const\n  const sdkInit = sdkStore.initialized;\n  const userFilledMessageListParams = queries ? queries.messageListParams: null;\n  const disabled = !initialized\n    || !isOnline\n    || utils.isDisabledBecauseFrozen(currentOpenChannel, userId);\n  // || utils.isDisabledBecauseMuted(mutedParticipantIds, userId)\n  const userDefinedDisableUserProfile = disableUserProfile || config.disableUserProfile;\n  const userDefinedRenderProfile = renderUserProfile || config.renderUserProfile;\n\n  // useMemo\n  const amIBanned = useMemo(() => {\n    return bannedParticipantIds.indexOf(user.userId) >= 0;\n  }, [channelUrl, bannedParticipantIds, user]);\n  const amIMuted = useMemo(() => {\n    return mutedParticipantIds.indexOf(user.userId) >= 0;\n  }, [channelUrl, mutedParticipantIds, user]);\n  const amIOperator = useMemo(() => {\n    return operators.map(operator => operator.userId).indexOf(user.userId) >= 0;\n  }, [channelUrl, operators, user]);\n\n  // use hooks\n  useSetChannel(\n    { channelUrl, sdkInit, fetchingParticipants },\n    { sdk, logger, messagesDispatcher },\n  );\n\n  useEffect(() => {\n    if (renderCustomMessage) {\n      // eslint-disable-next-line no-console\n      console.info('The parameter type of renderCustomMessage will be changed to the object in the next minor update.');\n    }\n  }, []);\n\n  const checkScrollBottom = useCheckScrollBottom(\n    { conversationScrollRef },\n    { logger },\n  );\n  useHandleChannelEvents(\n    { currentOpenChannel, checkScrollBottom },\n    { sdk, logger, messagesDispatcher },\n  );\n  useInitialMessagesFetch(\n    { currentOpenChannel, userFilledMessageListParams },\n    { sdk, logger, messagesDispatcher },\n  );\n\n  // donot fetch more for streaming\n  const fetchMore = utils.shouldFetchMore(allMessages?.length, experimentalMessageLimit);\n  const onScroll = useScrollCallback(\n    { currentOpenChannel, lastMessageTimestamp, fetchMore },\n    { sdk, logger, messagesDispatcher, hasMore, userFilledMessageListParams },\n  );\n  const handleSendMessage = useSendMessageCallback(\n    { currentOpenChannel, onBeforeSendUserMessage, checkScrollBottom, messageInputRef },\n    { sdk, logger, messagesDispatcher },\n  );\n  const handleFileUpload = useFileUploadCallback(\n    { currentOpenChannel, onBeforeSendFileMessage, checkScrollBottom, imageCompression },\n    { sdk, logger, messagesDispatcher },\n  );\n  const updateMessage = useUpdateMessageCallback(\n    { currentOpenChannel, onBeforeSendUserMessage },\n    { sdk, logger, messagesDispatcher },\n  );\n  const deleteMessage = useDeleteMessageCallback(\n    { currentOpenChannel },\n    { logger, messagesDispatcher },\n  );\n  const resendMessage = useResendMessageCallback(\n    { currentOpenChannel },\n    { logger, messagesDispatcher },\n  );\n\n  useTrimMessageList(\n    { messagesLength: allMessages?.length, experimentalMessageLimit },\n    { messagesDispatcher, logger }\n  );\n\n  // handle API calls from withSendbird\n  useEffect(() => {\n    const subscriber = new Map();\n    if (!pubSub || !pubSub.subscribe) {\n      return;\n    }\n    subscriber.set(topics.SEND_USER_MESSAGE, pubSub.subscribe(topics.SEND_USER_MESSAGE, (msg) => {\n      const { channel, message } = msg;\n      scrollIntoLast();\n      if (channel && (channelUrl === channel.url)) {\n        messagesDispatcher({\n          type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n          payload: message,\n        });\n      }\n    }));\n    subscriber.set(topics.SEND_MESSAGE_START, pubSub.subscribe(topics.SEND_MESSAGE_START, (msg) => {\n      const { channel, message } = msg;\n      if (channel && (channelUrl === channel.url)) {\n        messagesDispatcher({\n          type: messageActionTypes.SENDING_MESSAGE_START,\n          payload: { message, channel },\n        });\n      }\n    }));\n    subscriber.set(topics.SEND_FILE_MESSAGE, pubSub.subscribe(topics.SEND_FILE_MESSAGE, (msg) => {\n      const { channel, message } = msg;\n      scrollIntoLast();\n      if (channel && (channelUrl === channel.url)) {\n        messagesDispatcher({\n          type: messageActionTypes.SENDING_MESSAGE_SUCCEEDED,\n          payload: { message, channel },\n        });\n      }\n    }));\n    subscriber.set(topics.UPDATE_USER_MESSAGE, pubSub.subscribe(topics.UPDATE_USER_MESSAGE, (msg) => {\n      const { channel, message, fromSelector } = msg;\n      if (fromSelector && channel && (channelUrl === channel.url)) {\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_UPDATED,\n          payload: { channel, message },\n        });\n      }\n    }));\n    subscriber.set(topics.DELETE_MESSAGE, pubSub.subscribe(topics.DELETE_MESSAGE, (msg) => {\n      const { channel, messageId } = msg;\n      if (channel && (channelUrl === channel.url)) {\n        messagesDispatcher({\n          type: messageActionTypes.ON_MESSAGE_DELETED,\n          payload: messageId,\n        });\n      }\n    }));\n\n    return () => {\n      if (subscriber) {\n        subscriber.forEach((s) => {\n          try {\n            s.remove();\n          } catch {\n            //\n          }\n        });\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  if (\n    !currentOpenChannel\n    || !currentOpenChannel.url\n    || amIBanned\n  ) {\n    return (<div className={COMPONENT_CLASS_NAME}><PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} /></div>);\n  }\n  if (loading) {\n    return (<div className={COMPONENT_CLASS_NAME}><PlaceHolder type={PlaceHolderTypes.LOADING} /></div>);\n  }\n  if (isInvalid) {\n    return (<div className={COMPONENT_CLASS_NAME}><PlaceHolder type={PlaceHolderTypes.WRONG} /></div>);\n  }\n\n  return (\n    <UserProfileProvider\n      className={COMPONENT_CLASS_NAME}\n      disableUserProfile={userDefinedDisableUserProfile}\n      renderUserProfile={userDefinedRenderProfile}\n    >\n      {\n        renderChannelTitle\n          ? renderChannelTitle({\n            channel: currentOpenChannel,\n            user: user,\n          })\n          : (\n            <OpenchannelConversationHeader\n              title={currentOpenChannel.name}\n              subTitle={`${utils.kFormatter(currentOpenChannel.participantCount)} ${stringSet.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS}`}\n              coverImage={currentOpenChannel.coverUrl}\n              onActionClick={onChatHeaderActionClick}\n              amIOperator={amIOperator}\n            />\n          )\n      }\n      {\n        currentOpenChannel.isFrozen && (\n          <FrozenChannelNotification />\n        )\n      }\n      <OpenchannelConversationScroll\n        ref={conversationScrollRef}\n        renderCustomMessage={renderCustomMessage}\n        openchannel={currentOpenChannel}\n        user={user}\n        useMessageGrouping={useMessageGrouping}\n        isOnline={isOnline}\n        allMessages={allMessages}\n        onScroll={onScroll}\n        hasMore={hasMore}\n        updateMessage={updateMessage}\n        deleteMessage={deleteMessage}\n        resendMessage={resendMessage}\n      />\n      {\n        renderMessageInput\n          ? (\n            <div className=\"sendbird-openchannel-footer\">\n              {\n                renderMessageInput({\n                  channel: currentOpenChannel,\n                  user: user,\n                  disabled: disabled,\n                })\n              }\n            </div>\n          )\n          : (\n            <MessageInputWrapper\n              channel={currentOpenChannel}\n              user={user}\n              ref={messageInputRef}\n              disabled={disabled || amIMuted}\n              onSendMessage={handleSendMessage}\n              onFileUpload={handleFileUpload}\n              renderMessageInput={renderMessageInput}\n            />\n          )\n      }\n    </UserProfileProvider>\n  );\n};\n\nexport default withSendbirdContext(OpenchannelConversation);\n"],"names":["getMessageCreatedAt","message","format","createdAt","shouldFetchMore","messageLength","maxMessages","scrollIntoLast","intialTry","MAX_TRIES","currentTry","scrollDOM","document","querySelector","scrollTop","scrollHeight","error","setTimeout","isSameGroup","comparingMessage","messageType","sender","_a","userId","_b","sendingStatus","_c","_d","compareMessagesForGrouping","prevMessage","currMessage","nextMessage","kFormatter","num","Math","abs","toFixed","concat","isOperator","openChannel","operators","map","operator","indexOf","isDisabledBecauseFrozen","isFrozen","fetchWithListQuery","listQuery","logger","eachQueryNextCallback","fetchList","query","hasNext","next","users","warning","info","pxToNumber","px","parsed","Number","parseFloat","isNaN","MessageInputWrapper","ref","channel","user","disabled","onSendMessage","onFileUpload","renderMessageInput","stringSet","useContext","LocalizationContext","React","MessageInput","MESSAGE_INPUT__PLACE_HOLDER__DISABLED","forwardRef","FrozenNotification","Label","LabelTypography","CAPTION_2","CHANNEL_FROZEN","OpenchannelConversationHeader","coverImage","title","subTitle","amIOperator","onActionClick","Avatar","width","height","Icon","IconTypes","CHANNELS","IconColors","CONTENT","H_2","LabelColors","ONBACKGROUND_1","NO_TITLE","BODY_2","ONBACKGROUND_2","IconButton","INFO","MEMBERS","PRIMARY","copyToClipboard","text","window","clipboardData","setData","queryCommandSupported","textarea","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","OpenChannelMessageStatusTypes","NONE","PENDING","FAILED","CANCELED","SUCCEEDED","getSenderFromMessage","_sender","checkIsSent","status","checkIsPending","checkIsFailed","checkIsByMe","isFineCopy","length","isFineResend","isResendable","isFineEdit","isFineDelete","showMenuTrigger","props","OpenchannelUserMessage","className","resendMessage","showEdit","showRemove","chainTop","dateLocale","UserProfileContext","disableUserProfile","renderUserProfile","messageRef","useRef","avatarRef","contextMenuRef","useState","contextStyle","setContextStyle","isByMe","isPending","isFailed","MemoizedMessageText","useMemo","splitMessage","split","matchedMessage","word","updatedAt","push","uuidv4","BODY_1","MESSAGE_EDITED","useEffect","current","clientHeight","top","innerWidth","__spreadArray","Array","isArray","join","ContextMenu","toggleDropdown","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","close","UserProfile","SECONDARY_3","friendName","nickname","CAPTION_3","ONBACKGROUND_3","locale","Loader","SPINNER","ERROR","MORE","CONTENT_INVERSE","MenuItem","CONTEXT_MENU_DROPDOWN__COPY","CONTEXT_MENU_DROPDOWN__EDIT","CONTEXT_MENU_DROPDOWN__RESEND","CONTEXT_MENU_DROPDOWN__DELETE","OpenChannelAdminMessage","URL_REG","createUrlTester","regexp","test","checkOGIsEnalbed","ogMetaData","url","OpenchannelOGMessage","defaultImage","messageComponentRef","isUrl","wordClassName","LinkLabel","openLink","open","SUBTITLE_2","description","ImageRenderer","alt","THUMBNAIL_NONE","SUPPORTING_TYPES","IMAGE","VIDEO","UNSUPPORTED","SUPPORTED_MIMES","getSupportingFileType","type","OpenchannelThumbnailMessage","onClick","localUrl","thumbnails","thumbnailUrl","_e","messageWidth","setMessageWidth","memorizedThumbnailPlaceHolder","ON_BACKGROUND_2","isMessageSent","thumbnailWidth","clientWidth","PLAY","PHOTO","checkFileType","fileUrl","audioFile","gifFile","FILE_AUDIO","GIF","FILE_DOCUMENT","truncate","fullStr","strLen","undefined","separator","sepLen","charsToShow","frontChars","ceil","backChars","floor","substr","OpenchannelFileMessage","openFileUrl","TextButton","name","RemoveMessageModal","onCloseModal","onDeleteMessage","Modal","MODAL__DELETE_MESSAGE__TITLE","isImage","isVideo","MessageTypes","ADMIN","USER","FILE","THUMBNAIL","OG","UNKNOWN","SendingMessageStatus","getMessageType","isUserMessage","isAdminMessage","MessageHoc","editDisabled","hasSeparator","renderCustomMessage","deleteMessage","updateMessage","chainBottom","RenderedMessage","setShowEdit","setShowRemove","showFileViewer","setShowFileViewer","editMessageInputRef","requestState","messageId","DateSeparator","OpenChannelFileMessage","OpenChannelOGMessage","OpenChannelThumbnailMessage","OpenChannelUserMessage","FileViewer","OpenchannelConversationScroll","useMessageGrouping","openchannel","allMessages","isOnline","hasMore","onScroll","scrollRef","showScrollDownButton","setShowScrollDownButton","handleOnScroll","e","element","target","navigator","userAgent","nodes","querySelectorAll","first_1","scrollIntoView","scrollToBottom","scrollTo","hasMessage","index","previousMessage","previousMessageCreatedAt","currentCreatedAt","isSameDay","PlaceHolder","PlaceHolderTypes","NO_MESSAGES","CHEVRON_DOWN","SET_CURRENT_CHANNEL","SET_CHANNEL_INVALID","RESET_MESSAGES","GET_PREV_MESSAGES_START","GET_PREV_MESSAGES_SUCESS","GET_PREV_MESSAGES_FAIL","SENDING_MESSAGE_FAILED","SENDING_MESSAGE_SUCCEEDED","SENDING_MESSAGE_START","RESENDING_MESSAGE_START","FETCH_PARTICIPANT_LIST","FETCH_BANNED_USER_LIST","FETCH_MUTED_USER_LIST","TRIM_MESSAGE_LIST","ON_MESSAGE_RECEIVED","ON_MESSAGE_UPDATED","ON_MESSAGE_DELETED","ON_MESSAGE_DELETED_BY_REQ_ID","ON_OPERATOR_UPDATED","ON_USER_ENTERED","ON_USER_EXITED","ON_USER_MUTED","ON_USER_UNMUTED","ON_USER_BANNED","ON_USER_UNBANNED","ON_CHANNEL_FROZEN","ON_CHANNEL_UNFROZEN","ON_CHANNEL_CHANGED","ON_META_DATA_CREATED","ON_META_DATA_UPDATED","ON_META_DATA_DELETED","ON_META_COUNTERS_CREATED","ON_META_COUNTERS_UPDATED","ON_META_COUNTERS_DELETED","ON_MENTION_RECEIVED","reducer","state","action","actionTypes","__assign","gottenChannel","payload","isInvalid","currentOpenChannel","participants","bannedParticipantIds","mutedParticipantIds","loading","messages","lastMessageTimestamp","actionChannelUrl","receivedMessages_1","_hasMore","_lastMessageTimestamp","stateChannel","stateChannelUrl","filteredAllMessages","filter","find","compareIds","initialized","sentMessage_1","newMessages","m","reqId","sentMessage_2","experimentalMessageLimit","sliceAt","slice","eventedChannel","resentMessage_1","fetchedParticipantList","fetchedBannedUserList","every","fetchedMutedUserList","receivedMessage","updatedMessage_1","currentChannel","isIdentical","deletedMessageId_1","updatedOperators","enteredUser","exitedUser_1","participant","mutedUser","unmutedUser_1","bannedUser","unbannedUser_1","frozenChannel","frozen","unfrozenChannel","changedChannel","initialState","useSetChannel","channelUrl","sdkInit","fetchingParticipants","sdk","messagesDispatcher","OpenChannel","getChannel","messageActionTypes","enter","_","participantListQuery","createParticipantListQuery","bannedParticipantListQuery","createBannedUserListQuery","mutedParticipantListQuery","createMutedUserListQuery","utils","useHandleChannelEvents","checkScrollBottom","messageReceiverId","ChannelHandler","onMessageReceived","scrollToEnd","onMessageUpdated","onMessageDeleted","onOperatorUpdated","onUserEntered","onUserExited","onUserMuted","onUserUnmuted","onUserBanned","onUserUnbanned","onChannelFrozen","onChannelUnfrozen","onChannelChanged","onMetaDataCreated","metaData","onMetaDataUpdated","onMetaDataDeleted","metaDataKeys","onMetaCountersCreated","metaCounter","onMetaCountersUpdated","onMetaCountersDeleted","metaCounterKeys","onMentionReceived","addChannelHandler","removeChannelHandler","useInitialMessagesFetch","userFilledMessageListParams","MessageListParams","getMessagesByTimestamp","messageListParams_1","prevResultSize","isInclusive","includeReplies","includeReactions","Object","keys","forEach","key","messageListParams","Date","getTime","useScrollCallback","fetchMore","useCallback","callback","hasMore_1","lastMessageTimestamp_1","useCheckScrollBottom","conversationScrollRef","isBottom","conversationScroll","useSendMessageCallback","onBeforeSendUserMessage","messageInputRef","UserMessageParams","value","createParamsDefault","txt","trim","toString","params","createCustomParams","isBottom_1","pendingMessage","sendUserMessage","useFileUploadCallback","imageCompression","onBeforeSendFileMessage","file","FileMessageParams","compressionRate_1","compressionRate","resizingWidth_1","resizingWidth","resizingHeight_1","createCustomParams_1","compressibleFileType","compressibleRatio","compressibleDiamensions_1","canCompressImage","createParamsDefault_1","file_","image_1","src","URL","createObjectURL","onload","revokeObjectURL","canvas","imageWidth","naturalWidth","imageHeight","naturalHeight","targetWidth","targetHeight","context","getContext","drawImage","toBlob","newImageBlob","compressedFile","File","sendFileMessage","useUpdateMessageCallback","updateUserMessage","useDeleteMessageCallback","messageToDelete","useResendMessageCallback","failedMessage","resendUserMessage","resendFileMessage","console","THROTTLE_TIMER","useTrimMessageList","messagesLength","inProgress","setInProgress","COMPONENT_CLASS_NAME","OpenchannelConversation","stores","config","queries","renderChannelTitle","onChatHeaderActionClick","sdkStore","userStore","pubSub","useReducer","messagesReducer","messagesInitialState","messagesStore","userDefinedDisableUserProfile","userDefinedRenderProfile","amIBanned","amIMuted","handleSendMessage","handleFileUpload","subscriber","Map","subscribe","set","topics","msg","fromSelector","s","remove","NO_CHANNELS","LOADING","WRONG","UserProfileProvider","participantCount","OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS","coverUrl","FrozenChannelNotification","withSendbirdContext"],"mappings":";;;;;;;;;;;;;;;;;;AAIO,IAAMA,mBAAmB,GAAG,UAACC,OAAD;AAAiD,EAAA,OAAAC,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,GAApB,CAAN,CAAA;AAA8B,CAA3G,CAAA;AAEA,IAAMC,eAAe,GAAG,UAACC,aAAD,EAAwBC,WAAxB,EAA2C;AACxE,EAAA,IAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;AACnC,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;EAED,IAAI,OAAOA,WAAP,KAAuB,QAAvB,IACCA,WAAW,GAAGD,aADnB,EAEE;AACA,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;AACD,EAAA,OAAO,KAAP,CAAA;AACD,CAXM,CAAA;AAaA,IAAME,cAAc,GAAG,UAACC,SAAD,EAAc;AAAb,EAAA,IAAAA,SAAA,KAAA,KAAA,CAAA,EAAA;AAAAA,IAAAA,SAAa,GAAA,CAAb,CAAA;AAAa,GAAA;;EAC1C,IAAMC,SAAS,GAAG,EAAlB,CAAA;EACA,IAAMC,UAAU,GAAGF,SAAnB,CAAA;;EACA,IAAIE,UAAU,GAAGD,SAAjB,EAA4B;AAC1B,IAAA,OAAA;AACD,GAAA;;EACD,IAAI;IACF,IAAME,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,2CAAvB,CAAlB,CADE;;AAGFF,IAAAA,SAAS,CAACG,SAAV,GAAsBH,SAAS,CAACI,YAAhC,CAAA;GAHF,CAIE,OAAOC,KAAP,EAAc;AACdC,IAAAA,UAAU,CAAC,YAAA;AACTV,MAAAA,cAAc,CAACG,UAAU,GAAG,CAAd,CAAd,CAAA;KADQ,EAEP,GAAMA,GAAAA,UAFC,CAAV,CAAA;AAGD,GAAA;AACF,CAfM,CAAA;AAiBA,IAAMQ,WAAW,GAAG,UACzBjB,OADyB,EAEzBkB,gBAFyB,EAEmB;;;AAE5C,EAAA,IAAI,EACFlB,OAAO,IACJkB,gBADH,IAEG,CAAAlB,OAAO,SAAP,IAAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAAA,OAAO,CAAEmB,WAAT,MAAyB,OAF5B,IAGG,CAAAD,gBAAgB,SAAhB,IAAAA,gBAAgB,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAAA,gBAAgB,CAAEC,WAAlB,MAAkC,OAHrC,KAIGnB,OAAO,SAAP,IAAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAAA,OAAO,CAAEoB,MAJZ,MAKGF,gBAAgB,SAAhB,IAAAA,gBAAgB,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAAA,gBAAgB,CAAEE,MALrB,CAAA,KAMGpB,OAAO,SAAP,IAAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAAA,OAAO,CAAEE,SANZ,CAOGgB,KAAAA,gBAAgB,SAAhB,IAAAA,gBAAgB,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAAA,gBAAgB,CAAEhB,SAPrB,MAQG,CAAAmB,EAAA,GAAArB,OAAO,SAAP,IAAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAAA,OAAO,CAAEoB,MAAT,MAAiB,IAAjB,IAAiBC,EAAA,KAAA,KAAA,CAAjB,GAAiB,KAAA,CAAjB,GAAiBA,EAAA,CAAAC,MARpB,MASG,CAAAC,EAAA,GAAAL,gBAAgB,KAAhB,IAAA,IAAAA,gBAAgB,KAAhB,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,gBAAgB,CAAEE,MAAlB,MAA0B,IAA1B,IAA0BG,EAAA,KAAA,KAAA,CAA1B,GAA0B,KAAA,CAA1B,GAA0BA,EAAA,CAAAD,MAT7B,CADE,CAAJ,EAWG;AACD,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;;EAED,OACE,CAAAtB,OAAO,KAAP,IAAA,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEwB,aAAT,OAA2BN,gBAAgB,KAAhB,IAAA,IAAAA,gBAAgB,WAAhB,SAAA,GAAAA,gBAAgB,CAAEM,aAA7C,CAAA,IACG,CAAA,CAAAC,EAAA,GAAAzB,OAAO,KAAP,IAAA,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEoB,MAAT,MAAiB,IAAjB,IAAiBK,EAAA,KAAA,KAAA,CAAjB,GAAiB,KAAA,CAAjB,GAAiBA,EAAA,CAAAH,MAAjB,OAA4B,CAAAI,EAAA,GAAAR,gBAAgB,SAAhB,IAAAA,gBAAgB,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAAA,gBAAgB,CAAEE,MAAlB,MAA0B,IAA1B,IAA0BM,EAAA,KAAA,KAAA,CAA1B,GAA0B,KAAA,CAA1B,GAA0BA,EAAA,CAAAJ,MAAtD,CADH,IAEGvB,mBAAmB,CAACC,OAAD,CAAnB,KAAiCD,mBAAmB,CAACmB,gBAAD,CAHzD,CAAA;AAKD,CAxBM,CAAA;AA0BA,IAAMS,0BAA0B,GAAG,UACxCC,WADwC,EAExCC,WAFwC,EAGxCC,WAHwC,EAIjB;AAAA,EAAA,OACvB,CACEb,WAAW,CAACW,WAAD,EAAcC,WAAd,CADb,EAEEZ,WAAW,CAACY,WAAD,EAAcC,WAAd,CAFb,CADuB,CAAA;AAKxB,CATM,CAAA;AAWA,IAAMC,UAAU,GAAG,UAACC,GAAD,EAAY;AACpC,EAAA,IAAIC,IAAI,CAACC,GAAL,CAASF,GAAT,CAAA,GAAgB,MAApB,EAA4B;AAC1B,IAAA,OAAO,SAAA,CAAG,CAACC,IAAI,CAACC,GAAL,CAASF,GAAT,CAAgB,GAAA,OAAjB,EAA0BG,OAA1B,CAAkC,CAAlC,CAAH,KAAA,CAAP,CAAA;AACD,GAAA;;AAED,EAAA,IAAIF,IAAI,CAACC,GAAL,CAASF,GAAT,CAAA,GAAgB,GAApB,EAAyB;AACvB,IAAA,OAAO,SAAA,CAAG,CAACC,IAAI,CAACC,GAAL,CAASF,GAAT,CAAgB,GAAA,IAAjB,EAAuBG,OAAvB,CAA+B,CAA/B,CAAH,KAAA,CAAP,CAAA;AACD,GAAA;;AAED,EAAA,OAAO,EAAAC,CAAAA,MAAA,CAAGJ,GAAH,CAAP,CAAA;AACD,CAVM,CAAA;AAYA,IAAMK,UAAU,GAAG,UAACC,WAAD,EAAoChB,MAApC,EAAkD;AAClE,EAAA,IAAAiB,SAAS,GAAKD,WAAW,CAAAC,SAAzB,CAAA;;AACR,EAAA,IAAIA,SAAS,CAACC,GAAV,CAAc,UAAAC,QAAA,EAAQ;IAAI,OAAAA,QAAQ,CAACnB,MAAT,CAAA;AAAe,GAAzC,EAA2CoB,OAA3C,CAAmDpB,MAAnD,CAAA,GAA6D,CAAjE,EAAoE;AAClE,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;;AACD,EAAA,OAAO,IAAP,CAAA;AACD,CANM,CAAA;AAQA,IAAMqB,uBAAuB,GAAG,UAACL,WAAD,EAAoChB,MAApC,EAAkD;AAC/E,EAAA,IAAAsB,QAAQ,GAAKN,WAAW,CAAAM,QAAxB,CAAA;EACR,OAAOA,QAAQ,IAAI,CAACP,UAAU,CAACC,WAAD,EAAchB,MAAd,CAA9B,CAAA;AACD,CAHM,CAAA;AASA,IAAMuB,kBAAkB,GAAG,UAChCC,SADgC,EAEhCC,MAFgC,EAGhCC,qBAHgC,EAG4B;AAE5D,EAAA,IAAMC,SAAS,GAAG,UAACC,KAAD,EAAM;AACd,IAAA,IAAAC,OAAO,GAAKD,KAAK,CAAAC,OAAjB,CAAA;;AACR,IAAA,IAAIA,OAAJ,EAAa;AACXD,MAAAA,KAAK,CAACE,IAAN,CAAW,UAACrC,KAAD,EAAQsC,KAAR,EAAa;QACtB,IAAI,CAACtC,KAAL,EAAY;UACViC,qBAAqB,CAACK,KAAD,CAArB,CAAA;UACAJ,SAAS,CAACC,KAAD,CAAT,CAAA;AACD,SAHD,MAGO;AACLH,UAAAA,MAAM,CAACO,OAAP,CAAe,oCAAf,EAAqDvC,KAArD,CAAA,CAAA;AACD,SAAA;OANH,CAAA,CAAA;AAQD,KATD,MASO;MACLgC,MAAM,CAACQ,IAAP,CAAY,sCAAZ,CAAA,CAAA;AACD,KAAA;GAbH,CAAA;;AAeAR,EAAAA,MAAM,CAACQ,IAAP,CAAY,mCAAZ,EAAiDT,SAAjD,CAAA,CAAA;EACAG,SAAS,CAACH,SAAD,CAAT,CAAA;AACD,CAtBM,CAAA;AAwBA,IAAMU,UAAU,GAAG,UAACC,EAAD,EAAoB;AAC5C,EAAA,IAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;AAC1B,IAAA,OAAOA,EAAP,CAAA;AACD,GAAA;;AACD,EAAA,IAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;AAC1B,IAAA,IAAMC,MAAM,GAAGC,MAAM,CAACC,UAAP,CAAkBH,EAAlB,CAAf,CAAA;;AACA,IAAA,IAAI,CAACE,MAAM,CAACE,KAAP,CAAaH,MAAb,CAAL,EAA2B;AACzB,MAAA,OAAOA,MAAP,CAAA;AACD,KAAA;AACF,GAAA;;AACD,EAAA,OAAO,IAAP,CAAA;AACD,CAXM;;AC/GP,IAAMI,mBAAmB,GAAG,UAACzC,EAAD,EAOlB0C,GAPkB,EAOoB;AAN9C,EAAA,IAAAC,OAAO,GAAA3C,EAAA,CAAA2C,OAAP;AAAA,MACAC,IAAI,GAAA5C,EAAA,CAAA4C,IADJ;AAAA,MAEAC,QAAQ,GAAA7C,EAAA,CAAA6C,QAFR;AAAA,MAGAC,aAAa,mBAHb;AAAA,MAIAC,YAAY,GAAA/C,EAAA,CAAA+C,YAJZ;AAAA,MAKAC,kBAAkB,GAAAhD,EAAA,CAAAgD,kBALlB,CAAA;;EAOA,IAAI,CAACL,OAAL,EAAc;AACZ,IAAA,OAAA;AACD,GAAA;;AAEO,EAAA,IAAAM,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAAA;;AAER,EAAA,IAAIH,kBAAJ,EAAwB;AACtB,IAAA,OAAOA,kBAAkB,CAAC;AAAEL,MAAAA,OAAO,EAAAA,OAAT;AAAWC,MAAAA,IAAI,EAAAA,IAAf;AAAiBC,MAAAA,QAAQ,EAAAA,QAAAA;AAAzB,KAAD,CAAzB,CAAA;AACD,GAAA;;EAED,oBACEO,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,6BAAA;AAAf,GAAA,eACEA,wCAACC,oBAAD,EAAA;AACE,IAAA,GAAG,EAAEX,GADP;AAEE,IAAA,QAAQ,EAAEG,QAFZ;AAGE,IAAA,aAAa,EAAEC,aAHjB;AAIE,IAAA,YAAY,EAAEC,YAJhB;AAKE,IAAA,WAAW,EACTF,QAAQ,IACLI,SAAS,CAACK,qCAFJ;;AALb,GAAA,CADF,CADF,CAAA;AAeD,CAjCD,CAAA;;AAmCA,4BAAA,aAAeF,yBAAK,CAACG,UAAN,CAAiBd,mBAAjB,CAAf;;AC3CA,IAAMe,kBAAkB,GAAG,YAAA;AACjB,EAAA,IAAAP,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAAA;EACR,oBACEC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,sCAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,4CADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAAAA;AAFxB,GAAA,EAIGV,SAAS,CAACW,cAJb,CADF,CADF,CAAA;AAUD,CAZD;;ACUwB,SAAAC,6BAAA,CAA8B7D,EAA9B,EAMhB;AALN,EAAA,IAAA8D,UAAU,GAAA9D,EAAA,CAAA8D,UAAV;AAAA,MACAC,KAAK,GAAA/D,EAAA,CAAA+D,KADL;AAAA,MAEAC,QAAQ,GAAAhE,EAAA,CAAAgE,QAFR;AAAA,MAGAC,WAAW,GAAAjE,EAAA,CAAAiE,WAHX;AAAA,MAIAC,aAAa,GAAAlE,EAAA,CAAAkE,aAJb,CAAA;AAMQ,EAAA,IAAAjB,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAAA;EAER,oBACEC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,0CAAA;GACb,eAAAA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,gDAAA;GAEXU,EAAAA,UAAU,gBACRV,yBAAA,CAAA,aAAA,CAACe,cAAD,EAAA;AACE,IAAA,SAAS,EAAC,6DADZ;AAEE,IAAA,GAAG,EAAEL,UAFP;AAGE,IAAA,GAAG,EAAC,qBAHN;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CADQ,gBASRV,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,mEADZ;AAEE,IAAA,KAAK,EAAE;AAAEgB,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,MAAM,EAAE,EAAA;AAArB,KAAA;AAFT,GAAA,eAIEjB,wCAACkB,YAAD,EAAA;IACE,IAAI,EAAEC,iBAAS,CAACC,QADlB;IAEE,SAAS,EAAEC,kBAAU,CAACC,OAFxB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GARX,CAAA,CAXN,eAwBEtB,yBAAA,CAAA,aAAA,CAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,uDADZ;IAEE,IAAI,EAAEC,uBAAe,CAACiB,GAFxB;IAGE,KAAK,EAAEC,mBAAW,CAACC,cAAAA;GAElBd,EAAAA,KAAK,IAAId,SAAS,CAAC6B,QALtB,CAxBF,eA+BE1B,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,2DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqB,MAFxB;IAGE,KAAK,EAAEH,mBAAW,CAACI,cAAAA;AAHrB,GAAA,EAKGhB,QAAQ,IAAIf,SAAS,CAAC6B,QALzB,CA/BF,CADF,eAwCE1B,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,iDAAA;AAAf,GAAA,eACEA,wCAAC6B,kBAAD,EAAA;AACE,IAAA,SAAS,EAAC,0DADZ;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,MAAM,EAAC,MAHT;AAIE,IAAA,OAAO,EAAEf,aAAAA;AAJX,GAAA,eAMEd,wCAACkB,YAAD,EAAA;IACE,IAAI,EACFL,WAAW,GACTM,iBAAS,CAACW,IADD,GAETX,iBAAS,CAACY,OAJhB;IAME,SAAS,EAAEV,kBAAU,CAACW,OANxB;AAOE,IAAA,KAAK,EAAC,MAPR;AAQE,IAAA,MAAM,EAAC,MAAA;GAdX,CAAA,CADF,CAxCF,CADF,CAAA;AA8DD;;ACxFM,IAAMC,eAAe,GAAG,UAACC,IAAD,EAAa;AAC1C;EACA,IAAIC,MAAM,CAACC,aAAP,IAAwBD,MAAM,CAACC,aAAP,CAAqBC,OAAjD,EAA0D;AACxD;AACA;IACA,OAAOF,MAAM,CAACC,aAAP,CAAqBC,OAArB,CAA6B,MAA7B,EAAqCH,IAArC,CAAP,CAAA;AACD,GAAA;;EACD,IAAIhG,QAAQ,CAACoG,qBAAT,IAAkCpG,QAAQ,CAACoG,qBAAT,CAA+B,MAA/B,CAAtC,EAA8E;AAC5E,IAAA,IAAMC,QAAQ,GAAGrG,QAAQ,CAACsG,aAAT,CAAuB,UAAvB,CAAjB,CAAA;IACAD,QAAQ,CAACE,WAAT,GAAuBP,IAAvB,CAAA;AACAK,IAAAA,QAAQ,CAACG,KAAT,CAAeC,QAAf,GAA0B,OAA1B,CAH4E;;AAI5EzG,IAAAA,QAAQ,CAAC0G,IAAT,CAAcC,WAAd,CAA0BN,QAA1B,CAAA,CAAA;AACAA,IAAAA,QAAQ,CAACO,MAAT,EAAA,CAAA;;IACA,IAAI;AACF,MAAA,OAAO5G,QAAQ,CAAC6G,WAAT,CAAqB,MAArB,CAAP,CADE;KAAJ,CAEE,OAAOC,EAAP,EAAW;AACX,MAAA,OAAO,KAAP,CAAA;AACD,KAJD,SAIU;AACR9G,MAAAA,QAAQ,CAAC0G,IAAT,CAAcK,WAAd,CAA0BV,QAA1B,CAAA,CAAA;AACD,KAAA;AACF,GAAA;;AACD,EAAA,OAAO,KAAP,CAAA;AACD,CAtBM;;ACGP,IAAMW,6BAA6B,GAAG;AACpCC,EAAAA,IAAI,EAAE,MAD8B;AAEpCC,EAAAA,OAAO,EAAE,SAF2B;AAGpCC,EAAAA,MAAM,EAAE,QAH4B;AAIpCC,EAAAA,QAAQ,EAAE,UAJ0B;AAKpCC,EAAAA,SAAS,EAAE,WAAA;AALyB,CAAtC,CAAA;AAQO,IAAMC,oBAAoB,GAAG,UAACjI,OAAD,EAA+C;AACjF,EAAA,OAAOA,OAAO,CAACoB,MAAR,IAAkBpB,OAAO,CAACkI,OAAjC,CAAA;AACD,CAFM,CAAA;AAIA,IAAMC,WAAW,GAAG,UAACC,MAAD,EAA6B;AAAA,EAAA,OAACA,MAAM,KAAKT,6BAA6B,CAACK,SAA1C,CAAA;AAAoD,CAArG,CAAA;AACA,IAAMK,cAAc,GAAG,UAACD,MAAD,EAA6B;AAAA,EAAA,OAACA,MAAM,KAAKT,6BAA6B,CAACE,OAA1C,CAAA;AAAkD,CAAtG,CAAA;AACA,IAAMS,aAAa,GAAG,UAACF,MAAD,EAA6B;AAAA,EAAA,OAACA,MAAM,KAAKT,6BAA6B,CAACG,MAA1C,CAAA;AAAiD,CAApG,CAAA;AAEA,IAAMS,WAAW,GAAG,UAACvI,OAAD,EAAiDsB,MAAjD,EAA+D;AAAc,EAAA,OAAC2G,oBAAoB,CAACjI,OAAD,CAApB,CAA8BsB,MAA9B,KAAyCA,MAA1C,CAAA;AAAiD,CAAlJ,CAAA;AAOA,IAAMkH,UAAU,GAAG,UAACnH,EAAD,EAA8B;AAA3B,EAAA,IAAArB,OAAO,GAAAqB,EAAA,CAAArB,OAAP,CAAA;AAC3B,EAAA,OAAQA,OAAO,CAACmB,WAAR,KAAwB,MAAxB,IAAkCnB,OAAO,CAACA,OAAR,CAAgByI,MAAhB,GAAyB,CAAnE,CAAA;AACD,CAFM,CAAA;AASA,IAAMC,YAAY,GAAG,UAACrH,EAAD,EAAgD;AAA7C,EAAA,IAAArB,OAAO,aAAP;AAAA,MAASoI,MAAM,GAAA/G,EAAA,CAAA+G,MAAf;AAAA,MAAiB9G,MAAM,GAAAD,EAAA,CAAAC,MAAvB,CAAA;AAC7B,EAAA,OAAOiH,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAAX,IACFgH,aAAa,CAACF,MAAD,CADX,IAEFpI,OAAO,CAAC2I,YAFN,IAGF3I,OAAO,CAAC2I,YAAR,EAHL,CAAA;AAID,CALM,CAAA;AAYA,IAAMC,UAAU,GAAG,UAACvH,EAAD,EAA8C;AAA3C,EAAA,IAAArB,OAAO,aAAP;AAAA,MAASoI,MAAM,GAAA/G,EAAA,CAAA+G,MAAf;AAAA,MAAiB9G,MAAM,GAAAD,EAAA,CAAAC,MAAvB,CAAA;EAC3B,OAAOiH,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAAX,IAAgC6G,WAAW,CAACC,MAAD,CAAlD,CAAA;AACD,CAFM,CAAA;AASA,IAAMS,YAAY,GAAG,UAACxH,EAAD,EAAwC;MAArCrB,OAAO,GAAAqB,EAAA,CAAArB;MAAEsB,MAAM,GAAAD,EAAA,CAAAC;AAC5C,EAAA,OAAOiH,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAAlB,CAAA;AACD,CAFM,CAAA;AASA,IAAMwH,eAAe,GAAG,UAACC,KAAD,EAA6B;AAClD,EAAA,IAAA/I,OAAO,GAAqB+I,KAAK,CAAA/I,OAAjC;AAAA,MAASoI,MAAM,GAAaW,KAAK,CAAAX,MAAjC;AAAA,MAAiB9G,MAAM,GAAKyH,KAAK,OAAjC,CAAA;;AACR,EAAA,IAAI/I,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;AAClC,IAAA,OACE0H,YAAY,CAAC;AAAE7I,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;KAA1B,CAAZ,IACGsH,UAAU,CAAC;AAAE5I,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;KAA1B,CADb,IAEGkH,UAAU,CAAC;AAAExI,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;KAA1B,CAFb,IAGGoH,YAAY,CAAC;AAAE1I,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;AAAzB,KAAD,CAJjB,CAAA;AAMD,GAPD,MAOO;AACL,IAAA,OACEuH,YAAY,CAAC;AAAE7I,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;KAA1B,CAAZ,IACGoH,YAAY,CAAC;AAAE1I,MAAAA,OAAO,EAAAA,OAAT;AAAWoI,MAAAA,MAAM,EAAAA,MAAjB;AAAmB9G,MAAAA,MAAM,EAAAA,MAAAA;AAAzB,KAAD,CAFjB,CAAA;AAID,GAAA;AACF,CAfM;;AChBiB,SAAA0H,sBAAA,CAAuB3H,EAAvB,EAUhB;MATN4H,SAAS,GAAA5H,EAAA,CAAA4H;MACTjJ,OAAO,GAAAqB,EAAA,CAAArB;MACPsB,MAAM,GAAAD,EAAA,CAAAC;MACN4H,aAAa,GAAA7H,EAAA,CAAA6H;MACbhF,QAAQ;MACRiF,QAAQ,GAAA9H,EAAA,CAAA8H;MACRC,UAAU,GAAA/H,EAAA,CAAA+H;MACVC,QAAQ,GAAAhI,EAAA,CAAAgI;MACRjB,MAAM,GAAA/G,EAAA,CAAA+G;;EAEN,IAAI,CAACpI,OAAD,IAAYA,OAAO,CAACmB,WAAR,KAAwB,MAAxC,EAAgD;AAC9C,IAAA,OAAO,IAAP,CAAA;AACD,GAHK;;;AAMA,EAAA,IAAAI,EAAA,GAA4BgD,gBAAU,CAACC,uCAAD,CAAtC;AAAA,MAAEF,SAAS,GAAA/C,EAAA,CAAA+C,SAAX;AAAA,MAAagF,UAAU,GAAA/H,EAAA,CAAA+H,UAAvB,CAAA;;AACA,EAAA,IAAA7H,EAAA,GAA4C8C,gBAAU,CAACgF,0BAAD,CAAtD;AAAA,MAAEC,kBAAkB,GAAA/H,EAAA,CAAA+H,kBAApB;AAAA,MAAsBC,iBAAiB,GAAAhI,EAAA,CAAAgI,iBAAvC,CAAA;;AACN,EAAA,IAAMC,UAAU,GAAGC,YAAM,CAAC,IAAD,CAAzB,CAAA;AACA,EAAA,IAAMC,SAAS,GAAGD,YAAM,CAAC,IAAD,CAAxB,CAAA;AACA,EAAA,IAAME,cAAc,GAAGF,YAAM,CAAC,IAAD,CAA7B,CAAA;;AACM,EAAA,IAAAjI,EAAA,GAAkCoI,cAAQ,CAAC,EAAD,CAA1C;AAAA,MAACC,YAAY,GAAArI,EAAA,CAAA,CAAA,CAAb;AAAA,MAAesI,eAAe,GAAAtI,EAAA,CAAA,CAAA,CAA9B,CAXA;;;AAcN,EAAA,IAAMuI,MAAM,GAAG1B,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAA1B,CAAA;AACA,EAAA,IAAM4I,SAAS,GAAG7B,cAAc,CAACD,MAAD,CAAhC,CAAA;AACA,EAAA,IAAM+B,QAAQ,GAAG7B,aAAa,CAACF,MAAD,CAA9B,CAAA;AACA,EAAA,IAAMhH,MAAM,GAAG6G,oBAAoB,CAACjI,OAAD,CAAnC,CAAA;AAEA,EAAA,IAAMoK,mBAAmB,GAAGC,aAAO,CAAC;AAAM,IAAA,OAAA,YAAA;MACxC,IAAMC,YAAY,GAAGtK,OAAO,CAACA,OAAR,CAAgBuK,KAAhB,CAAsB,IAAtB,CAArB,CAAA;MACA,IAAMC,cAAc,GAAGF,YAAY,CAAC9H,GAAb,CAAiB,UAACiI,IAAD,EAAU;AAAA,QAAA,OAACA,IAAI,KAAK,EAAT,GAAcA,IAAd,gBAAqBhG,yBAAtB,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA;AAA6B,OAAxD,CAAvB,CAAA;;AACA,MAAA,IAAIzE,OAAO,CAAC0K,SAAR,GAAoB,CAAxB,EAA2B;AACzBF,QAAAA,cAAc,CAACG,IAAf,eACElG,yBAAA,CAAA,aAAA,CAACK,aAAD,EAAA;UACE,GAAG,EAAE8F,0BAAM,EADb;UAEE,IAAI,EAAE7F,uBAAe,CAAC8F,MAFxB;UAGE,KAAK,EAAE5E,mBAAW,CAACI,cAHrB;AAIE,UAAA,SAAS,EAAC,wCAAA;SAET,EAAA,GAAA,CAAIjE,MAAJ,CAAIkC,SAAS,CAACwG,cAAd,KAAA,CANH,CADF,CAAA,CAAA;AAUD,OAAA;;AACD,MAAA,OAAON,cAAP,CAAA;KAfwC,CAAA;GAAP,EAgBhC,CAACxK,OAAD,EAAUA,OAAO,CAAC0K,SAAlB,CAhBgC,CAAnC,CAnBM;;AAsCNK,EAAAA,eAAS,CAAC,YAAA;;;AACR,IAAA,IAAI,CAAA,CAAA1J,EAAA,GAAAqI,UAAU,KAAA,IAAV,IAAAA,UAAU,KAAA,KAAA,CAAV,GAAU,KAAA,CAAV,GAAAA,UAAU,CAAEsB,OAAZ,MAAmB,IAAnB,IAAmB3J,EAAA,KAAA,KAAA,CAAnB,GAAmB,KAAA,CAAnB,GAAmBA,EAAA,CAAE4J,YAArB,IAAoC,EAAxC,EAA4C;AAC1CjB,MAAAA,eAAe,CAAC;AAAEkB,QAAAA,GAAG,EAAE,MAAA;AAAP,OAAD,CAAf,CAAA;AACD,KAFD,MAEO;AACLlB,MAAAA,eAAe,CAAC;AAAEkB,QAAAA,GAAG,EAAE,KAAA;AAAP,OAAD,CAAf,CAAA;AACD,KAAA;AACF,GANQ,EAMN,CAACtE,MAAM,CAACuE,UAAR,CANM,CAAT,CAAA;EAQA,oBACE1G,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAE2G,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACLC,KAAK,CAACC,OAAN,CAAcrC,SAAd,CAAA,GAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,EAC8C,IAD9C,CAAA,EAC8C,CACvD,mCADuD,CAD9C,OAAA,CAAA,CAGTsC,IAHS,CAGJ,GAHI,CADb;AAKE,IAAA,GAAG,EAAE7B,UAAAA;GAEL,eAAAjF,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,yCAAA;AAAf,GAAA,EAEI,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD,EAAoB;AAAA,MAAA,oBAC/BhH,wCAACe,cAAD,EAAA;AACE,QAAA,SAAS,EAAC,iDADZ;AAEE,QAAA,GAAG,EAAEpE,MAAM,CAACsK,UAAP,IAAqB,EAF5B;AAGE,QAAA,GAAG,EAAE9B,SAHP;AAIE,QAAA,KAAK,EAAC,MAJR;AAKE,QAAA,MAAM,EAAC,MALT;AAME,QAAA,OAAO,EAAE,YAAA;UACP,IAAI,CAACJ,kBAAL,EAAyB;YACvBiC,cAAc,EAAA,CAAA;AACf,WAAA;AACF,SAAA;OAX4B,CAAA,CAAA;KADnC;IAeE,SAAS,EAAE,UAACE,aAAD,EAAmB;AAAA,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAEhC,SADb;AAEE,QAAA,gBAAgB,EAAEA,SAFpB;AAGE,QAAA,aAAa,EAAE+B,aAHjB;AAIE,QAAA,KAAK,EAAE;AAAEE,UAAAA,UAAU,EAAE,CAAd;AAAiBC,UAAAA,aAAa,EAAE,CAAA;AAAhC,SAAA;OAGLrC,EAAAA,iBAAiB,GAEfA,iBAAiB,CAAC;AAChBxF,QAAAA,IAAI,EAAE7C,MADU;AAEhB2K,QAAAA,KAAK,EAAEJ,aAAAA;OAFQ,CAFF,gBAQflH,yBAAA,CAAA,aAAA,CAACuH,4BAAD,EAAA;AACE,QAAA,IAAI,EAAE5K,MADR;AAEE,QAAA,SAAS,EAAEuK,aAFb;QAGE,gBAAgB,EAAA,IAAA;AAHlB,OAAA,CAfN,CAD4B,CAAA;AAwB7B,KAAA;AAvCH,GAAA,CAHN,CAPF,eAsDElH,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,0CAAA;GAEX,EAAA,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,+CAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,4DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAFxB;IAGE,KAAK,EAAEiF,MAAM,GAAGhE,mBAAW,CAACgG,WAAf,GAA6BhG,mBAAW,CAACI,cAAAA;AAHxD,GAAA,EAMIjF,MAAM,KACJA,MAAM,CAAC8K,UAAP,IACG9K,MAAM,CAAC+K,QADV,IAEG/K,MAAM,CAACE,MAHN,CANV,CADF,eAcEmD,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,wDADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqH,SAFxB;IAGE,KAAK,EAAEnG,mBAAW,CAACoG,cAAAA;AAHrB,GAAA,EAKGpM,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,GAApB,EAAyB;AAAEoM,IAAAA,MAAM,EAAEhD,UAAAA;GAAnC,CALT,CAdF,CAHN,eA2BE7E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,kDAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,2DADZ;IAEE,IAAI,EAAEC,uBAAe,CAAC8F,MAFxB;IAGE,KAAK,EAAE5E,mBAAW,CAACC,cAAAA;GAElBkE,EAAAA,mBAAmB,EALtB,CADF,CA3BF,EAqCI,CAACF,SAAS,IAAIC,QAAd,kBACE1F,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,gDAAA;GAEXyF,EAAAA,SAAS,iBACPzF,yBAAA,CAAA,aAAA,CAAC8H,cAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAAA;AAFT,GAAA,eAIE9H,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,yDADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC4G,OAFlB;IAGE,SAAS,EAAE1G,kBAAU,CAACW,OAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAJF,CAHN,EAkBI0D,QAAQ,iBACN1F,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,wDADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC6G,KAFlB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GAvBf,CAAA,CAtCN,CAtDF,eA4HIhI,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,iDADZ;AAEE,IAAA,GAAG,EAAEoF,cAFP;AAGE,IAAA,KAAK,EAAEE,YAAAA;AAHT,GAAA,eAKEtF,wCAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD;AAAoB,MAAA,OAC/B3C,eAAe,CAAC;AAAE9I,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAf,iBACE3D,yBAAA,CAAA,aAAA,CAAC6B,kBAAD,EAAA;AACE,QAAA,SAAS,EAAC,uDADZ;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,MAAM,EAAC,MAHT;AAIE,QAAA,OAAO,EAAE,YAAA;UACPmF,cAAc,EAAA,CAAA;AACf,SAAA;AANH,OAAA,eAQEhH,wCAACkB,YAAD,EAAA;QACE,IAAI,EAAEC,iBAAS,CAAC8G,IADlB;QAEE,SAAS,EAAE5G,kBAAU,CAAC6G,eAFxB;AAGE,QAAA,KAAK,EAAC,MAHR;AAIE,QAAA,MAAM,EAAC,MAAA;AAJT,OAAA,CARF,CAF6B,CAAA;KADnC;IAoBE,SAAS,EAAE,UAAChB,aAAD;AAAmB,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAE/B,cADb;AAEE,QAAA,gBAAgB,EAAEA,cAFpB;AAGE,QAAA,aAAa,EAAE8B,aAHjB;QAIE,QAAQ,EAAA,IAAA;AAJV,OAAA,EAOInD,UAAU,CAAC;AAAExI,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAV,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,uDADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACPlG,UAAAA,eAAe,CAAC1G,OAAO,CAACA,OAAT,CAAf,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAACuI,2BAPb,CARN,EAoBIjE,UAAU,CAAC;AAAE5I,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAV,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,uDADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AACZ,YAAA,OAAA;AACD,WAAA;;UACDiF,QAAQ,CAAC,IAAD,CAAR,CAAA;UACAwC,aAAa,EAAA,CAAA;AACd,SAAA;AARH,OAAA,EAUGrH,SAAS,CAACwI,2BAVb,CArBN,EAoCIpE,YAAY,CAAC;AAAE1I,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,yDADZ;AAEE,QAAA,OAAO,EAAE,YAAA;UACP1D,aAAa,CAAClJ,OAAD,CAAb,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAACyI,6BAPb,CArCN,EAiDIlE,YAAY,CAAC;AAAE7I,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,yDADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AACZ,YAAA,OAAA;AACD,WAAA;;UACDkF,UAAU,CAAC,IAAD,CAAV,CAAA;UACAuC,aAAa,EAAA,CAAA;AACd,SAAA;AARH,OAAA,EAUGrH,SAAS,CAAC0I,6BAVb,CAlDN,CAD4B,CAAA;AAkE7B,KAAA;AAtFH,GAAA,CALF,CA5HJ,CADF,CAAA;AA8ND;;AC5TuB,SAAAC,uBAAA,CAAwB5L,EAAxB,EAGhB;MAFN4H,SAAS,GAAA5H,EAAA,CAAA4H;MACTjJ,OAAO,GAAAqB,EAAA,CAAArB;EAEP,oBACEyE,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAE2G,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACLC,KAAK,CAACC,OAAN,CAAcrC,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,EAC8C,IAD9C,CAAA,EAC8C,CACvD,oCADuD,CAD9C,EAGT,KAHS,CAAA,CAGTsC,IAHS,CAGJ,GAHI,CAAA;AADb,GAAA,eAME9G,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,0CADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAFxB;IAGE,KAAK,EAAEiB,mBAAW,CAACI,cAAAA;AAHrB,GAAA,EAKGrG,OAAO,CAACA,OAAR,IAAmB,EALtB,CANF,CADF,CAAA;AAgBD;;AC7BM,IAAMkN,OAAO,GAAG,kFAAhB,CAAA;AACA,IAAMC,eAAe,GAAG,UAACC,MAAD,EAAe;EAAK,OAAA,UAACzG,IAAD,EAAa;AAAc,IAAA,OAAAyG,MAAM,CAACC,IAAP,CAAY1G,IAAZ,CAAA,CAAA;GAA3B,CAAA;AAA4C,CAAxF,CAAA;AACA,IAAM2G,gBAAgB,GAAG,UAACtN,OAAD,EAA8B;AACpD,EAAA,IAAAuN,UAAU,GAAKvN,OAAO,CAAAuN,UAAtB,CAAA;;EACR,IAAI,CAACA,UAAL,EAAiB;AACf,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;;AACO,EAAA,IAAAC,GAAG,GAAKD,UAAU,CAAAC,GAAlB,CAAA;;EACR,IAAI,CAACA,GAAL,EAAU;AACR,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;;AACD,EAAA,OAAO,IAAP,CAAA;AACD,CAVM;;ACyCiB,SAAAC,oBAAA,CAAqBpM,EAArB,EAUhB;MATNrB,OAAO,GAAAqB,EAAA,CAAArB;MACPiJ,SAAS,GAAA5H,EAAA,CAAA4H;MACT/E,QAAQ,GAAA7C,EAAA,CAAA6C;MACRiF,QAAQ,GAAA9H,EAAA,CAAA8H;MACRC,UAAU;MACVF,aAAa,GAAA7H,EAAA,CAAA6H;MACbG,QAAQ,GAAAhI,EAAA,CAAAgI;MACRjB,MAAM,GAAA/G,EAAA,CAAA+G;MACN9G,MAAM,GAAAD,EAAA,CAAAC;;EAEN,IAAI,CAACtB,OAAD,IAAYA,OAAO,CAACmB,WAAR,KAAwB,MAAxC,EAAgD;AAC9C,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;AAEO,EAAA,IAAAoM,UAAU,GAAKvN,OAAO,CAAAuN,UAAtB,CAAA;AACA,EAAA,IAAAG,YAAY,GAAKH,UAAU,CAAAG,YAA3B,CAAA;;AAEF,EAAA,IAAAnM,EAAA,GAA4BgD,gBAAU,CAACC,uCAAD,CAAtC;AAAA,MAAEF,SAAS,GAAA/C,EAAA,CAAA+C,SAAX;AAAA,MAAagF,UAAU,GAAA/H,EAAA,CAAA+H,UAAvB,CAAA;;AACA,EAAA,IAAA7H,EAAA,GAA4C8C,gBAAU,CAACgF,0BAAD,CAAtD;AAAA,MAAEC,kBAAkB,GAAA/H,EAAA,CAAA+H,kBAApB;AAAA,MAAsBC,iBAAiB,GAAAhI,EAAA,CAAAgI,iBAAvC,CAAA;;AACA,EAAA,IAAA/H,EAAA,GAAkCoI,cAAQ,CAAC,EAAD,CAA1C;AAAA,MAACC,YAAY,GAAArI,EAAA,CAAA,CAAA,CAAb;AAAA,MAAesI,eAAe,GAAAtI,EAAA,CAAA,CAAA,CAA9B,CAAA;;AACN,EAAA,IAAMiM,mBAAmB,GAAGhE,YAAM,CAAC,IAAD,CAAlC,CAAA;AACA,EAAA,IAAME,cAAc,GAAGF,YAAM,CAAC,IAAD,CAA7B,CAAA;AACA,EAAA,IAAMC,SAAS,GAAGD,YAAM,CAAC,IAAD,CAAxB,CAAA;AAEA,EAAA,IAAMiE,KAAK,GAAGT,eAAe,CAACD,OAAD,CAA7B,CAAA;AACA,EAAA,IAAMjD,MAAM,GAAG1B,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAA1B,CAAA;AACA,EAAA,IAAM4I,SAAS,GAAG7B,cAAc,CAACD,MAAD,CAAhC,CAAA;AACA,EAAA,IAAM+B,QAAQ,GAAG7B,aAAa,CAACF,MAAD,CAA9B,CAAA;AACA,EAAA,IAAMhH,MAAM,GAAG6G,oBAAoB,CAACjI,OAAD,CAAnC,CAAA;AAEA,EAAA,IAAMoK,mBAAmB,GAAGC,aAAO,CAAC;AAAM,IAAA,OAAA,YAAA;MACxC,IAAMwD,aAAa,GAAG,uCAAtB,CAAA;MACA,IAAMvD,YAAY,GAAGtK,OAAO,CAACA,OAAR,CAAgBuK,KAAhB,CAAsB,GAAtB,CAArB,CAAA;MACA,IAAMC,cAAc,GAAGF,YAAY,CAChC9H,GADoB,CAChB,UAACiI,IAAD,EAAK;AAAK,QAAA,OACbmD,KAAK,CAACnD,IAAD,CAAL,gBAEIhG,wCAACqJ,iBAAD,EAAA;UACE,GAAG,EAAElD,0BAAM,EADb;AAEE,UAAA,SAAS,EAAE,CACTiD,aADS,EAET,6CAFS,CAFb;AAME,UAAA,GAAG,EAAEpD,IANP;UAOE,IAAI,EAAE1F,uBAAe,CAAC8F,MAPxB;UAQE,KAAK,EAAE5E,mBAAW,CAACQ,OAAAA;AARrB,SAAA,EAUGgE,IAVH,CAFJ,gBAgBIhG,yBAAA,CAAA,aAAA,CAACK,aAAD,EAAA;UACE,GAAG,EAAE8F,0BAAM,EADb;AAEE,UAAA,SAAS,EAAEiD,aAFb;UAGE,IAAI,EAAE9I,uBAAe,CAAC8F,MAHxB;UAIE,KAAK,EAAE5E,mBAAW,CAACC,cAAAA;AAJrB,SAAA,EAMGuE,IANH,CAjBS,CAAA;AA0Bd,OA3BoB,CAAvB,CAAA;;AA6BA,MAAA,IAAIzK,OAAO,CAAC0K,SAAR,GAAoB,CAAxB,EAA2B;AACzBF,QAAAA,cAAc,CAACG,IAAf,eACElG,yBAAA,CAAA,aAAA,CAACK,aAAD,EAAA;UACE,GAAG,EAAE8F,0BAAM,EADb;AAEE,UAAA,SAAS,EAAEiD,aAFb;UAGE,IAAI,EAAE9I,uBAAe,CAAC8F,MAHxB;UAIE,KAAK,EAAE5E,mBAAW,CAACI,cAAAA;SAElB/B,EAAAA,SAAS,CAACwG,cANb,CADF,CAAA,CAAA;AAUD,OAAA;;AAED,MAAA,OAAON,cAAP,CAAA;KA7CwC,CAAA;GAAP,EA8ChC,CAACxK,OAAD,EAAUA,OAAO,CAAC0K,SAAlB,CA9CgC,CAAnC,CAAA;;EAgDA,IAAMqD,QAAQ,GAAG,YAAA;AACf,IAAA,IAAIT,gBAAgB,CAACtN,OAAD,CAApB,EAA+B;AACrB,MAAA,IAAAwN,GAAG,GAAKD,UAAU,CAAAC,GAAlB,CAAA;MACR5G,MAAM,CAACoH,IAAP,CAAYR,GAAZ,CAAA,CAAA;AACD,KAAA;AACF,GALD,CArEM;;;AA6ENzC,EAAAA,eAAS,CAAC,YAAA;;;AACR,IAAA,IAAI,CAAA,CAAA1J,EAAA,GAAAsM,mBAAmB,KAAA,IAAnB,IAAAA,mBAAmB,KAAA,KAAA,CAAnB,GAAmB,KAAA,CAAnB,GAAAA,mBAAmB,CAAE3C,OAArB,MAA4B,IAA5B,IAA4B3J,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4BA,EAAA,CAAE4J,YAA9B,IAA6C,EAAjD,EAAqD;AACnDjB,MAAAA,eAAe,CAAC;AAAEkB,QAAAA,GAAG,EAAE,MAAA;AAAP,OAAD,CAAf,CAAA;AACD,KAFD,MAEO;AACLlB,MAAAA,eAAe,CAAC;AAAEkB,QAAAA,GAAG,EAAE,KAAA;AAAP,OAAD,CAAf,CAAA;AACD,KAAA;AACF,GANQ,EAMN,CAACtE,MAAM,CAACuE,UAAR,CANM,CAAT,CAAA;EAQA,oBACE1G,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAE2G,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACLC,KAAK,CAACC,OAAN,CAAcrC,SAAd,CAAA,GAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,EAC8C,IAD9C,CAAA,EAC8C,CACvD,iCADuD,CAD9C,OAAA,CAAA,CAGTsC,IAHS,CAGJ,GAHI,CADb;AAKE,IAAA,GAAG,EAAEoC,mBAAAA;GAEL,eAAAlJ,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,sCAAA;GAEV,eAAAA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,4CAAA;AAAf,GAAA,EAEI,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD,EAAoB;AAAA,MAAA,oBAC/BhH,wCAACe,cAAD,EAAA;AACE,QAAA,SAAS,EAAC,oDADZ;AAEE,QAAA,GAAG,EAAEpE,MAAM,CAACsK,UAAP,IAAqB,EAF5B;AAGE,QAAA,GAAG,EAAE9B,SAHP;AAIE,QAAA,KAAK,EAAC,MAJR;AAKE,QAAA,MAAM,EAAC,MALT;AAME,QAAA,OAAO,EAAE,YAAA;UACP,IAAI,CAACJ,kBAAL,EAAyB;YACvBiC,cAAc,EAAA,CAAA;AACf,WAAA;AACF,SAAA;OAX4B,CAAA,CAAA;KADnC;IAeE,SAAS,EAAE,UAACE,aAAD,EAAmB;AAAA,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAEhC,SADb;AAEE,QAAA,gBAAgB,EAAEA,SAFpB;AAGE,QAAA,aAAa,EAAE+B,aAHjB;AAIE,QAAA,KAAK,EAAE;AAAEE,UAAAA,UAAU,EAAE,CAAd;AAAiBC,UAAAA,aAAa,EAAE,CAAA;AAAhC,SAAA;OAGLrC,EAAAA,iBAAiB,GAEbA,iBAAiB,CAAC;AAChBxF,QAAAA,IAAI,EAAE7C,MADU;AAEhB2K,QAAAA,KAAK,EAAEJ,aAAAA;OAFQ,CAFJ,gBAQblH,yBAAA,CAAA,aAAA,CAACuH,4BAAD,EAAA;AACE,QAAA,IAAI,EAAE5K,MADR;AAEE,QAAA,SAAS,EAAEuK,aAFb;QAGE,gBAAgB,EAAA,IAAA;AAHlB,OAAA,CAfR,CAD4B,CAAA;AAwB7B,KAAA;AAvCH,GAAA,CAHN,CAHF,eAkDElH,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,6CAAA;GAEX,EAAA,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,oDAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,iEADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAFxB;IAGE,KAAK,EAAEiF,MAAM,GAAGhE,mBAAW,CAACgG,WAAf,GAA6BhG,mBAAW,CAACI,cAAAA;AAHxD,GAAA,EAMIjF,MAAM,KACJA,MAAM,CAAC8K,UAAP,IACG9K,MAAM,CAAC+K,QADV,IAEG/K,MAAM,CAACE,MAHN,CANV,CADF,eAcEmD,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,6DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqH,SAFxB;IAGE,KAAK,EAAEnG,mBAAW,CAACoG,cAAAA;AAHrB,GAAA,EAKGpM,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,GAApB,EAAyB;AAAEoM,IAAAA,MAAM,EAAEhD,UAAAA;GAAnC,CALT,CAdF,CAHN,eA2BE7E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,0DAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,mEADZ;IAEE,IAAI,EAAEC,uBAAe,CAAC8F,MAFxB;IAGE,KAAK,EAAE5E,mBAAW,CAACC,cAAAA;AAHrB,GAAA,EAKGkE,mBAAmB,EALtB,CADF,CA3BF,CAlDF,eAwFI3F,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,oDADZ;AAEE,IAAA,GAAG,EAAEoF,cAFP;AAGE,IAAA,KAAK,EAAEE,YAAAA;AAHT,GAAA,eAKEtF,wCAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD;AAAoB,MAAA,OAC/B3C,eAAe,CAAC;AAAE9I,QAAAA,OAAO,EAAEA,OAAX;AAAoBsB,QAAAA,MAAM,EAAEA,MAA5B;AAAoC8G,QAAAA,MAAM,EAAEA,MAAAA;OAA7C,CAAf,iBACE3D,yBAAA,CAAA,aAAA,CAAC6B,kBAAD,EAAA;AACE,QAAA,SAAS,EAAC,0DADZ;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,MAAM,EAAC,MAHT;AAIE,QAAA,OAAO,EAAE,YAAA;UACPmF,cAAc,EAAA,CAAA;AACf,SAAA;AANH,OAAA,eAQEhH,wCAACkB,YAAD,EAAA;QACE,IAAI,EAAEC,iBAAS,CAAC8G,IADlB;QAEE,SAAS,EAAE5G,kBAAU,CAAC6G,eAFxB;AAGE,QAAA,KAAK,EAAC,MAHR;AAIE,QAAA,MAAM,EAAC,MAAA;AAJT,OAAA,CARF,CAF6B,CAAA;KADnC;IAoBE,SAAS,EAAE,UAAChB,aAAD;AAAmB,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAE/B,cADb;AAEE,QAAA,gBAAgB,EAAEA,cAFpB;AAGE,QAAA,aAAa,EAAE8B,aAHjB;QAIE,QAAQ,EAAA,IAAA;AAJV,OAAA,EAOInD,UAAU,CAAC;AAAExI,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAV,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,0DADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACPlG,UAAAA,eAAe,CAAC1G,OAAO,CAACA,OAAT,CAAf,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAACuI,2BAPb,CARN,EAoBIjE,UAAU,CAAC;AAAE5I,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAV,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,0DADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AACZ,YAAA,OAAA;AACD,WAAA;;UACDiF,QAAQ,CAAC,IAAD,CAAR,CAAA;UACAwC,aAAa,EAAA,CAAA;AACd,SAAA;AARH,OAAA,EAUGrH,SAAS,CAACwI,2BAVb,CArBN,EAoCIpE,YAAY,CAAC;AAAE1I,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,4DADZ;AAEE,QAAA,OAAO,EAAE,YAAA;UACP1D,aAAa,CAAClJ,OAAD,CAAb,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAACyI,6BAPb,CArCN,EAiDIlE,YAAY,CAAC;AAAE7I,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,SAAS,EAAC,4DADZ;AAEE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AACZ,YAAA,OAAA;AACD,WAAA;;UACDkF,UAAU,CAAC,IAAD,CAAV,CAAA;UACAuC,aAAa,EAAA,CAAA;AACd,SAAA;AARH,OAAA,EAUGrH,SAAS,CAAC0I,6BAVb,CAlDN,CAD4B,CAAA;AAkE7B,KAAA;GA3FL,CAAA,CAxFJ,CAPF,eA+LEvI,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,yCAAA;GACb,eAAAA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,iDAAA;AAAf,GAAA,EAEI8I,UAAU,CAACC,GAAX,iBACE/I,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,sDADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqH,SAFxB;IAGE,KAAK,EAAEnG,mBAAW,CAACI,cAAAA;GAElBkH,EAAAA,UAAU,CAACC,GALd,CAHN,EAaID,UAAU,CAACnI,KAAX,iBACEX,yBAAA,CAAA,aAAA,CAACqJ,iBAAD,EAAA;AACE,IAAA,SAAS,EAAC,wDADZ;IAEE,GAAG,EAAEP,UAAU,CAACC,GAFlB;IAGE,IAAI,EAAEzI,uBAAe,CAACkJ,UAHxB;IAIE,KAAK,EAAEhI,mBAAW,CAACQ,OAAAA;GAGjB8G,EAAAA,UAAU,CAACnI,KAPf,CAdN,EA2BImI,UAAU,CAACW,WAAX,iBACEzJ,yBAAA,CAAA,aAAA,CAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,8DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqB,MAFxB;IAGE,KAAK,EAAEH,mBAAW,CAACC,cAAAA;GAElBqH,EAAAA,UAAU,CAACW,WALd,CA5BN,EAsCIX,UAAU,CAACC,GAAX,iBACE/I,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,4DADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAEsJ,QAHX;AAIE,IAAA,SAAS,EAAEA,QAJb;AAKE,IAAA,QAAQ,EAAE,CAAA;GAGRL,EAAAA,YAAY,iBACVjJ,yBAAA,CAAA,aAAA,CAAC0J,qBAAD,EAAA;AACE,IAAA,SAAS,EAAC,mEADZ;AAEE,IAAA,GAAG,EAAET,YAAY,CAACF,GAAb,IAAoB,EAF3B;AAGE,IAAA,GAAG,EAAEE,YAAY,CAACU,GAAb,IAAoB,EAH3B;AAIE,IAAA,MAAM,EAAC,OAJT;AAKE,IAAA,gBAAgB,eACd3J,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC,gFAAA;AAAf,KAAA,eACEA,wCAACkB,YAAD,EAAA;MACE,IAAI,EAAEC,iBAAS,CAACyI,cADlB;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,MAAM,EAAC,MAAA;KAJX,CAAA,CAAA;AANJ,GAAA,CATN,CAvCN,CADF,EAuEI,CAACnE,SAAS,IAAIC,QAAd,kBACE1F,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,mDAAA;GAEXyF,EAAAA,SAAS,iBACPzF,yBAAA,CAAA,aAAA,CAAC8H,cAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAAA;AAFT,GAAA,eAIE9H,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,4DADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC4G,OAFlB;IAGE,SAAS,EAAE1G,kBAAU,CAACW,OAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAJF,CAHN,EAkBI0D,QAAQ,iBACN1F,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,2DADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC6G,KAFlB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GAvBf,CAAA,CAxEN,CA/LF,CADF,CAAA;AAySD;;ACrbM,IAAM6B,gBAAgB,GAAG;AAC9BC,EAAAA,KAAK,EAAE,OADuB;AAE9BC,EAAAA,KAAK,EAAE,OAFuB;AAG9BC,EAAAA,WAAW,EAAE,aAAA;AAHiB,CAAzB,CAAA;AAMP,IAAMC,iBAAe,GAAG;EACtBH,KAAK,EAAE,CACL,YADK,EAEL,WAFK,EAGL,WAHK,EAIL,WAJK,EAKL,YALK,CADe;EAQtBC,KAAK,EAAE,CACL,YADK,EAEL,WAFK,EAGL,YAHK,EAIL,WAJK,CAAA;AARe,CAAxB,CAAA;AAgBO,IAAMG,qBAAqB,GAAG,UAACC,IAAD,EAAa;EAChD,IAAIF,iBAAe,CAACH,KAAhB,CAAsB7L,OAAtB,CAA8BkM,IAA9B,CAAuC,IAAA,CAA3C,EAA8C;IAC5C,OAAON,gBAAgB,CAACC,KAAxB,CAAA;AACD,GAAA;;EACD,IAAIG,iBAAe,CAACF,KAAhB,CAAsB9L,OAAtB,CAA8BkM,IAA9B,CAAuC,IAAA,CAA3C,EAA8C;IAC5C,OAAON,gBAAgB,CAACE,KAAxB,CAAA;AACD,GAAA;;EACD,OAAOF,gBAAgB,CAACG,WAAxB,CAAA;AACD,CARM;;ACwBiB,SAAAI,2BAAA,CAA4BxN,EAA5B,EAUhB;;;MATN4H,SAAS,GAAA5H,EAAA,CAAA4H;MACTjJ,OAAO,GAAAqB,EAAA,CAAArB;MACPkE,QAAQ,GAAA7C,EAAA,CAAA6C;MACR5C,MAAM,GAAAD,EAAA,CAAAC;MACN8G,MAAM;MACNiB,QAAQ,GAAAhI,EAAA,CAAAgI;MACRyF,OAAO,GAAAzN,EAAA,CAAAyN;MACP1F,UAAU,GAAA/H,EAAA,CAAA+H;MACVF,aAAa,GAAA7H,EAAA,CAAA6H;AAGX,EAAA,IAAA0F,IAAI,GAIF5O,OAAO,KAJT;AAAA,MACAwN,GAAG,GAGDxN,OAAO,CAAAwN,GAJT;AAAA,MAEAuB,QAAQ,GAEN/O,OAAO,CAFD+O,QAFR;AAAA,MAGAC,UAAU,GACRhP,OAAO,WAJT,CAAA;AAKF,EAAA,IAAMiP,YAAY,GAAID,UAAU,IAAIA,UAAU,CAACvG,MAAX,GAAoB,CAAlC,IAAuCuG,UAAU,CAAC,CAAD,CAAV,CAAcxB,GAAtD,IAA8D,IAAnF,CAAA;;AACM,EAAA,IAAA/L,EAAA,GAA4B8C,gBAAU,CAACC,uCAAD,CAAtC;AAAA,MAAEF,SAAS,GAAA7C,EAAA,CAAA6C,SAAX;AAAA,MAAagF,UAAU,GAAA7H,EAAA,CAAA6H,UAAvB,CAAA;;AACA,EAAA,IAAA5H,EAAA,GAA4C6C,gBAAU,CAACgF,0BAAD,CAAtD;AAAA,MAAEC,kBAAkB,GAAA9H,EAAA,CAAA8H,kBAApB;AAAA,MAAsBC,iBAAiB,GAAA/H,EAAA,CAAA+H,iBAAvC,CAAA;;AACA,EAAA,IAAAyF,EAAA,GAAkCpF,cAAQ,CAAC,GAAD,CAA1C;AAAA,MAACqF,YAAY,GAAAD,EAAA,CAAA,CAAA,CAAb;AAAA,MAAeE,eAAe,GAAAF,EAAA,CAAA,CAAA,CAA9B,CAAA;;AACN,EAAA,IAAMxF,UAAU,GAAGC,YAAM,CAAC,IAAD,CAAzB,CAAA;AACA,EAAA,IAAME,cAAc,GAAGF,YAAM,CAAC,IAAD,CAA7B,CAAA;AACA,EAAA,IAAMC,SAAS,GAAGD,YAAM,CAAC,IAAD,CAAxB,CAAA;AAEA,EAAA,IAAM0F,6BAA6B,GAAGhF,aAAO,CAAC,YAAA;IAAM,OAAA,UAACuE,IAAD,EAAK;MAAK,OAAA,UAACvN,EAAD,EAAU;AAAP,QAAA,IAAA8F,KAAK,GAAA9F,EAAA,CAAA8F,KAAL,CAAA;AAAY,QAAA;AAAA;AAAE;AAC7E,UAAA1C,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,YAAA,KAAK,EAAE0C,KAAAA;AAAZ,WAAA,eACE1C,wCAACkB,YAAD,EAAA;AACE,YAAA,IAAI,EAAEiJ,IADR;YAEE,SAAS,EAAE9I,kBAAU,CAACwJ,eAFxB;AAGE,YAAA,KAAK,EAAC,MAHR;AAIE,YAAA,MAAM,EAAC,MAAA;WALX,CAAA,CAAA;AAD2E,UAAA;OAAf,CAAA;KAAV,CAAA;GAAP,EAS1C,EAT0C,CAA7C,CAAA;AAWA,EAAA,IAAMrF,MAAM,GAAG1B,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAA1B,CAAA;AACA,EAAA,IAAMiO,aAAa,GAAGpH,WAAW,CAACC,MAAD,CAAjC,CAAA;AACA,EAAA,IAAM8B,SAAS,GAAG7B,cAAc,CAACD,MAAD,CAAhC,CAAA;AACA,EAAA,IAAM+B,QAAQ,GAAG7B,aAAa,CAACF,MAAD,CAA9B,CAAA;AACA,EAAA,IAAMhH,MAAM,GAAG6G,oBAAoB,CAACjI,OAAD,CAAnC,CAAA;AAEA+K,EAAAA,eAAS,CAAC,YAAA;;;AACR,IAAA,IAAMyE,cAAc,GAAG,CAAA,CAAAnO,EAAA,GAAAqI,UAAU,KAAV,IAAA,IAAAA,UAAU,KAAV,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,UAAU,CAAEsB,OAAZ,MAAmB,IAAnB,IAAmB3J,EAAA,KAAA,KAAA,CAAnB,GAAmB,KAAA,CAAnB,GAAmBA,EAAA,CAAEoO,WAArB,IAAmC,EAA1D,CAAA;IACAL,eAAe,CAACI,cAAc,GAAG,GAAjB,GAAuB,GAAvB,GAA6BA,cAA9B,CAAf,CAAA;GAFO,EAGN,EAHM,CAAT,CAAA;EAKA,oBACE/K,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAE2G,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACLC,KAAK,CAACC,OAAN,CAAcrC,SAAd,CAAA,GAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,EAC8C,IAD9C,CAAA,EAC8C,CACvD,wCADuD,CAD9C,OAAA,CAAA,CAGTsC,IAHS,CAGJ,GAHI,CADb;AAKE,IAAA,GAAG,EAAE7B,UAAAA;GAEL,eAAAjF,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,8CAAA;AAAf,GAAA,EAEI,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD,EAAoB;AAAA,MAAA,oBAC/BhH,wCAACe,cAAD,EAAA;AACE,QAAA,SAAS,EAAC,sDADZ;AAEE,QAAA,GAAG,EAAEpE,MAAM,CAACsK,UAAP,IAAqB,EAF5B;AAGE,QAAA,GAAG,EAAE9B,SAHP;AAIE,QAAA,KAAK,EAAC,MAJR;AAKE,QAAA,MAAM,EAAC,MALT;AAME,QAAA,OAAO,EAAE,YAAA;UACP,IAAI,CAACJ,kBAAL,EAAyB;YACvBiC,cAAc,EAAA,CAAA;AACf,WAAA;AACF,SAAA;OAX4B,CAAA,CAAA;KADnC;IAeE,SAAS,EAAE,UAACE,aAAD,EAAmB;AAAA,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAEhC,SADb;AAEE,QAAA,gBAAgB,EAAEA,SAFpB;AAGE,QAAA,aAAa,EAAE+B,aAHjB;AAIE,QAAA,KAAK,EAAE;AAAEE,UAAAA,UAAU,EAAE,CAAd;AAAiBC,UAAAA,aAAa,EAAE,CAAA;AAAhC,SAAA;OAGLrC,EAAAA,iBAAiB,GAEbA,iBAAiB,CAAC;AAChBxF,QAAAA,IAAI,EAAE7C,MADU;AAEhB2K,QAAAA,KAAK,EAAEJ,aAAAA;OAFQ,CAFJ,gBAQblH,yBAAA,CAAA,aAAA,CAACuH,4BAAD,EAAA;AACE,QAAA,IAAI,EAAE5K,MADR;AAEE,QAAA,SAAS,EAAEuK,aAFb;QAGE,gBAAgB,EAAA,IAAA;AAHlB,OAAA,CAfR,CAD4B,CAAA;AAwB7B,KAAA;AAvCH,GAAA,CAHN,CAPF,eAsDElH,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,+CAAA;GAEX,EAAA,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,sDAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,mEADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAFxB;IAGE,KAAK,EAAEiF,MAAM,GAAGhE,mBAAW,CAACgG,WAAf,GAA6BhG,mBAAW,CAACI,cAAAA;AAHxD,GAAA,EAMIjF,MAAM,KACJA,MAAM,CAAC8K,UAAP,IACG9K,MAAM,CAAC+K,QADV,IAEG/K,MAAM,CAACE,MAHN,CANV,CADF,eAcEmD,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,+DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqH,SAFxB;IAGE,KAAK,EAAEnG,mBAAW,CAACoG,cAAAA;AAHrB,GAAA,EAKGpM,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,GAApB,EAAyB;AAAEoM,IAAAA,MAAM,EAAEhD,UAAAA;GAAnC,CALT,CAdF,CAHN,eA2BE7E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,qDAAA;GACb,eAAAA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,2DADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,YAAA;AACP,MAAA,IAAI8K,aAAJ,EAAmB;QACjBT,OAAO,CAAC,IAAD,CAAP,CAAA;AACD,OAAA;KANL;AAQE,IAAA,SAAS,EAAE,YAAA;AACT,MAAA,IAAIS,aAAJ,EAAmB;QACjBT,OAAO,CAAC,IAAD,CAAP,CAAA;AACD,OAAA;KAXL;AAaE,IAAA,QAAQ,EAAE,CAAA;GAEV,eAAArK,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,oEAAA;AAAf,GAAA,CAfF,EAiBI,CAAAlD,EAAA,GAAA,EAAA,EACEA,EAAC,CAAA+M,gBAAgB,CAACE,KAAjB,CAAD,GACGhB,GAAG,IAAIuB,QAAR,gBAEItK,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,kEAAA;GAEVwK,EAAAA,YAAD,gBAEIxK,yBAAA,CAAA,aAAA,CAAC0J,qBAAD,EAAA;AACE,IAAA,SAAS,EAAC,kEADZ;AAEE,IAAA,GAAG,EAAEc,YAFP;AAGE,IAAA,KAAK,EAAEE,YAHT;AAIE,IAAA,MAAM,EAAC,OAJT;AAKE,IAAA,GAAG,EAAC,OALN;AAME,IAAA,WAAW,EAAEE,6BAA6B,CAACzJ,iBAAS,CAAC8J,IAAX,CAAA;AAN5C,GAAA,CAFJ,gBAYIjL,yBAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,IAAA,SAAS,EAAC,yEAAA;GACf,eAAAA,yBAAA,CAAA,aAAA,CAAA,QAAA,EAAA;IAAQ,GAAG,EAAE+I,GAAG,IAAIuB,QAApB;AAA8B,IAAA,IAAI,EAAEH,IAAAA;GADtC,CAAA,CAdR,eAmBEnK,yBAAA,CAAA,aAAA,CAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,wEADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC8J,IAFlB;IAGE,SAAS,EAAE5J,kBAAU,CAACwJ,eAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;GAxBX,CAAA,CAFJ,gBA+BI7K,yBAAA,CAAA,aAAA,CAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,wEADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC+J,KAFlB;IAGE,SAAS,EAAE7J,kBAAU,CAACwJ,eAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAjCR,EA0CE/N,EAAC,CAAA+M,gBAAgB,CAACC,KAAjB,CAAD,GACGf,GAAG,IAAIuB,QAAR,gBAEItK,wCAAC0J,qBAAD,EAAA;AACE,IAAA,SAAS,EAAC,kEADZ;AAEE,IAAA,GAAG,EAAEc,YAAY,IAAIzB,GAAhB,IAAuBuB,QAF9B;AAGE,IAAA,GAAG,EAAC,OAHN;AAIE,IAAA,KAAK,EAAEI,YAJT;AAKE,IAAA,MAAM,EAAC,OALT;AAME,IAAA,WAAW,EAAEE,6BAA6B,CAACzJ,iBAAS,CAAC+J,KAAX,CAAA;GARhD,CAAA,gBAYIlL,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,wEADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC+J,KAFlB;IAGE,SAAS,EAAE7J,kBAAU,CAACwJ,eAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;GA5DjB,CAAA,EAgEE/N,EAAA,CAAC+M,gBAAgB,CAACG,WAAlB,CAAA,gBACEhK,yBAAA,CAAA,aAAA,CAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,oEADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC+J,KAFlB;IAGE,SAAS,EAAE7J,kBAAU,CAACwJ,eAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAjEJ,EAyEE/N,EAzEF,EAyEEoN,qBAAqB,CAACC,IAAD,CAzEvB,CAjBJ,CADF,CA3BF,EA2HI,CAAC1E,SAAS,IAAIC,QAAd,kBACE1F,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,qDAAA;GAEXyF,EAAAA,SAAS,iBACPzF,yBAAA,CAAA,aAAA,CAAC8H,cAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAAA;AAFT,GAAA,eAIE9H,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,8DADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC4G,OAFlB;IAGE,SAAS,EAAE1G,kBAAU,CAACW,OAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAJF,CAHN,EAkBI0D,QAAQ,iBACN1F,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,6DADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC6G,KAFlB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GAvBf,CAAA,CA5HN,CAtDF,eAiNEhI,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,sDADZ;AAEE,IAAA,GAAG,EAAEoF,cAAAA;AAFP,GAAA,eAIEpF,wCAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD;AAAoB,MAAA,OAC/B3C,eAAe,CAAC;AAAE9I,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAf,iBACE3D,yBAAA,CAAA,aAAA,CAAC6B,kBAAD,EAAA;AACE,QAAA,SAAS,EAAC,4DADZ;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,MAAM,EAAC,MAHT;AAIE,QAAA,OAAO,EAAEmF,cAAAA;AAJX,OAAA,eAMEhH,wCAACkB,YAAD,EAAA;QACE,IAAI,EAAEC,iBAAS,CAAC8G,IADlB;QAEE,SAAS,EAAE5G,kBAAU,CAAC6G,eAFxB;AAGE,QAAA,KAAK,EAAC,MAHR;AAIE,QAAA,MAAM,EAAC,MAAA;AAJT,OAAA,CANF,CAF6B,CAAA;KADnC;IAkBE,SAAS,EAAE,UAAChB,aAAD;AAAmB,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAE/B,cADb;AAEE,QAAA,gBAAgB,EAAEA,cAFpB;AAGE,QAAA,aAAa,EAAE8B,aAHjB;QAIE,QAAQ,EAAA,IAAA;AAJV,OAAA,EAOIjD,YAAY,CAAC;AAAE1I,QAAAA,OAAO,SAAT;AAAWsB,QAAAA,MAAM,QAAjB;AAAmB8G,QAAAA,MAAM;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,OAAO,EAAE,YAAA;UACP1D,aAAa,CAAClJ,OAAD,CAAb,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AAJH,OAAA,EAMGrH,SAAS,CAACyI,6BANb,CARN,EAmBIlE,YAAY,CAAC;AAAE7I,QAAAA,OAAO,SAAT;AAAWsB,QAAAA,MAAM,QAAjB;AAAmB8G,QAAAA,MAAM;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AACZ,YAAA,OAAA;AACD,WAAA;;UACDkF,UAAU,CAAC,IAAD,CAAV,CAAA;UACAuC,aAAa,EAAA,CAAA;AACd,SAAA;AAPH,OAAA,EASGrH,SAAS,CAAC0I,6BATb,CApBN,CAD4B,CAAA;AAmC7B,KAAA;AArDH,GAAA,CAJF,CAjNF,CADF,CAAA;AAgRD;;AC3WM,IAAM4C,aAAa,GAAG,UAACC,OAAD,EAAgB;EAC3C,IAAMC,SAAS,GAAG,WAAlB,CAAA;EACA,IAAMC,OAAO,GAAG,WAAhB,CAAA;;AACA,EAAA,IAAID,SAAS,CAACzC,IAAV,CAAewC,OAAf,CAAJ,EAA6B;IAC3B,OAAOjK,iBAAS,CAACoK,UAAjB,CAAA;AACD,GAAA;;AACD,EAAA,IAAID,OAAO,CAAC1C,IAAR,CAAawC,OAAb,CAAJ,EAA2B;IACzB,OAAOjK,iBAAS,CAACqK,GAAjB,CAAA;AACD,GAAA;;EACD,OAAOrK,iBAAS,CAACsK,aAAjB,CAAA;AACD,CAVM,CAAA;AAYA,IAAMC,QAAQ,GAAG,UAACC,OAAD,EAAiBC,MAAjB,EAA+B;EACrD,IAAID,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKE,SAApC,EAA+C,OAAO,EAAP,CAAA;AAC/C,EAAA,IAAIF,OAAO,CAAC3H,MAAR,IAAkB4H,MAAtB,EAA8B,OAAOD,OAAP,CAAA;EAC9B,IAAMG,SAAS,GAAG,KAAlB,CAAA;AACA,EAAA,IAAMC,MAAM,GAAGD,SAAS,CAAC9H,MAAzB,CAAA;AACA,EAAA,IAAMgI,WAAW,GAAGJ,MAAM,GAAGG,MAA7B,CAAA;EACA,IAAME,UAAU,GAAGzO,IAAI,CAAC0O,IAAL,CAAUF,WAAW,GAAG,CAAxB,CAAnB,CAAA;EACA,IAAMG,SAAS,GAAG3O,IAAI,CAAC4O,KAAL,CAAWJ,WAAW,GAAG,CAAzB,CAAlB,CAAA;AACA,EAAA,OAAOL,OAAO,CAACU,MAAR,CAAe,CAAf,EAAkBJ,UAAlB,CAAgCH,GAAAA,SAAhC,GAA4CH,OAAO,CAACU,MAAR,CAAeV,OAAO,CAAC3H,MAAR,GAAiBmI,SAAhC,CAAnD,CAAA;AACD,CATM;;ACyBiB,SAAAG,sBAAA,CAAuB1P,EAAvB,EAShB;MARN4H,SAAS,GAAA5H,EAAA,CAAA4H;MACTjJ,OAAO,GAAAqB,EAAA,CAAArB;MACPsB,MAAM,GAAAD,EAAA,CAAAC;MACN4C,QAAQ,GAAA7C,EAAA,CAAA6C;MACRmF,QAAQ,GAAAhI,EAAA,CAAAgI;MACRjB,MAAM,GAAA/G,EAAA,CAAA+G;MACNgB,UAAU,GAAA/H,EAAA,CAAA+H;MACVF,aAAa,GAAA7H,EAAA,CAAA6H;AAEb,EAAA,IAAMW,cAAc,GAAGF,YAAM,CAAC,IAAD,CAA7B,CAAA;AACA,EAAA,IAAMC,SAAS,GAAGD,YAAM,CAAC,IAAD,CAAxB,CAAA;;AACM,EAAA,IAAApI,EAAA,GAA4BgD,gBAAU,CAACC,uCAAD,CAAtC;AAAA,MAAEF,SAAS,GAAA/C,EAAA,CAAA+C,SAAX;AAAA,MAAagF,UAAU,GAAA/H,EAAA,CAAA+H,UAAvB,CAAA;;AACA,EAAA,IAAA7H,EAAA,GAA4C8C,gBAAU,CAACgF,0BAAD,CAAtD;AAAA,MAAEC,kBAAkB,GAAA/H,EAAA,CAAA+H,kBAApB;AAAA,MAAsBC,iBAAiB,GAAAhI,EAAA,CAAAgI,iBAAvC,CAAA;;EAEN,IAAMuH,WAAW,GAAG,YAAQ;AAAApK,IAAAA,MAAM,CAACoH,IAAP,CAAYhO,OAAO,CAACwN,GAApB,CAAA,CAAA;GAA5B,CAAA;;AAEA,EAAA,IAAMvD,MAAM,GAAG1B,WAAW,CAACvI,OAAD,EAAUsB,MAAV,CAA1B,CAAA;AACA,EAAA,IAAM4I,SAAS,GAAG7B,cAAc,CAACD,MAAD,CAAhC,CAAA;AACA,EAAA,IAAM+B,QAAQ,GAAG7B,aAAa,CAACF,MAAD,CAA9B,CAAA;AACA,EAAA,IAAMhH,MAAM,GAAG6G,oBAAoB,CAACjI,OAAD,CAAnC,CAAA;EAEA,oBACEyE,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAE2G,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACLC,KAAK,CAACC,OAAN,CAAcrC,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,EAC8C,IAD9C,CAAA,EAC8C,CACvD,mCADuD,CAD9C,EAGT,KAHS,CAAA,CAGTsC,IAHS,CAGJ,GAHI,CAAA;GAKX,eAAA9G,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,yCAAA;AAAf,GAAA,EAEM,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD,EAAoB;AAAA,MAAA,oBAC/BhH,wCAACe,cAAD,EAAA;AACE,QAAA,SAAS,EAAC,iDADZ;AAEE,QAAA,GAAG,EAAEpE,MAAM,CAACsK,UAAP,IAAqB,EAF5B;AAGE,QAAA,GAAG,EAAE9B,SAHP;AAIE,QAAA,KAAK,EAAC,MAJR;AAKE,QAAA,MAAM,EAAC,MALT;AAME,QAAA,OAAO,EAAE,YAAA;UACP,IAAI,CAACJ,kBAAL,EAAyB;YACvBiC,cAAc,EAAA,CAAA;AACf,WAAA;AACF,SAAA;OAX4B,CAAA,CAAA;KADnC;IAeE,SAAS,EAAE,UAACE,aAAD,EAAmB;AAAA,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAEhC,SADb;AAEE,QAAA,gBAAgB,EAAEA,SAFpB;AAGE,QAAA,aAAa,EAAE+B,aAHjB;AAIE,QAAA,KAAK,EAAE;AAAEE,UAAAA,UAAU,EAAE,CAAd;AAAiBC,UAAAA,aAAa,EAAE,CAAA;AAAhC,SAAA;OAGLrC,EAAAA,iBAAiB,GAEfA,iBAAiB,CAAC;AAChBxF,QAAAA,IAAI,EAAE7C,MADU;AAEhB2K,QAAAA,KAAK,EAAEJ,aAAAA;OAFQ,CAFF,gBAQflH,yBAAA,CAAA,aAAA,CAACuH,4BAAD,EAAA;AACE,QAAA,IAAI,EAAE5K,MADR;AAEE,QAAA,SAAS,EAAEuK,aAFb;QAGE,gBAAgB,EAAA,IAAA;AAHlB,OAAA,CAfN,CAD4B,CAAA;AAwB7B,KAAA;AAvCH,GAAA,CAHR,CANF,eAqDElH,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,0CAAA;GAEX,EAAA,CAAC4E,QAAD,iBACE5E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,iDAAA;AAAf,GAAA,eACEA,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,8DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACC,SAFxB;IAGE,KAAK,EAAEiF,MAAM,GAAGhE,mBAAW,CAACgG,WAAf,GAA6BhG,mBAAW,CAACI,cAAAA;AAHxD,GAAA,EAMIjF,MAAM,KACJA,MAAM,CAAC8K,UAAP,IACG9K,MAAM,CAAC+K,QADV,IAEG/K,MAAM,CAACE,MAHN,CANV,CADF,eAcEmD,wCAACK,aAAD,EAAA;AACE,IAAA,SAAS,EAAC,0DADZ;IAEE,IAAI,EAAEC,uBAAe,CAACqH,SAFxB;IAGE,KAAK,EAAEnG,mBAAW,CAACoG,cAAAA;AAHrB,GAAA,EAKGpM,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,GAApB,EAAyB;AAAEoM,IAAAA,MAAM,EAAEhD,UAAAA;GAAnC,CALT,CAdF,CAHN,eA2BE7E,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,gDAAA;GAEXmL,EAAAA,aAAa,CAAC5P,OAAO,CAACwN,GAAT,CAAb,iBACE/I,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,sDADZ;AAEE,IAAA,IAAI,EAAEiK,aAAa,CAAC5P,OAAO,CAACwN,GAAT,CAFrB;IAGE,SAAS,EAAE1H,kBAAU,CAACW,OAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;GARf,CAAA,eAYEhC,wCAACwM,kBAAD,EAAA;AACE,IAAA,SAAS,EAAC,2DADZ;AAEE,IAAA,OAAO,EAAED,WAAAA;AAFX,GAAA,eAIEvM,wCAACK,aAAD,EAAA;IACE,IAAI,EAAEC,uBAAe,CAAC8F,MADxB;IAEE,KAAK,EAAE5E,mBAAW,CAACC,cAAAA;GAElBiK,EAAAA,QAAQ,CAACnQ,OAAO,CAACkR,IAAR,IAAgBlR,OAAO,CAACwN,GAAzB,EAA8B,EAA9B,CAJX,CAJF,CAZF,CA3BF,EAoDI,CAACtD,SAAS,IAAIC,QAAd,kBACE1F,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,gDAAA;GAEXyF,EAAAA,SAAS,iBACPzF,yBAAA,CAAA,aAAA,CAAC8H,cAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAAA;AAFT,GAAA,eAIE9H,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,yDADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC4G,OAFlB;IAGE,SAAS,EAAE1G,kBAAU,CAACW,OAHxB;AAIE,IAAA,KAAK,EAAC,MAJR;AAKE,IAAA,MAAM,EAAC,MAAA;AALT,GAAA,CAJF,CAHN,EAkBI0D,QAAQ,iBACN1F,wCAACkB,YAAD,EAAA;AACE,IAAA,SAAS,EAAC,wDADZ;IAEE,IAAI,EAAEC,iBAAS,CAAC6G,KAFlB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC,MAAA;GAvBf,CAAA,CArDN,CArDF,eAyIEhI,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,iDADZ;AAEE,IAAA,GAAG,EAAEoF,cAAAA;AAFP,GAAA,eAKMpF,wCAAC+G,mBAAD,EAAA;IACE,WAAW,EAAE,UAACC,cAAD,EAAoB;AAAA,MAAA,OAC/B3C,eAAe,CAAC;AAAE9I,QAAAA,OAAO,EAAAA,OAAT;AAAWsB,QAAAA,MAAM,EAAAA,MAAjB;AAAmB8G,QAAAA,MAAM,EAAAA,MAAAA;OAA1B,CAAf,iBACE3D,yBAAA,CAAA,aAAA,CAAC6B,kBAAD,EAAA;AACE,QAAA,SAAS,EAAC,uDADZ;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,MAAM,EAAC,MAHT;AAIE,QAAA,OAAO,EAAEmF,cAAAA;AAJX,OAAA,eAMEhH,wCAACkB,YAAD,EAAA;QACE,IAAI,EAAEC,iBAAS,CAAC8G,IADlB;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,MAAM,EAAC,MAAA;AAHT,OAAA,CANF,CAF6B,CAAA;KADnC;IAiBE,SAAS,EAAE,UAACf,aAAD;AAAmB,MAAA,oBAC5BlH,wCAACmH,iBAAD,EAAA;AACE,QAAA,SAAS,EAAE/B,cADb;AAEE,QAAA,gBAAgB,EAAEA,cAFpB;AAGE,QAAA,aAAa,EAAE8B,aAHjB;QAIE,QAAQ,EAAA,IAAA;AAJV,OAAA,EAOIjD,YAAY,CAAC;AAAE1I,QAAAA,OAAO,SAAT;AAAWsB,QAAAA,MAAM,QAAjB;AAAmB8G,QAAAA,MAAM;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AAAE,YAAA,OAAA;AAAS,WAAA;;UACzBgF,aAAa,CAAClJ,OAAD,CAAb,CAAA;UACA2L,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAACyI,6BAPb,CARN,EAoBIlE,YAAY,CAAC;AAAE7I,QAAAA,OAAO,SAAT;AAAWsB,QAAAA,MAAM,QAAjB;AAAmB8G,QAAAA,MAAM;OAA1B,CAAZ,iBACE3D,yBAAA,CAAA,aAAA,CAACmI,gBAAD,EAAA;AACE,QAAA,OAAO,EAAE,YAAA;AACP,UAAA,IAAI1I,QAAJ,EAAc;AAAE,YAAA,OAAA;AAAS,WAAA;;UACzBkF,UAAU,CAAC,IAAD,CAAV,CAAA;UACAuC,aAAa,EAAA,CAAA;AACd,SAAA;AALH,OAAA,EAOGrH,SAAS,CAAC0I,6BAPb,CArBN,CAD4B,CAAA;AAkC7B,KAAA;AAnDH,GAAA,CALN,CAzIF,CADF,CAAA;AAwMD;;AC3PuB,SAAAmE,kBAAA,CAAmB9P,EAAnB,EAGhB;MAFN+P,YAAY,GAAA/P,EAAA,CAAA+P;MACZC,eAAe,GAAAhQ,EAAA,CAAAgQ;AAEP,EAAA,IAAA/M,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAAA;AAER,EAAA,oBACEC,wCAAC6M,aAAD,EAAA;AACE,IAAA,QAAQ,EAAEF,YADZ;AAEE,IAAA,QAAQ,EAAEC,eAFZ;AAGE,IAAA,UAAU,EAAC,QAHb;IAIE,SAAS,EAAE/M,SAAS,CAACiN,4BAAAA;GALzB,CAAA,CAAA;AAQD;;ACxBD;AACA,MAAM7C,eAAe,GAAG;AACtBH,EAAAA,KAAK,EAAE,CACL,YADK,EAEL,WAFK,EAGL,WAHK,EAIL,WAJK,EAKL,eALK,EAML,YANK;GADe;EAStBC,KAAK,EAAE,CACL,YADK,EAEL,WAFK,EAGL,YAHK,EAIL,WAJK,CAAA;AATe,CAAxB,CAAA;AAiBO,MAAMgD,OAAO,GAAI5C,IAAD,IAAUF,eAAe,CAACH,KAAhB,CAAsB7L,OAAtB,CAA8BkM,IAA9B,KAAuC,CAAjE,CAAA;AACA,MAAM6C,OAAO,GAAI7C,IAAD,IAAUF,eAAe,CAACF,KAAhB,CAAsB9L,OAAtB,CAA8BkM,IAA9B,KAAuC,CAAjE;;AChBA,IAAM8C,YAAY,GAAG;AAC1BC,EAAAA,KAAK,EAAE,OADmB;AAE1BC,EAAAA,IAAI,EAAE,MAFoB;AAG1BC,EAAAA,IAAI,EAAE,MAHoB;AAI1BC,EAAAA,SAAS,EAAE,WAJe;AAK1BC,EAAAA,EAAE,EAAE,IALsB;AAM1BC,EAAAA,OAAO,EAAE,SAAA;AANiB,CAArB,CAAA;AASA,IAAMC,oBAAoB,GAAG;AAClCrK,EAAAA,IAAI,EAAE,MAD4B;AAElCI,EAAAA,SAAS,EAAE,WAFuB;AAGlCF,EAAAA,MAAM,EAAE,QAH0B;AAIlCD,EAAAA,OAAO,EAAE,SAAA;AAJyB,CAA7B,CAAA;AAOA,IAAMqK,cAAc,GAAG,UAAClS,OAAD,EAAsB;AAClD,EAAA,IAAKA,OAAO,CAACmS,aAAR,IAAyBnS,OAAO,CAACmS,aAAR,EAA1B,IAAsDnS,OAAO,CAACmB,WAAR,KAAwB,MAAlF,EAA0F;IACxF,OAAQnB,OAAO,CAACuN,UAAT,GACHmE,YAAY,CAACK,EADV,GAEHL,YAAY,CAACE,IAFjB,CAAA;AAGD,GAAA;;EACD,IAAI5R,OAAO,CAACoS,cAAR,IAA0BpS,OAAO,CAACoS,cAAR,EAA9B,EAAwD;IACtD,OAAOV,YAAY,CAACC,KAApB,CAAA;AACD,GAAA;;AACD,EAAA,IAAI3R,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;IAClC,OAAQqQ,OAAO,CAACxR,OAAO,CAAC4O,IAAT,CAAP,IAAyB6C,OAAO,CAACzR,OAAO,CAAC4O,IAAT,CAAjC,GACH8C,YAAY,CAACI,SADV,GAEHJ,YAAY,CAACG,IAFjB,CAAA;AAGD,GAAA;;EACD,OAAOH,YAAY,CAACM,OAApB,CAAA;AACD,CAfM;;AC8BiB,SAAAK,UAAA,CAAWhR,EAAX,EAchB;;;AAbN,EAAA,IAAArB,OAAO,aAAP;AAAA,MACAsB,MAAM,GAAAD,EAAA,CAAAC,MADN;AAAA,MAEA4C,QAAQ,GAAA7C,EAAA,CAAA6C,QAFR;AAAA,MAGAoO,YAAY,GAAAjR,EAAA,CAAAiR,YAHZ;AAAA,MAIAC,YAAY,GAAAlR,EAAA,CAAAkR,YAJZ;AAAA,MAKAvO,OAAO,aALP;AAAA,MAMAwO,mBAAmB,GAAAnR,EAAA,CAAAmR,mBANnB;AAAA,MAOAC,aAAa,GAAApR,EAAA,CAAAoR,aAPb;AAAA,MAQAC,aAAa,GAAArR,EAAA,CAAAqR,aARb;AAAA,MASAxJ,aAAa,GAAA7H,EAAA,CAAA6H,aATb;AAAA,MAUAd,MAAM,YAVN;AAAA,MAWAiB,QAAQ,GAAAhI,EAAA,CAAAgI,QAXR;AAAA,MAYAsJ,WAAW,GAAAtR,EAAA,CAAAsR,WAZX,CAAA;EAcA,IAAIvR,MAAM,GAAkB,IAA5B,CAAA;;AACA,EAAA,IAAIpB,OAAO,CAACmB,WAAR,KAAwB,OAA5B,EAAqC;IACnCC,MAAM,GAAGpB,OAAO,CAACoB,MAAjB,CAAA;AACD,GAAA;;AAEO,EAAA,IAAAkI,UAAU,GAAK/E,gBAAU,CAACC,uCAAD,CAAV,WAAf,CAAA;AAER,EAAA,IAAMoO,eAAe,GAAGvI,aAAO,CAAC,YAAA;AAC9B,IAAA,IAAImI,mBAAJ,EAAyB;MACvB,OAAOA,mBAAmB,CAACxS,OAAD,EAAUgE,OAAV,EAAmBqF,QAAnB,EAA6BsJ,WAA7B,CAA1B,CAAA;AACD,KAAA;;AACD,IAAA,OAAO,IAAP,CAAA;AACD,GAL8B,EAK5B,CAAC3S,OAAD,EAAUwS,mBAAV,CAL4B,CAA/B,CAAA;;AAOM,EAAA,IAAA/Q,EAAA,GAA0BqI,cAAQ,CAAC,KAAD,CAAlC;AAAA,MAACX,QAAQ,GAAA1H,EAAA,CAAA,CAAA,CAAT;AAAA,MAAWoR,WAAW,GAAApR,EAAA,CAAA,CAAA,CAAtB,CAAA;;AACA,EAAA,IAAAC,EAAA,GAA8BoI,cAAQ,CAAC,KAAD,CAAtC;AAAA,MAACV,UAAU,GAAA1H,EAAA,CAAA,CAAA,CAAX;AAAA,MAAaoR,aAAa,GAAApR,EAAA,CAAA,CAAA,CAA1B,CAAA;;AACA,EAAA,IAAAwN,EAAA,GAAsCpF,cAAQ,CAAC,KAAD,CAA9C;AAAA,MAACiJ,cAAc,GAAA7D,EAAA,CAAA,CAAA,CAAf;AAAA,MAAiB8D,iBAAiB,GAAA9D,EAAA,CAAA,CAAA,CAAlC,CAAA;;AACN,EAAA,IAAM+D,mBAAmB,GAAGtJ,YAAM,CAAC,IAAD,CAAlC,CAAA;EAEA,IAAIM,MAAM,GAAG,KAAb,CAAA;;AAEA,EAAA,IAAI7I,MAAM,IAAIpB,OAAO,CAACmB,WAAR,KAAwB,OAAtC,EAA+C;AAC7C;IACA8I,MAAM,GAAI3I,MAAM,KAAKF,MAAM,CAACE,MAAnB,IACHtB,OAAO,CAACkT,YAAR,KAAyBjB,oBAAoB,CAACpK,OAD3C,IAEH7H,OAAO,CAACkT,YAAR,KAAyBjB,oBAAoB,CAACnK,MAFpD,CAAA;AAGD,GAAA;;AAED,EAAA,IAAG8K,eAAH,EAAoB;IAClB,oBACEnO,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC,2CAAA;AAAf,KAAA,eACEA,wCAAC,eAAD,EAAA;AAAiB,MAAA,OAAO,EAAEzE,OAAAA;AAA1B,KAAA,CADF,CADF,CAAA;AAKD,GAAA;;AAED,EAAA,IAAIA,OAAO,CAACmB,WAAR,KAAwB,MAAxB,IAAkCgI,QAAtC,EAAgD;AAC9C,IAAA,oBACE1E,wCAACC,oBAAD,EAAA;AACE,MAAA,MAAM,EADR,IAAA;AAEE,MAAA,QAAQ,EAAE4N,YAFZ;AAGE,MAAA,GAAG,EAAEW,mBAHP;MAIE,IAAI,EAAEjT,OAAO,CAACmT,SAJhB;AAKE,MAAA,aAAa,EAAET,aALjB;AAME,MAAA,YAAY,EAAE,YAAQ;QAAAG,WAAW,CAAC,KAAD,CAAX,CAAA;OANxB;MAOE,KAAK,EAAE7S,OAAO,CAACA,OAAAA;KARnB,CAAA,CAAA;AAWD,GAAA;;EAED,oBACEyE,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,2CAAA;AAAf,GAAA,EAGI8N,YAAY,iBACV9N,yBAAA,CAAA,aAAA,CAAC2O,qBAAD,EAAA,IAAA,eACE3O,wCAACK,aAAD,EAAA;IAAO,IAAI,EAAEC,uBAAe,CAACC,SAA7B;IAAwC,KAAK,EAAEiB,mBAAW,CAACI,cAAAA;AAA3D,GAAA,EACGpG,cAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,eAApB,EAAqC;AAAEoM,IAAAA,MAAM,EAAEhD,UAAAA;AAAV,GAArC,CADT,CADF,CAJN,EAaI,CAAA/H,EAAA,GAAA,EAAA,EACEA,EAAA,CAACmQ,YAAY,CAACC,KAAd,CAAA,GAAuB,YAAA;AACrB,IAAA,IAAI3R,OAAO,CAACmB,WAAR,KAAwB,OAA5B,EAAqC;AACnC,MAAA,oBACEsD,wCAAC,uBAAD,EAAA;AAAyB,QAAA,OAAO,EAAEzE,OAAAA;OADpC,CAAA,CAAA;AAGD,KAAA;GALmB,EADxB,EAQEuB,EAAA,CAACmQ,YAAY,CAACG,IAAd,CAAA,GAAsB,YAAA;AACpB,IAAA,IAAI7R,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;AAClC,MAAA,oBACEsD,wCAAC4O,sBAAD,EAAA;AACE,QAAA,OAAO,EAAErT,OADX;AAEE,QAAA,QAAQ,EAAEkE,QAFZ;AAGE,QAAA,MAAM,EAAE5C,MAHV;AAIE,QAAA,UAAU,EAAEwR,aAJd;AAKE,QAAA,aAAa,EAAE5J,aALjB;AAME,QAAA,MAAM,EAAEd,MANV;AAOE,QAAA,QAAQ,EAAEiB,QAPZ;AAQE,QAAA,WAAW,EAAEsJ,WAAAA;OATjB,CAAA,CAAA;AAYD,KAAA;;AACD,IAAA,OAAA;GAfmB,EARvB,EAyBEpR,EAAA,CAACmQ,YAAY,CAACK,EAAd,CAAA,GAAoB,YAAA;AAClB,IAAA,IAAI/R,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;AAClC,MAAA,oBACEsD,wCAAC6O,oBAAD,EAAA;AACE,QAAA,OAAO,EAAEtT,OADX;AAEE,QAAA,MAAM,EAAEoI,MAFV;AAGE,QAAA,MAAM,EAAE9G,MAHV;AAIE,QAAA,QAAQ,EAAEuR,WAJZ;AAKE,QAAA,QAAQ,EAAE3O,QALZ;AAME,QAAA,UAAU,EAAE4O,aANd;AAOE,QAAA,aAAa,EAAE5J,aAPjB;AAQE,QAAA,QAAQ,EAAEG,QARZ;AASE,QAAA,WAAW,EAAEsJ,WAAAA;OAVjB,CAAA,CAAA;AAaD,KAAA;;AACD,IAAA,OAAA;GAhBiB,EAzBrB,EA2CEpR,EAAA,CAACmQ,YAAY,CAACI,SAAd,CAAA,GAA2B,YAAA;AACzB,IAAA,IAAI9R,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;AAClC,MAAA,oBACEsD,wCAAC8O,2BAAD,EAAA;AACE,QAAA,OAAO,EAAEvT,OADX;AAEE,QAAA,QAAQ,EAAEkE,QAFZ;AAGE,QAAA,MAAM,EAAE5C,MAHV;AAIE,QAAA,UAAU,EAAEwR,aAJd;AAKE,QAAA,aAAa,EAAE5J,aALjB;AAME,QAAA,OAAO,EAAE8J,iBANX;AAOE,QAAA,MAAM,EAAE5K,MAPV;AAQE,QAAA,QAAQ,EAAEiB,QARZ;AASE,QAAA,WAAW,EAAEsJ,WAAAA;OAVjB,CAAA,CAAA;AAaD,KAAA;;AACD,IAAA,OAAA;GAhBwB,EA3C5B,EA6DEpR,EAAA,CAACmQ,YAAY,CAACE,IAAd,CAAA,GAAsB,YAAA;AACpB,IAAA,IAAI5R,OAAO,CAACmB,WAAR,KAAwB,MAA5B,EAAoC;AAClC,MAAA,oBACEsD,wCAAC+O,sBAAD,EAAA;AACE,QAAA,OAAO,EAAExT,OADX;AAEE,QAAA,MAAM,EAAEsB,MAFV;AAGE,QAAA,QAAQ,EAAE4C,QAHZ;AAIE,QAAA,QAAQ,EAAE2O,WAJZ;AAKE,QAAA,UAAU,EAAEC,aALd;AAME,QAAA,aAAa,EAAE5J,aANjB;AAOE,QAAA,MAAM,EAAEd,MAPV;AAQE,QAAA,QAAQ,EAAEiB,QARZ;AASE,QAAA,WAAW,EAAEsJ,WAAAA;OAVjB,CAAA,CAAA;AAaD,KAAA;;AACD,IAAA,OAAA;GAhBmB,EA7DvB,EA+EEpR,EAAA,CAACmQ,YAAY,CAACM,OAAd,CAAA,GAAyB,YAAA;AACvB,IAAA,OADuB;AAGvB;AACA;AACD,GALuB,EA/E1B,EAqFEzQ,EArFF,EAqFE2Q,cAAc,CAAClS,OAAD,CArFhB,CAbJ,EAsGIoJ,UAAU,iBACR3E,wCAAC,kBAAD,EAAA;AACE,IAAA,YAAY,EAAE,YAAA;MAAM,OAAAqO,aAAa,CAAC,KAAD,CAAb,CAAA;KADtB;AAEE,IAAA,eAAe,EAAE,YAAA;AACf,MAAA,IAAI9S,OAAO,CAACmB,WAAR,KAAwB,OAA5B,EAAqC;QACnCsR,aAAa,CAACzS,OAAD,CAAb,CAAA;AACD,OAAA;AACF,KAAA;GA7GT,CAAA,EAkHK+S,cAAc,IAAI/S,OAAO,CAACmB,WAAR,KAAwB,MAA3C,iBACEsD,yBAAA,CAAA,aAAA,CAACgP,kBAAD,EAAA;AACE,IAAA,OAAO,EAAE,YAAM;MAAA,OAAAT,iBAAiB,CAAC,KAAD,CAAjB,CAAA;KADjB;AAEE,IAAA,OAAO,EAAEhT,OAFX;AAGE,IAAA,QAAQ,EAAE,YAAM;MAAA,OAAAyS,aAAa,CAACzS,OAAD,CAAb,CAAA;KAHlB;AAIE,IAAA,MAAM,EAAEiK,MAAAA;AAJV,GAAA,CAnHN,CADF,CAAA;AA8ID;;ACnOD,SAASyJ,6BAAT,CACErS,EADF,EAcE0C,GAdF,EAcsC;AAZlC,EAAA,IAAAxC,EAAA,GAAAF,EAAA,CAAAsS,kBAAA;MAAAA,kBAAkB,GAAApS,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAOA,EAAzB;AAAA,MACAqS,WAAW,GAAAvS,EAAA,CAAAuS,WADX;AAAA,MAEA3P,IAAI,UAFJ;AAAA,MAGA4P,WAAW,iBAHX;AAAA,MAIApS,EAAA,GAAAJ,EAAA,CAAAyS,QAJA;MAIAA,QAAQ,GAAArS,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAOA,EAJf;AAAA,MAKAsS,OAAO,GAAA1S,EAAA,CAAA0S,OALP;AAAA,MAMAC,QAAQ,cANR;AAAA,MAOAxB,mBAAmB,GAAAnR,EAAA,CAAAmR,mBAPnB;AAAA,MAQAE,aAAa,GAAArR,EAAA,CAAAqR,aARb;AAAA,MASAD,aAAa,GAAApR,EAAA,CAAAoR,aATb;AAAA,MAUAvJ,aAAa,GAAA7H,EAAA,CAAA6H,aAVb,CAAA;AAcF,EAAA,IAAM+K,SAAS,GAAGlQ,GAAG,IAAI4F,YAAM,CAAC,IAAD,CAA/B,CAAA;;AACM,EAAA,IAAAjI,EAAA,GAAkDoI,cAAQ,CAAC,KAAD,CAA1D;AAAA,MAACoK,oBAAoB,GAAAxS,EAAA,CAAA,CAAA,CAArB;AAAA,MAAuByS,uBAAuB,GAAAzS,EAAA,CAAA,CAAA,CAA9C,CAAA;;AAEN,EAAA,IAAM0S,cAAc,GAAG,UAACC,CAAD,EAAE;AACvB,IAAA,IAAMC,OAAO,GAAGD,CAAC,CAACE,MAAlB,CAAA;AAEE,IAAA,IAAA1T,SAAS,GAGPyT,OAAO,CAAAzT,SAHT;AAAA,QACAC,YAAY,GAEVwT,OAAO,CAAAxT,YAHT;AAAA,QAEAmK,YAAY,GACVqJ,OAAO,aAHT,CAAA;;AAIF,IAAA,IACGxT,YAAY,GAAGD,SAAS,GAAGoK,YAA5B,IACIrE,MAAM,CAAC4N,SAAP,CAAiBC,SAAjB,CAA2B/R,OAA3B,CAAmC,OAAnC,CAAA,GAA8C,CAFpD;MAGE;MACAyR,uBAAuB,CAAC,IAAD,CAAvB,CAAA;AACD,KALD,MAKO;MACLA,uBAAuB,CAAC,KAAD,CAAvB,CAAA;AACD,KAAA;;IAED,IAAI,CAACJ,OAAL,EAAc;AACZ,MAAA,OAAA;AACD,KAAA;;IACD,IAAIlT,SAAS,KAAK,CAAlB,EAAqB;MACnB,IAAM6T,KAAK,GAAGT,SAAS,CAACjJ,OAAV,CAAkB2J,gBAAlB,CAAmC,2BAAnC,CAAd,CAAA;AACA,MAAA,IAAMC,OAAK,GAAGF,KAAK,IAAIA,KAAK,CAAC,CAAD,CAA5B,CAAA;AACAV,MAAAA,QAAQ,CAAC,YAAA;QACP,IAAI;AACFY,UAAAA,OAAK,CAACC,cAAN,EAAA,CAAA;AACD,SAFD,CAEE,OAAO9T,KAAP,EAAc,EAAG;AACpB,OAJO,CAAR,CAAA;AAKD,KAAA;GA3BH,CAAA;;EA8BA,IAAM+T,cAAc,GAAG,YAAA;AACrB,IAAA,IAAIb,SAAS,IAAIA,SAAS,CAACjJ,OAA3B,EAAoC;MAClCiJ,SAAS,CAACjJ,OAAV,CAAkB+J,QAAlB,CAA2B,CAA3B,EAA8Bd,SAAS,CAACjJ,OAAV,CAAkBlK,YAAhD,CAAA,CAAA;MACAqT,uBAAuB,CAAC,KAAD,CAAvB,CAAA;AACD,KAAA;GAJH,CAAA;;AAOA,EAAA,IAAMa,UAAU,GAAG3K,aAAO,CAAC,YAAA;AACzB,IAAA,OAAOwJ,WAAW,CAACpL,MAAZ,GAAqB,CAA5B,CAAA;AACD,GAFyB,EAEvB,CAACoL,WAAW,CAACpL,MAAb,CAFuB,CAA1B,CAAA;EAIA,oBACEhE,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,0CADZ;AAEE,IAAA,QAAQ,EAAE2P,cAFZ;AAGE,IAAA,GAAG,EAAEH,SAAAA;GAEL,eAAAxP,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,qDAAA;GACb,eAAAA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,8DAAA;AAAf,GAAA,CADF,eAEEA,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;IAAK,SAAS,EAAE,4EAAA,CAAsEuQ,UAAU,GAAG,EAAH,GAAQ,eAAxF,CAAA;GAEZA,EAAAA,UAAU,GAENnB,WAAW,CAACrR,GAAZ,CAAgB,UAACxC,OAAD,EAAUiV,KAAV,EAAe;AAC7B,IAAA,IAAI7M,MAAJ,CAAA;;AAEA,IAAA,IAAIpI,OAAO,CAACmB,WAAR,KAAwB,OAA5B,EAAqC;MACnCiH,MAAM,GAAGpI,OAAO,CAACwB,aAAjB,CAAA;AACD,KAAA;;AAED,IAAA,IAAM0T,eAAe,GAAGrB,WAAW,CAACoB,KAAK,GAAG,CAAT,CAAnC,CAAA;AACA,IAAA,IAAMnT,WAAW,GAAG+R,WAAW,CAACoB,KAAK,GAAG,CAAT,CAA/B,CAAA;AAEA,IAAA,IAAME,wBAAwB,GAAGD,eAAe,IAAIA,eAAe,CAAChV,SAApE,CAAA;AACA,IAAA,IAAMkV,gBAAgB,GAAGpV,OAAO,CAACE,SAAjC,CAX6B;;IAa7B,IAAMqS,YAAY,GAAG,EAAE4C,wBAAwB,IAC7CE,iBAAS,CAACD,gBAAD,EAAmBD,wBAAnB,CADU,CAArB,CAAA;;AAIM,IAAA,IAAA9T,KAA0BsS,kBAAkB,GAC9ChS,0BAA0B,CAACuT,eAAD,EAAkBlV,OAAlB,EAA2B8B,WAA3B,CADoB,GAE9C,CAAC,KAAD,EAAQ,KAAR,CAFE;AAAA,QAACuH,QAAQ,GAAAhI,EAAA,CAAA,CAAA,CAAT;AAAA,QAAWsR,WAAW,GAAAtR,EAAA,CAAA,CAAA,CAAtB,CAAA;;AAGN,IAAA,oBACEoD,wCAAC,UAAD,EAAA;AACE,MAAA,mBAAmB,EAAE+N,mBADvB;AAEE,MAAA,OAAO,EAAEoB,WAFX;MAGE,GAAG,EAAE5T,OAAO,CAACmT,SAHf;AAIE,MAAA,OAAO,EAAEnT,OAJX;AAKE,MAAA,MAAM,EAAEoI,MALV;MAME,MAAM,EAAEnE,IAAI,CAAC3C,MANf;MAOE,QAAQ,EAAE,CAACwS,QAPb;MAQE,YAAY,EAAEF,WAAW,CAAChR,QAR5B;AASE,MAAA,YAAY,EAAE2P,YAThB;AAUE,MAAA,QAAQ,EAAElJ,QAVZ;AAWE,MAAA,WAAW,EAAEsJ,WAXf;AAYE,MAAA,aAAa,EAAEF,aAZjB;AAaE,MAAA,aAAa,EAAEC,aAbjB;AAcE,MAAA,aAAa,EAAExJ,aAAAA;KAfnB,CAAA,CAAA;GApBF,CAFM,gBA2CNzE,yBAAA,CAAA,aAAA,CAAC6Q,mBAAD,EAAA;AACE,IAAA,SAAS,EAAC,mEADZ;IAEE,IAAI,EAAEC,0BAAgB,CAACC,WAAAA;GA/CjC,CAAA,CAFF,EAuDItB,oBAAoB,iBAClBzP,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,SAAS,EAAC,2EADZ;AAEE,IAAA,OAAO,EAAEqQ,cAFX;AAGE,IAAA,SAAS,EAAEA,cAHb;AAIE,IAAA,QAAQ,EAAE,CAJZ;AAKE,IAAA,IAAI,EAAC,QAAA;AALP,GAAA,eAOErQ,wCAACkB,YAAD,EAAA;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAFT;IAGE,IAAI,EAAEC,iBAAS,CAAC6P,YAHlB;IAIE,SAAS,EAAE3P,kBAAU,CAACC,OAAAA;GAX1B,CAAA,CAxDN,CALF,CADF,CAAA;AAiFD,CAAA;;AAED,sCAAA,aAAetB,yBAAK,CAACG,UAAN,CAAiB8O,6BAAjB,CAAf;;AC5KO,IAAMgC,mBAAmB,GAAG,qBAA5B,CAAA;AACA,IAAMC,mBAAmB,GAAG,qBAA5B,CAAA;AACA,IAAMC,cAAc,GAAG,gBAAvB,CAAA;AACA,IAAMC,uBAAuB,GAAG,yBAAhC,CAAA;AACA,IAAMC,wBAAwB,GAAG,0BAAjC,CAAA;AACA,IAAMC,sBAAsB,GAAG,wBAA/B,CAAA;AACA,IAAMC,sBAAsB,GAAG,wBAA/B,CAAA;AACA,IAAMC,yBAAyB,GAAG,2BAAlC,CAAA;AACA,IAAMC,qBAAqB,GAAG,uBAA9B,CAAA;AACA,IAAMC,uBAAuB,GAAG,yBAAhC,CAAA;AACA,IAAMC,sBAAsB,GAAG,wBAA/B,CAAA;AACA,IAAMC,sBAAsB,GAAG,wBAA/B,CAAA;AACA,IAAMC,qBAAqB,GAAE,uBAA7B,CAAA;AACA,IAAMC,iBAAiB,GAAE,mBAAzB;;AAGA,IAAMC,mBAAmB,GAAG,qBAA5B,CAAA;AACA,IAAMC,kBAAkB,GAAG,oBAA3B,CAAA;AACA,IAAMC,kBAAkB,GAAG,oBAA3B,CAAA;AACA,IAAMC,4BAA4B,GAAG,8BAArC,CAAA;AACA,IAAMC,mBAAmB,GAAG,qBAA5B,CAAA;AACA,IAAMC,eAAe,GAAG,iBAAxB,CAAA;AACA,IAAMC,cAAc,GAAG,gBAAvB,CAAA;AACA,IAAMC,aAAa,GAAG,eAAtB,CAAA;AACA,IAAMC,eAAe,GAAG,iBAAxB,CAAA;AACA,IAAMC,cAAc,GAAG,gBAAvB,CAAA;AACA,IAAMC,gBAAgB,GAAG,kBAAzB,CAAA;AACA,IAAMC,iBAAiB,GAAG,mBAA1B,CAAA;AACA,IAAMC,mBAAmB,GAAG,qBAA5B,CAAA;AACA,IAAMC,kBAAkB,GAAG,oBAA3B,CAAA;AACA,IAAMC,oBAAoB,GAAG,sBAA7B,CAAA;AACA,IAAMC,oBAAoB,GAAG,sBAA7B,CAAA;AACA,IAAMC,oBAAoB,GAAG,sBAA7B,CAAA;AACA,IAAMC,wBAAwB,GAAG,0BAAjC,CAAA;AACA,IAAMC,wBAAwB,GAAG,0BAAjC,CAAA;AACA,IAAMC,wBAAwB,GAAG,0BAAjC,CAAA;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBO,SAAUC,OAAV,CACZC,KADY,EAEZC,MAFY,EAEW;;;EAEvB,QAAQA,MAAM,CAACnJ,IAAf;IACE,KAAKoJ,cAAL;AAAiC,MAAA;QAC/B,OAAAC,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRjE,UAAAA,WAAW,EAAE,EAAA;AADL,SADV,CAAA,CAAA;AAID,OAAA;;IAED,KAAKmE,mBAAL;AAAsC,MAAA;AACpC,QAAA,IAAME,aAAa,GAAGH,MAAM,CAACI,OAA7B,CAAA;AACA,QAAA,IAAM5V,SAAS,GAAG2V,aAAa,CAAC3V,SAAhC,CAAA;;QACA,IACE,CAACuV,KAAK,CAACM,SAAP,IACGN,KAAK,CAACO,kBADT,IAEGP,KAAK,CAACO,kBAAN,CAAyB7K,GAF5B,IAGIsK,KAAK,CAACO,kBAAN,CAAyB7K,GAAzB,KAAiC0K,aAAa,CAAC1K,GAJrD,EAKE;AACA,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA,EACH;AAAAO,UAAAA,kBAAkB,EAAEH,aAApB;AACAE,UAAAA,SAAS,EAAE,KADX;AAEA7V,UAAAA,SAAS,EAAEA,SAFX;AAGA+V,UAAAA,YAAY,EAAE/V,SAHd;AAIAgW,UAAAA,oBAAoB,EAAE,EAJtB;AAKAC,UAAAA,mBAAmB,EAAE,EAAA;AALrB,SADG,CADL,CAAA;AASD,OAAA;;IACD,KAAKR,mBAAL;AAAsC,MAAA;QACpC,OAAAC,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRM,UAAAA,SAAS,EAAE,IAAA;AADH,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKJ,uBAAL;AAA0C,MAAA;QACxC,OAAAC,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRW,UAAAA,OAAO,EAAE,IAAA;AADD,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKT,wBAAL,CAAA;IACA,KAAKA,sBAAL;AAAyC,MAAA;QACvC,IAAM7N,QAAQ,GAAI4N,MAAM,CAACnJ,IAAP,KAAgBoJ,sBAAlC,CAAA;AACM,QAAA,IAAAzW,EAAA,GAKFwW,MAAM,CAACI,OALL;AAAA,YACJ1W,0BADI;YACJ4W,kBAAkB,GAAG5W,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAEA,EADnB;AAAA,YAEJC,gBAFI;YAEJgX,QAAQ,GAAGhX,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAEA,EAFT;AAAA,YAGJqS,OAAO,GAAAxS,EAAA,CAAAwS,OAHH;AAAA,YAIJ4E,oBAAoB,GAAApX,EAAA,CAAAoX,oBAJhB,CAAA;AAMN,QAAA,IAAMC,gBAAgB,GAAGP,kBAAkB,CAAC7K,GAA5C,CAAA;AACA,QAAA,IAAMqL,kBAAgB,GAAG1O,QAAQ,GAAG,EAAH,GAAQuO,QAAzC,CAAA;;AACA,QAAA,IAAMI,QAAQ,GAAG3O,QAAQ,GAAG,KAAH,GAAW4J,OAApC,CAAA;;AACA,QAAA,IAAMgF,qBAAqB,GAAG5O,QAAQ,GAAG,CAAH,GAAOwO,oBAA7C,CAAA;;AAEA,QAAA,IAAMK,YAAY,GAAGlB,KAAK,CAACO,kBAA3B,CAAA;AACA,QAAA,IAAMY,eAAe,GAAGD,YAAY,CAACxL,GAArC,CAAA;;QAEA,IAAIoL,gBAAgB,KAAKK,eAAzB,EAA0C;AACxC,UAAA,OAAOnB,KAAP,CAAA;AACD,SAAA;;QAED,IAAMoB,mBAAmB,GAAGpB,KAAK,CAACjE,WAAN,CAAkBsF,MAAlB,CAAyB,UAACnZ,OAAD;AAAa,UAAA,OAChE,CAAE6Y,kBAAgB,CAACO,IAAjB,CAAsB,UAAC/X,EAAD,EAAc;AAAX,YAAA,IAAA8R,SAAS,GAAA9R,EAAA,CAAA8R,SAAT,CAAA;AAAgB,YAAA,OAAAkG,kBAAU,CAAClG,SAAD,EAAYnT,OAAO,CAACmT,SAApB,CAAV,CAAA;AAAwC,WAAjF,CAD8D,CAAA;AAEjE,SAF2B,CAA5B,CAAA;QAGA,OACK8E,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;AACHW,UAAAA,OAAO,EAAE;AACTa,UAAAA,WAAW,EAAE;AACbvF,UAAAA,OAAO,EAAE+E;AACTH,UAAAA,oBAAoB,EAAEI;AACtBlF,UAAAA,WAAW,EACNzI,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAAyN,kBAAA,EACA,IADA,CAAA,EACAK,mBADA,EAGL,IAHK,CAAA;SANF,CADL,CAAA;AAWD,OAAA;;IACD,KAAKlB,qBAAL;AAAwC,MAAA;AAChC,QAAA,IAAA9I,EAAA,GAGF6I,MAAM,CAACI,OAHL;AAAA,YACJnY,OAAO,GAAAkP,EAAA,CAAAlP,OADH;AAAA,YAEJgE,OAAO,GAAAkL,EAAA,CAAAlL,OAFH,CAAA;;QAIN,IAAIA,OAAO,CAACwJ,GAAR,KAAgBsK,KAAK,CAACO,kBAAN,CAAyB7K,GAA7C,EAAkD;AAChD,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EAEE;UAAAjE,WAAW,EACNzI,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAA0M,KAAK,CAACjE,WAAN,EAAiB,IAAjB,CAAA,EAAiB,kCACf7T,QADe,CAAjB,EAGL,KAHK,CAAA;AADL,SAFF,CAAA,CAAA;AAOD,OAAA;;IACD,KAAKgY,yBAAL;AAA4C,MAAA;AAC1C,QAAA,IAAMuB,aAAW,GAAGxB,MAAM,CAACI,OAA3B,CAAA;QACA,IAAMqB,WAAW,GAAG1B,KAAK,CAACjE,WAAN,CAAkBrR,GAAlB,CAAsB,UAACiX,CAAD,EAAO;AAAA,UAAA,OAC/CJ,kBAAU,CAACI,CAAC,CAACC,KAAH,EAAUH,aAAW,CAACG,KAAtB,CAAV,GAAyCH,aAAzC,GAAuDE,CADR,CAAA;AAEhD,SAFmB,CAApB,CAAA;QAGA,OAAAxB,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRjE,UAAAA,WAAW,EAAE2F,WAAAA;AADL,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKxB,sBAAL;AAAyC,MAAA;AACvC,QAAA,IAAM2B,aAAW,GAAG5B,MAAM,CAACI,OAA3B,CAAA;QACA,OAAAF,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EAEE;UAAAjE,WAAW,EAAEiE,KAAK,CAACjE,WAAN,CAAkBrR,GAAlB,CAAsB,UAACiX,CAAD,EAAE;AAAK,YAAA,OACxCJ,kBAAU,CAACI,CAAC,CAACC,KAAH,EAAUC,aAAW,CAACD,KAAtB,CAAV,GAAyCC,aAAzC,GAAuDF,CADf,CAAA;WAA7B,CAAA;AAAb,SAFF,CAAA,CAAA;AAMD,OAAA;;IACD,KAAKzB,iBAAL;AAAoC,MAAA;AAC1B,QAAA,IAAAnE,WAAW,GAAKiE,KAAK,CAAAjE,WAArB,CAAA;QACR,IAAM+F,wBAAwB,GAAG,CAAAvY,EAAA,GAAA0W,MAAM,CAACI,OAAP,MAAc,IAAd,IAAc9W,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAcA,EAAA,CAAEuY,wBAAjD,CAAA;;QACA,IAAIA,wBAAwB,IACvBA,wBAAwB,GAAG,CAD5B,IAEC,CAAA/F,WAAW,SAAX,IAAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAAA,WAAW,CAAEpL,MAAb,IAAsBmR,wBAF3B,EAGE;AACA,UAAA,IAAMC,OAAO,GAAGhG,WAAW,CAACpL,MAAZ,GAAqBmR,wBAArC,CAAA;UACA,OACK3B,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA,EACH;AAAAjE,YAAAA,WAAW,EAAEA,WAAW,CAACiG,KAAZ,CAAkBD,OAAlB,CAAA;AAAb,WADG,CADL,CAAA;AAID,SAAA;;AACD,QAAA,OAAO/B,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,uBAAL;AAA0C,MAAA;AACxC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMgW,eAAa,GAAGjC,MAAM,CAACI,OAAP,CAAenY,OAArC,CAAA;;QACA,IAAI+Z,cAAc,CAACvM,GAAf,KAAuBsK,KAAK,CAACO,kBAAN,CAAyB7K,GAApD,EAAyD;AACvD,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EAEE;UAAAjE,WAAW,EAAEiE,KAAK,CAACjE,WAAN,CAAkBrR,GAAlB,CAAsB,UAACiX,CAAD,EAAE;AAAK,YAAA,OACxCJ,kBAAU,CAACI,CAAC,CAACC,KAAH,EAAUM,eAAa,CAACN,KAAxB,CAAV,GAA2CM,eAA3C,GAA2DP,CADnB,CAAA;WAA7B,CAAA;AAAb,SAFF,CAAA,CAAA;AAMD,OAAA;;IACD,KAAKzB,sBAAL;AAAyC,MAAA;AACvC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMiW,sBAAsB,GAAGlC,MAAM,CAACI,OAAP,CAAe9U,KAA9C,CAAA;;QACA,IAAI0W,cAAc,CAACvM,GAAf,KAAuBsK,KAAK,CAACO,kBAAN,CAAyB7K,GAApD,EAAyD;AACvD,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;AACHQ,UAAAA,YAAY,EAAAlN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAO0M,KAAK,CAACQ,YAAb,EAA8B,IAA9B,CAAA,EAA8B2B,sBAA9B,EAEZ,IAFY,CAAA;SADT,CADL,CAAA;AAKD,OAAA;;IACD,KAAKjC,sBAAL;AAAyC,MAAA;AACvC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMkW,qBAAqB,GAAGnC,MAAM,CAACI,OAAP,CAAe9U,KAA7C,CAAA;;AACA,QAAA,IACG0W,cAAc,CAACvM,GAAf,KAAuBsK,KAAK,CAACO,kBAAN,CAAyB7K,GAAjD,IACG,CAAE0M,qBAAqB,CAACC,KAAtB,CAA4B,UAAAlW,IAAA,EAAQ;AAAA,UAAA,OAAA,OAAOA,IAAI,CAAC3C,MAAZ,KAAuB,QAAvB,CAAA;AAA+B,SAAnE,CAFP,EAGE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;UACHS,oBAAoB,EAAAnN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACd0M,KAAK,CAACS,oBADQ,EAEf,IAFe,CAAA,EAEf2B,qBAAqB,CAAC1X,GAAtB,CAA0B,UAAAyB,IAAA;YAAQ,OAAAA,IAAI,CAAC3C,MAAL,CAAA;WAAlC,CAFe,EAKpB,IALoB,CAAA;SADjB,CADL,CAAA;AAQD,OAAA;;IACD,KAAK0W,qBAAL;AAAwC,MAAA;AACtC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMoW,oBAAoB,GAAGrC,MAAM,CAACI,OAAP,CAAe9U,KAA5C,CAAA;;AACA,QAAA,IACG0W,cAAc,CAACvM,GAAf,KAAuBsK,KAAK,CAACO,kBAAN,CAAyB7K,GAAjD,IACG,CAAE4M,oBAAoB,CAACD,KAArB,CAA2B,UAAAlW,IAAA,EAAQ;AAAA,UAAA,OAAA,OAAOA,IAAI,CAAC3C,MAAZ,KAAuB,QAAvB,CAAA;AAA+B,SAAlE,CAFP,EAGE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;UACHU,mBAAmB,EAAApN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EACb0M,KAAK,CAACS,oBADO,EAEd,IAFc,CAAA,EAEd6B,oBAAoB,CAAC5X,GAArB,CAAyB,UAAAyB,IAAA;YAAQ,OAAAA,IAAI,CAAC3C,MAAL,CAAA;WAAjC,CAFc,EAKnB,IALmB,CAAA;SADhB,CADL,CAAA;AAQD,OAAA;AACD;;IACA,KAAK0W,mBAAL;AAAsC,MAAA;AACpC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMqW,eAAe,GAAGtC,MAAM,CAACI,OAAP,CAAenY,OAAvC,CAAA;AAGE,QAAA,IAAAqY,kBAAkB,GAChBP,KAAK,CAAAO,kBADP,CAAA;;QAGF,IACE,CAACgB,kBAAU,CAACU,cAAc,CAACvM,GAAhB,EAAqB6K,kBAAkB,CAAC7K,GAAxC,CAAX,IAEE,EAAEsK,KAAK,CAACjE,WAAN,CAAkBrR,GAAlB,CACA,UAACxC,OAAD,EAAa;UAAA,OAAAA,OAAO,CAACmT,SAAR,CAAA;SADb,CAAA,CACgCzQ,OADhC,CACwC2X,eAAe,CAAClH,SADxD,CAAA,GACqE,CADvE,CAHJ,EAME;AACA,UAAA,OAAO2E,KAAP,CAAA;AACD,SAAA;;QAED,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;AACHjE,UAAAA,WAAW,EAAAzI,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAM0M,KAAK,CAACjE,WAAZ,EAAyB,IAAzB,CAAA,EAAyB,CAAAwG,eAAA,CAAzB,EACX,KADW,CAAA;SADR,CADL,CAAA;AAID,OAAA;;IACD,KAAKrC,kBAAL;AAAqC,MAAA;AACnC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMsW,gBAAc,GAAGvC,MAAM,CAACI,OAAP,CAAenY,OAAtC,CAAA;AACA,QAAA,IAAMua,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;UACHjE,WAAW,EAAEiE,KAAK,CAACjE,WAAN,CAAkBrR,GAAlB,CAAsB,UAACxC,OAAD,EAAQ;YAAK,OAC9CA,OAAO,CAACwa,WAAR,CAAoBF,gBAApB,CACIA,GAAAA,gBADJ,GAEIta,OAH0C,CAAA;WAAnC,CAAA;SADV,CADL,CAAA;AAQD,OAAA;;IACD,KAAKgY,kBAAL;AAAqC,MAAA;AACnC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMyW,kBAAgB,GAAG1C,MAAM,CAACI,OAAP,CAAehF,SAAxC,CAAA;AACA,QAAA,IAAMoH,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;UACRjE,WAAW,EAAEiE,KAAK,CAACjE,WAAN,CAAkBsF,MAAlB,CAAyB,UAACnZ,OAAD,EAAa;YAAA,OACjD,CAACqZ,kBAAU,CAACrZ,OAAO,CAACmT,SAAT,EAAoBsH,kBAApB,CADsC,CAAA;WAAtC,CAAA;AADL,SADV,CAAA,CAAA;AAMD,OAAA;;IACD,KAAKzC,4BAAL;AAA+C,MAAA;QAC7C,OAAAC,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;UACRjE,WAAW,EAAEiE,KAAK,CAACjE,WAAN,CAAkBsF,MAAlB,CAAyB,UAACM,CAAD;YAAO,OAC3C,CAACJ,kBAAU,CAACI,CAAC,CAACC,KAAH,EAAU3B,MAAM,CAACI,OAAjB,CADgC,CAAA;WAAhC,CAAA;AADL,SADV,CAAA,CAAA;AAMD,OAAA;;IACD,KAAKH,mBAAL;AAAsC,MAAA;AACpC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAM0W,gBAAgB,GAAG3C,MAAM,CAACI,OAAP,CAAe5V,SAAxC,CAAA;AACA,QAAA,IAAMgY,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;UACRO,kBAAkB,EAAAJ,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACbH,KAAK,CAACO,kBADO,CAAA,EAEhB;AAAA9V,YAAAA,SAAS,EAAEmY,gBAAAA;AAAX,WAFgB,CADV;AAKRnY,UAAAA,SAAS,EAAEmY,gBAAAA;AALH,SADV,CAAA,CAAA;AAQD,OAAA;;IACD,KAAK1C,eAAL;AAAkC,MAAA;AAChC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAM2W,WAAW,GAAG5C,MAAM,CAACI,OAAP,CAAelU,IAAnC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;AACHQ,UAAAA,YAAY,EAAAlN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAM0M,KAAK,CAACQ,YAAZ,EAA0B,IAA1B,CAAA,EAA0B,CAAAqC,WAAA,CAA1B,EACZ,KADY,CAAA;SADT,CADL,CAAA;AAID,OAAA;;IACD,KAAK3C,cAAL;AAAiC,MAAA;AAC/B,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAM4W,YAAU,GAAG7C,MAAM,CAACI,OAAP,CAAelU,IAAlC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;UACRQ,YAAY,EAAER,KAAK,CAACQ,YAAN,CAAmBa,MAAnB,CAA0B,UAAC0B,WAAD;YAAiB,OACvD,CAACxB,kBAAU,CAACwB,WAAW,CAACvZ,MAAb,EAAqBsZ,YAAU,CAACtZ,MAAhC,CAD4C,CAAA;WAA3C,CAAA;AADN,SADV,CAAA,CAAA;AAMD,OAAA;;IACD,KAAK0W,aAAL;AAAgC,MAAA;AAC9B,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAM8W,SAAS,GAAG/C,MAAM,CAACI,OAAP,CAAelU,IAAjC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;QACA,IACE,CAACkC,cAAD,IACIA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GADjE,IAEGsK,KAAK,CAACU,mBAAN,CAA0B9V,OAA1B,CAAkCoY,SAAS,CAACxZ,MAA5C,CAAuD,IAAA,CAH5D,EAIE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA,EACH;UAAAU,mBAAmB,EAAMpN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAA0M,KAAK,CAACU,mBAAN,EAA2B,IAA3B,CAAA,EAA2B,CAAAsC,SAAS,CAACxZ,MAAV,CAA3B,EACzB,KADyB,CAAA;AAAzB,SADG,CADL,CAAA;AAID,OAAA;;IACD,KAAK0W,eAAL;AAAkC,MAAA;AAChC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAM+W,aAAW,GAAGhD,MAAM,CAACI,OAAP,CAAelU,IAAnC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;QACA,IACE,CAACkC,cAAD,IACIA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GADjE,IAEGsK,KAAK,CAACU,mBAAN,CAA0B9V,OAA1B,CAAkCqY,aAAW,CAACzZ,MAA9C,CAAwD,GAAA,CAH7D,EAIE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;UACHU,mBAAmB,EAAEV,KAAK,CAACU,mBAAN,CAA0BW,MAA1B,CAAiC,UAAA7X,MAAA,EAAU;AAAA,YAAA,OAAAA,MAAM,KAAKyZ,aAAW,CAACzZ,MAAvB,CAAA;WAA3C,CAAA;SADlB,CADL,CAAA;AAID,OAAA;;IACD,KAAK0W,cAAL;AAAiC,MAAA;AAC/B,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMgX,UAAU,GAAGjD,MAAM,CAACI,OAAP,CAAelU,IAAlC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;QACA,IACE,CAACkC,cAAD,IACIA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GADjE,IAEGsK,KAAK,CAACS,oBAAN,CAA2B7V,OAA3B,CAAmCsY,UAAU,CAAC1Z,MAA9C,CAAyD,IAAA,CAH9D,EAIE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA,EACH;UAAAS,oBAAoB,EAAMnN,iCAAA,CAAAA,iCAAA,CAAA,EAAA,EAAA0M,KAAK,CAACS,oBAAN,EAA4B,IAA5B,CAAA,EAA4B,CAAAyC,UAAU,CAAC1Z,MAAX,CAA5B,EAC1B,KAD0B,CAAA;AAA1B,SADG,CADL,CAAA;AAID,OAAA;;IACD,KAAK0W,gBAAL;AAAmC,MAAA;AACjC,QAAA,IAAM+B,cAAc,GAAGhC,MAAM,CAACI,OAAP,CAAenU,OAAtC,CAAA;AACA,QAAA,IAAMiX,cAAY,GAAGlD,MAAM,CAACI,OAAP,CAAelU,IAApC,CAAA;AACA,QAAA,IAAMsW,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;QACA,IACE,CAACkC,cAAD,IACIA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuBuM,cAAc,CAACvM,GADjE,IAEGsK,KAAK,CAACS,oBAAN,CAA2B7V,OAA3B,CAAmCuY,cAAY,CAAC3Z,MAAhD,CAA0D,GAAA,CAH/D,EAIE;AACA,UAAA,OAAOwW,KAAP,CAAA;AACD,SAAA;;QACD,OACKG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EAAAH,KAAA,CAAA;UACHS,oBAAoB,EAAET,KAAK,CAACS,oBAAN,CAA2BY,MAA3B,CAAkC,UAAA7X,MAAA,EAAU;AAAA,YAAA,OAAAA,MAAM,KAAK2Z,cAAY,CAAC3Z,MAAxB,CAAA;WAA5C,CAAA;SADnB,CADL,CAAA;AAID,OAAA;;IACD,KAAK0W,iBAAL;AAAoC,MAAA;AAClC,QAAA,IAAMkD,aAAa,GAAGnD,MAAM,CAACI,OAA7B,CAAA;AACA,QAAA,IAAMoC,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuB0N,aAAa,CAAC1N,GAAnF,EAAyF;AACvF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRqD,UAAAA,MAAM,EAAE,IAAA;AADA,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKnD,mBAAL;AAAsC,MAAA;AACpC,QAAA,IAAMoD,eAAe,GAAGrD,MAAM,CAACI,OAA/B,CAAA;AACA,QAAA,IAAMoC,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuB4N,eAAe,CAAC5N,GAArF,EAA2F;AACzF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRqD,UAAAA,MAAM,EAAE,KAAA;AADA,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKnD,kBAAL;AAAqC,MAAA;AACnC,QAAA,IAAMqD,cAAc,GAAGtD,MAAM,CAACI,OAA9B,CAAA;AACA,QAAA,IAAMoC,cAAc,GAAGzC,KAAK,CAACO,kBAA7B,CAAA;;AACA,QAAA,IAAI,CAACkC,cAAD,IAAmBA,cAAc,CAAC/M,GAAf,IAAuB+M,cAAc,CAAC/M,GAAf,KAAuB6N,cAAc,CAAC7N,GAApF,EAA0F;AACxF,UAAA,OAAOsK,KAAP,CAAA;AACD,SAAA;;QACD,OAAAG,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACKH,KADL,CAAA,EACU;AACRO,UAAAA,kBAAkB,EAAEgD,cAAAA;AADZ,SADV,CAAA,CAAA;AAID,OAAA;;IACD,KAAKrD,oBAAL;AAAuC,MAAA;AACrC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,oBAAL;AAAuC,MAAA;AACrC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,oBAAL;AAAuC,MAAA;AACrC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,wBAAL;AAA2C,MAAA;AACzC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,wBAAL;AAA2C,MAAA;AACzC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,wBAAL;AAA2C,MAAA;AACzC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;IACD,KAAKE,mBAAL;AAAsC,MAAA;AACpC;AACA;AACA;AACA;AACA;AACA,QAAA,OAAOF,KAAP,CAAA;AACD,OAAA;;AACD,IAAA;AACE,MAAA,OAAOA,KAAP,CAAA;AA9bJ,GAAA;AAgcD;;AC9bD,IAAMwD,YAAY,GAAU;AAC1BzH,EAAAA,WAAW,EAAE,EADa;AAE1B4E,EAAAA,OAAO,EAAE,KAFiB;AAG1Ba,EAAAA,WAAW,EAAE,KAHa;AAI1BjB,EAAAA,kBAAkB,EAAE,IAJM;AAK1BD,EAAAA,SAAS,EAAE,KALe;AAM1BrE,EAAAA,OAAO,EAAE,KANiB;AAO1B4E,EAAAA,oBAAoB,EAAE,CAPI;AAQ1BwC,EAAAA,MAAM,EAAE,KARkB;AAS1B5Y,EAAAA,SAAS,EAAE,EATe;AAU1B+V,EAAAA,YAAY,EAAE,EAVY;AAW1BC,EAAAA,oBAAoB,EAAE,EAXI;AAY1BC,EAAAA,mBAAmB,EAAE,EAAA;AAZK,CAA5B;;ACHA,SAAS+C,aAAT,CACEla,EADF,EAEEE,EAFF,EAEmD;AAD/C,EAAA,IAAAia,UAAU,gBAAV;AAAA,MAAYC,OAAO,GAAApa,EAAA,CAAAoa,OAAnB;AAAA,MAAqBC,oBAAoB,GAAAra,EAAA,CAAAqa,oBAAzC,CAAA;AACA,EAAA,IAAAC,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;AAEF7Q,EAAAA,eAAS,CAAC,YAAA;IACR,IAAIyQ,UAAU,IAAIC,OAAd,IAAyBE,GAAzB,IAAgCA,GAAG,CAACE,WAAxC,EAAqD;AACnD9Y,MAAAA,MAAM,CAACQ,IAAP,CAAY,8CAAZ,EAA4DiY,UAA5D,CAAA,CAAA;MACAG,GAAG,CAACE,WAAJ,CAAgBC,UAAhB,CAA2BN,UAA3B,EAAuC,UAAClZ,WAAD,EAAcvB,KAAd,EAAmB;QACxD,IAAI,CAACA,KAAL,EAAY;AACVgC,UAAAA,MAAM,CAACQ,IAAP,CAAY,6CAAZ,EAA2DjB,WAA3D,CAAA,CAAA;AACAsZ,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,YAAAA,OAAO,EAAE7V,WAAAA;AAFQ,WAAD,CAAlB,CAAA;AAIAA,UAAAA,WAAW,CAAC0Z,KAAZ,CAAkB,UAACC,CAAD,EAAIlb,KAAJ,EAAS;AACzB,YAAA,IAAIA,KAAJ,EAAW;AACTgC,cAAAA,MAAM,CAACO,OAAP,CAAe,kDAAf,EAAmE;AAAEkY,gBAAAA,UAAU,EAAAA,UAAZ;AAAcza,gBAAAA,KAAK,EAAAA,KAAAA;eAAtF,CAAA,CAAA;AACA6a,cAAAA,kBAAkB,CAAC;gBACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,gBAAAA,OAAO,EAAE,IAAA;AAFQ,eAAD,CAAlB,CAAA;AAID,aAAA;;AACD,YAAA,IAAIuD,oBAAJ,EAA0B;AACxB;AACA,cAAA,IAAMQ,oBAAoB,GAAG5Z,WAAW,CAAC6Z,0BAAZ,EAA7B,CAAA;AACA,cAAA,IAAMC,0BAA0B,GAAG9Z,WAAW,CAAC+Z,yBAAZ,EAAnC,CAAA;AACA,cAAA,IAAMC,yBAAyB,GAAGha,WAAW,CAACia,wBAAZ,EAAlC,CAAA;cACAC,kBAAA,CACEN,oBADF,EAEEnZ,MAFF,EAGE,UAACM,KAAD,EAAM;AACJuY,gBAAAA,kBAAkB,CAAC;kBACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,kBAAAA,OAAO,EAAE;AACPnU,oBAAAA,OAAO,EAAE1B,WADF;AAEPe,oBAAAA,KAAK,EAAAA,KAAAA;AAFE,mBAAA;AAFQ,iBAAD,CAAlB,CAAA;eAJJ,CAAA,CAAA;cAaAmZ,kBAAA,CACEJ,0BADF,EAEErZ,MAFF,EAGE,UAACM,KAAD,EAAM;AACJuY,gBAAAA,kBAAkB,CAAC;kBACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,kBAAAA,OAAO,EAAE;AACPnU,oBAAAA,OAAO,EAAE1B,WADF;AAEPe,oBAAAA,KAAK,EAAAA,KAAAA;AAFE,mBAAA;AAFQ,iBAAD,CAAlB,CAAA;eAJJ,CAAA,CAAA;cAaAmZ,kBAAA,CACEF,yBADF,EAEEvZ,MAFF,EAGE,UAACM,KAAD,EAAM;AACJuY,gBAAAA,kBAAkB,CAAC;kBACjBhN,IAAI,EAAEmN,qBADW;AAEjB5D,kBAAAA,OAAO,EAAE;AACPnU,oBAAAA,OAAO,EAAE1B,WADF;AAEPe,oBAAAA,KAAK,EAAAA,KAAAA;AAFE,mBAAA;AAFQ,iBAAD,CAAlB,CAAA;eAJJ,CAAA,CAAA;AAaD,aAAA;WApDH,CAAA,CAAA;AAsDD,SA5DD,MA4DO;AACLN,UAAAA,MAAM,CAACO,OAAP,CAAe,qDAAf,EAAsE;AAAEkY,YAAAA,UAAU,EAAAA,UAAZ;AAAcza,YAAAA,KAAK,EAAAA,KAAAA;WAAzF,CAAA,CAAA;AACA6a,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,YAAAA,OAAO,EAAE,IAAA;AAFQ,WAAD,CAAlB,CAAA;AAID,SAAA;AACF,OApED,EAFmD;AAwEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAAA;GA1IM,EA2IN,CAACqD,UAAD,EAAaC,OAAb,EAAsBC,oBAAtB,CA3IM,CAAT,CAAA;AA4ID;;AChJD,SAASe,sBAAT,CACEpb,EADF,EAEEE,EAFF,EAEmD;MAD/C8W,kBAAkB,GAAAhX,EAAA,CAAAgX;MAAEqE,iBAAiB,GAAArb,EAAA,CAAAqb;AACrC,EAAA,IAAAf,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;AAEF7Q,EAAAA,eAAS,CAAC,YAAA;IACR,IAAM4R,iBAAiB,GAAG/R,0BAAM,EAAhC,CAAA;;IACA,IAAIyN,kBAAkB,IAAIA,kBAAkB,CAAC7K,GAAzC,IAAgDmO,GAAhD,IAAuDA,GAAG,CAACiB,cAA/D,EAA+E;AAC7E,MAAA,IAAMA,cAAc,GAAG,IAAIjB,GAAG,CAACiB,cAAR,EAAvB,CAAA;AACA7Z,MAAAA,MAAM,CAACQ,IAAP,CAAY,2DAAZ,EAAyEoZ,iBAAzE,CAAA,CAAA;;AAEAC,MAAAA,cAAc,CAACC,iBAAf,GAAmC,UAAC7Y,OAAD,EAAUhE,OAAV,EAAiB;QAClD,IAAM8c,WAAW,GAAGJ,iBAAiB,EAArC,CAAA;AACA,QAAA,IAAMlB,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcxb,UAAAA,OAAO,EAAAA,OAAAA;SAA5F,CAAA,CAAA;AACA4b,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWhE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;;AAIA,QAAA,IAAI8c,WAAJ,EAAiB;UACf,IAAI;AACF9b,YAAAA,UAAU,CAAC,YAAA;cACTV,cAAc,EAAA,CAAA;AACf,aAFS,CAAV,CAAA;WADF,CAIE,OAAOS,KAAP,EAAc;YACdgC,MAAM,CAACO,OAAP,CAAe,wDAAf,CAAA,CAAA;AACD,WAAA;AACF,SAAA;OAhBH,CAAA;;AAkBAsZ,MAAAA,cAAc,CAACG,gBAAf,GAAkC,UAAC/Y,OAAD,EAAUhE,OAAV,EAAiB;AACjD,QAAA,IAAMwb,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,wDAAZ,EAAsE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcxb,UAAAA,OAAO,EAAAA,OAAAA;SAA3F,CAAA,CAAA;AACA4b,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWhE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA4c,MAAAA,cAAc,CAACI,gBAAf,GAAkC,UAAChZ,OAAD,EAAUmP,SAAV,EAAmB;AACnD,QAAA,IAAMqI,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,wDAAZ,EAAsE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcrI,UAAAA,SAAS,EAAAA,SAAAA;SAA7F,CAAA,CAAA;AACAyI,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWmP,YAAAA,SAAS;AAApB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAyJ,MAAAA,cAAc,CAACK,iBAAf,GAAmC,UAACjZ,OAAD,EAAUzB,SAAV,EAAmB;AACpD,QAAA,IAAMiZ,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcjZ,UAAAA,SAAS,EAAAA,SAAAA;SAA9F,CAAA,CAAA;AACAqZ,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWzB,YAAAA,SAAS;AAApB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAqa,MAAAA,cAAc,CAACM,aAAf,GAA+B,UAAClZ,OAAD,EAAUC,IAAV,EAAc;AAC3C,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,qDAAZ,EAAmE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAArF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,eADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACO,YAAf,GAA8B,UAACnZ,OAAD,EAAUC,IAAV,EAAc;AAC1C,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,oDAAZ,EAAkE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAApF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,cADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACQ,WAAf,GAA6B,UAACpZ,OAAD,EAAUC,IAAV,EAAc;AACzC,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,mDAAZ,EAAiE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAAnF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,aADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACS,aAAf,GAA+B,UAACrZ,OAAD,EAAUC,IAAV,EAAc;AAC3C,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,qDAAZ,EAAmE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAArF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,eADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACU,YAAf,GAA8B,UAACtZ,OAAD,EAAUC,IAAV,EAAc;AAC1C,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,oDAAZ,EAAkE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAApF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,cADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACW,cAAf,GAAgC,UAACvZ,OAAD,EAAUC,IAAV,EAAc;AAC5C,QAAA,IAAMuX,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,sDAAZ,EAAoE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcvX,UAAAA,IAAI,EAAAA,IAAAA;SAAtF,CAAA,CAAA;AACA2X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,gBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWC,YAAAA,IAAI;AAAf,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQA2Y,MAAAA,cAAc,CAACY,eAAf,GAAiC,UAACxZ,OAAD,EAAQ;AACvCjB,QAAAA,MAAM,CAACQ,IAAP,CAAY,uDAAZ,EAAqES,OAArE,CAAA,CAAA;AACA4X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,iBADW;AAEjB5D,UAAAA,OAAO,EAAEnU,OAAAA;AAFQ,SAAD,CAAlB,CAAA;OAFF,CAAA;;AAOA4Y,MAAAA,cAAc,CAACa,iBAAf,GAAmC,UAACzZ,OAAD,EAAQ;AACzCjB,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuES,OAAvE,CAAA,CAAA;AACA4X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,UAAAA,OAAO,EAAEnU,OAAAA;AAFQ,SAAD,CAAlB,CAAA;OAFF,CAAA;;AAOA4Y,MAAAA,cAAc,CAACc,gBAAf,GAAkC,UAAC1Z,OAAD,EAAQ;AACxCjB,QAAAA,MAAM,CAACQ,IAAP,CAAY,wDAAZ,EAAsES,OAAtE,CAAA,CAAA;AACA4X,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAEnU,OAAAA;AAFQ,SAAD,CAAlB,CAAA;OAFF,CAAA;;AAOA4Y,MAAAA,cAAc,CAACe,iBAAf,GAAmC,UAAC3Z,OAAD,EAAU4Z,QAAV,EAAkB;AACnD,QAAA,IAAMpC,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcoC,UAAAA,QAAQ,EAAAA,QAAAA;SAA7F,CAAA,CAAA;AACAhC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,oBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAW4Z,YAAAA,QAAQ;AAAnB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAhB,MAAAA,cAAc,CAACiB,iBAAf,GAAmC,UAAC7Z,OAAD,EAAU4Z,QAAV,EAAkB;AACnD,QAAA,IAAMpC,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcoC,UAAAA,QAAQ,EAAAA,QAAAA;SAA7F,CAAA,CAAA;AACAhC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,oBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAW4Z,YAAAA,QAAQ;AAAnB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAhB,MAAAA,cAAc,CAACkB,iBAAf,GAAmC,UAAC9Z,OAAD,EAAU+Z,YAAV,EAAsB;AACvD,QAAA,IAAMvC,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcuC,UAAAA,YAAY,EAAAA,YAAAA;SAAjG,CAAA,CAAA;AACAnC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,oBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAW+Z,YAAAA,YAAY;AAAvB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAnB,MAAAA,cAAc,CAACoB,qBAAf,GAAuC,UAACha,OAAD,EAAUia,WAAV,EAAqB;AAC1D,QAAA,IAAMzC,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,6DAAZ,EAA2E;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcyC,UAAAA,WAAW,EAAAA,WAAAA;SAApG,CAAA,CAAA;AACArC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,wBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWia,YAAAA,WAAW;AAAtB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQArB,MAAAA,cAAc,CAACsB,qBAAf,GAAuC,UAACla,OAAD,EAAUia,WAAV,EAAqB;AAC1D,QAAA,IAAMzC,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,6DAAZ,EAA2E;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcyC,UAAAA,WAAW,EAAAA,WAAAA;SAApG,CAAA,CAAA;AACArC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,wBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWia,YAAAA,WAAW;AAAtB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQArB,MAAAA,cAAc,CAACuB,qBAAf,GAAuC,UAACna,OAAD,EAAUoa,eAAV,EAAyB;AAC9D,QAAA,IAAM5C,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,6DAAZ,EAA2E;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAc4C,UAAAA,eAAe,EAAAA,eAAAA;SAAxG,CAAA,CAAA;AACAxC,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,wBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWoa,YAAAA,eAAe;AAA1B,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AAQAxB,MAAAA,cAAc,CAACyB,iBAAf,GAAmC,UAACra,OAAD,EAAUhE,OAAV,EAAiB;AAClD,QAAA,IAAMwb,UAAU,GAAGxX,OAAO,CAACwJ,GAA3B,CAAA;AACAzK,QAAAA,MAAM,CAACQ,IAAP,CAAY,yDAAZ,EAAuE;AAAEiY,UAAAA,UAAU,EAAAA,UAAZ;AAAcxb,UAAAA,OAAO,EAAAA,OAAAA;SAA5F,CAAA,CAAA;AACA4b,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,mBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWhE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;OAHF,CAAA;;AASA2b,MAAAA,GAAG,CAAC2C,iBAAJ,CAAsB3B,iBAAtB,EAAyCC,cAAzC,CAAA,CAAA;AACD,KAAA;;AAED,IAAA,OAAO,YAAA;AACL,MAAA,IAAIjB,GAAG,IAAIA,GAAG,CAAC4C,oBAAf,EAAqC;AACnCxb,QAAAA,MAAM,CAACQ,IAAP,CAAY,yEAAZ,EAAuFoZ,iBAAvF,CAAA,CAAA;QACAhB,GAAG,CAAC4C,oBAAJ,CAAyB5B,iBAAzB,CAAA,CAAA;AACD,OAAA;KAJH,CAAA;AAMD,GAvLQ,EAuLN,CAACtE,kBAAD,CAvLM,CAAT,CAAA;AAwLD;;AC5LD,SAASmG,uBAAT,CACEnd,EADF,EAEEE,EAFF,EAEmD;MAD/C8W,kBAAkB,GAAAhX,EAAA,CAAAgX;MAAEoG,2BAA2B,GAAApd,EAAA,CAAAod;AAC/C,EAAA,IAAA9C,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;AAEF7Q,EAAAA,eAAS,CAAC,YAAA;AACRhI,IAAAA,MAAM,CAACQ,IAAP,CAAY,sDAAZ,EAAoE8U,kBAApE,CAAA,CAAA;AACAuD,IAAAA,kBAAkB,CAAC;MACjBhN,IAAI,EAAEmN,cADW;AAEjB5D,MAAAA,OAAO,EAAE,IAAA;AAFQ,KAAD,CAAlB,CAAA;;IAKA,IAAIwD,GAAG,IAAIA,GAAG,CAAC+C,iBAAX,IAAgCrG,kBAAhC,IAAsDA,kBAAkB,CAACsG,sBAA7E,EAAqG;AACnG,MAAA,IAAMC,mBAAiB,GAAG,IAAIjD,GAAG,CAAC+C,iBAAR,EAA1B,CAAA;MACAE,mBAAiB,CAACC,cAAlB,GAAmC,EAAnC,CAAA;MACAD,mBAAiB,CAACE,WAAlB,GAAgC,IAAhC,CAAA;MACAF,mBAAiB,CAACG,cAAlB,GAAmC,KAAnC,CAAA;MACAH,mBAAiB,CAACI,gBAAlB,GAAqC,KAArC,CAAA;;AACA,MAAA,IAAIP,2BAAJ,EAAiC;QAC/BQ,MAAM,CAACC,IAAP,CAAYT,2BAAZ,EAAyCU,OAAzC,CAAiD,UAACC,GAAD,EAAI;AACnDR,UAAAA,mBAAiB,CAACQ,GAAD,CAAjB,GAAyBX,2BAA2B,CAACW,GAAD,CAApD,CAAA;SADF,CAAA,CAAA;QAGArc,MAAM,CAACQ,IAAP,CAAY,yEAAZ,CAAA,CAAA;AACD,OAAA;;AAEDR,MAAAA,MAAM,CAACQ,IAAP,CAAY,0DAAZ,EAAwE;AAAE8U,QAAAA,kBAAkB,EAAAA,kBAApB;AAAsBgH,QAAAA,iBAAiB,EAAAT,mBAAAA;OAA/G,CAAA,CAAA;AACAhD,MAAAA,kBAAkB,CAAC;QACjBhN,IAAI,EAAEmN,uBADW;AAEjB5D,QAAAA,OAAO,EAAE,IAAA;AAFQ,OAAD,CAAlB,CAAA;AAIAE,MAAAA,kBAAkB,CAACsG,sBAAnB,CAA0C,IAAIW,IAAJ,EAAWC,CAAAA,OAAX,EAA1C,EAAgEX,mBAAhE,EAAmF,UAAClG,QAAD,EAAW3X,KAAX,EAAgB;QACjG,IAAI,CAACA,KAAL,EAAY;AACVgC,UAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkFmV,QAAlF,CAAA,CAAA;UACA,IAAM3E,OAAO,GAAI2E,QAAQ,IAAIA,QAAQ,CAACjQ,MAAT,GAAkB,CAA/C,CAAA;UACA,IAAMkQ,oBAAoB,GAAG5E,OAAO,GAAG2E,QAAQ,CAAC,CAAD,CAAR,CAAYxY,SAAf,GAA2B,IAA/D,CAAA;AACA0b,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,wBADW;AAEjB5D,YAAAA,OAAO,EAAE;AACPE,cAAAA,kBAAkB,EAAAA,kBADX;AAEPK,cAAAA,QAAQ,EAAAA,QAFD;AAGP3E,cAAAA,OAAO,EAAAA,OAHA;AAIP4E,cAAAA,oBAAoB,EAAAA,oBAAAA;AAJb,aAAA;AAFQ,WAAD,CAAlB,CAAA;AASA3X,UAAAA,UAAU,CAAC;YAAQV,cAAc,EAAA,CAAA;AAAK,WAA5B,CAAV,CAAA;AACD,SAdD,MAcO;AACLyC,UAAAA,MAAM,CAAChC,KAAP,CAAa,iEAAb,EAAgFA,KAAhF,CAAA,CAAA;AACA6a,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,YAAAA,OAAO,EAAE;AACPE,cAAAA,kBAAkB,EAAAA,kBADX;AAEPK,cAAAA,QAAQ,EAAE,EAFH;AAGP3E,cAAAA,OAAO,EAAE,KAHF;AAIP4E,cAAAA,oBAAoB,EAAE,CAAA;AAJf,aAAA;AAFQ,WAAD,CAAlB,CAAA;AASD,SAAA;OA1BH,CAAA,CAAA;AA4BD,KAAA;AACF,GAtDQ,EAsDN,CAACN,kBAAD,EAAqBoG,2BAArB,CAtDM,CAAT,CAAA;AAuDD;;ACxDD,SAASe,iBAAT,CACEne,EADF,EAEEE,EAFF,EAEyF;AADrF,EAAA,IAAA8W,kBAAkB,wBAAlB;AAAA,MAAoBM,oBAAoB,GAAAtX,EAAA,CAAAsX,oBAAxC;AAAA,MAA0C8G,SAAS,GAAApe,EAAA,CAAAoe,SAAnD,CAAA;AACA,EAAA,IAAA9D,GAAG,GAAApa,EAAA,CAAAoa,GAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B;AAAA,MAAiC7H,OAAO,GAAAxS,EAAA,CAAAwS,OAAxC;AAAA,MAA0C0K,2BAA2B,GAAAld,EAAA,CAAAkd,2BAArE,CAAA;AAEF,EAAA,OAAOiB,iBAAW,CAAC,UAACC,QAAD,EAAS;IAC1B,IAAIF,SAAS,IAAI1L,OAAb,IAAwB4H,GAAxB,IAA+BA,GAAG,CAAC+C,iBAAvC,EAA0D;MACxD3b,MAAM,CAACQ,IAAP,CAAY,wCAAZ,CAAA,CAAA;AACA,MAAA,IAAMqb,mBAAiB,GAAG,IAAIjD,GAAG,CAAC+C,iBAAR,EAA1B,CAAA;MACAE,mBAAiB,CAACC,cAAlB,GAAmC,EAAnC,CAAA;MACAD,mBAAiB,CAACG,cAAlB,GAAmC,KAAnC,CAAA;MACAH,mBAAiB,CAACI,gBAAlB,GAAqC,KAArC,CAAA;;AAEA,MAAA,IAAIP,2BAAJ,EAAiC;QAC/BQ,MAAM,CAACC,IAAP,CAAYT,2BAAZ,EAAyCU,OAAzC,CAAiD,UAACC,GAAD,EAAI;AACnDR,UAAAA,mBAAiB,CAACQ,GAAD,CAAjB,GAAyBX,2BAA2B,CAACW,GAAD,CAApD,CAAA;SADF,CAAA,CAAA;AAGArc,QAAAA,MAAM,CAACQ,IAAP,CAAY,mEAAZ,EAAiFkb,2BAAjF,CAAA,CAAA;AACD,OAAA;;AAED1b,MAAAA,MAAM,CAACQ,IAAP,CAAY,oDAAZ,EAAkE;AAAE8U,QAAAA,kBAAkB,EAAAA,kBAApB;AAAsBgH,QAAAA,iBAAiB,EAAAT,mBAAAA;OAAzG,CAAA,CAAA;AAEAvG,MAAAA,kBAAkB,CAACsG,sBAAnB,CAA0ChG,oBAAoB,IAAI,IAAI2G,IAAJ,EAAA,CAAWC,OAAX,EAAlE,EAAwFX,mBAAxF,EAA2G,UAAClG,QAAD,EAAW3X,KAAX,EAAgB;QACzH,IAAI,CAACA,KAAL,EAAY;AACVgC,UAAAA,MAAM,CAACQ,IAAP,CAAY,8DAAZ,EAA4EmV,QAA5E,CAAA,CAAA;UACA,IAAMkH,SAAO,GAAIlH,QAAQ,IAAIA,QAAQ,CAACjQ,MAAT,GAAkB,CAA/C,CAAA;UACA,IAAMoX,sBAAoB,GAAGD,SAAO,GAAGlH,QAAQ,CAAC,CAAD,CAAR,CAAYxY,SAAf,GAA2B,IAA/D,CAAA;AACA0b,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,wBADW;AAEjB5D,YAAAA,OAAO,EAAE;AACPE,cAAAA,kBAAkB,EAAAA,kBADX;AAEPK,cAAAA,QAAQ,EAAAA,QAFD;AAGP3E,cAAAA,OAAO,EAAA6L,SAHA;AAIPjH,cAAAA,oBAAoB,EAAAkH,sBAAAA;AAJb,aAAA;AAFQ,WAAD,CAAlB,CAAA;AASA7e,UAAAA,UAAU,CAAC,YAAA;YACT2e,QAAQ,EAAA,CAAA;AACT,WAFS,CAAV,CAAA;AAGD,SAhBD,MAgBO;AACL5c,UAAAA,MAAM,CAAChC,KAAP,CAAa,2DAAb,EAA0EA,KAA1E,CAAA,CAAA;AACA6a,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,YAAAA,OAAO,EAAE;AACPE,cAAAA,kBAAkB,EAAAA,kBADX;AAEPK,cAAAA,QAAQ,EAAE,EAFH;AAGP3E,cAAAA,OAAO,EAAE,KAHF;AAIP4E,cAAAA,oBAAoB,EAAE,CAAA;AAJf,aAAA;AAFQ,WAAD,CAAlB,CAAA;AASD,SAAA;OA5BH,CAAA,CAAA;AA8BD,KAAA;GA/Ce,EAgDf,CAACN,kBAAD,EAAqBM,oBAArB,EAA2C8G,SAA3C,CAhDe,CAAlB,CAAA;AAiDD;;AC9DD,SAASK,oBAAT,CACEze,EADF,EAEEE,EAFF,EAE0B;AADtB,EAAA,IAAAwe,qBAAqB,GAAA1e,EAAA,CAAA0e,qBAArB,CAAA;AACA,EAAA,IAAAhd,MAAM,GAAAxB,EAAA,CAAAwB,MAAN,CAAA;EAEF,OAAO2c,iBAAW,CAAC,YAAA;IACjB,IAAIM,QAAQ,GAAG,IAAf,CAAA;;AACA,IAAA,IAAID,qBAAJ,EAA2B;MACzB,IAAI;AACF,QAAA,IAAME,kBAAkB,GAAGF,qBAAqB,CAAC/U,OAAjD,CAAA;QACAgV,QAAQ,GAAGC,kBAAkB,CAACnf,YAAnB,IAAmCmf,kBAAkB,CAACpf,SAAnB,GAA+Bof,kBAAkB,CAAChV,YAAhG,CAAA;OAFF,CAGE,OAAMlK,KAAN,EAAa;AACbgC,QAAAA,MAAM,CAAChC,KAAP,CAAa,oCAAb,EAAmDA,KAAnD,CAAA,CAAA;AACD,OAAA;AACF,KAAA;;AACD,IAAA,OAAOif,QAAP,CAAA;AACD,GAXiB,EAWf,CAACD,qBAAD,CAXe,CAAlB,CAAA;AAYD;;ACRD,SAASG,sBAAT,CACE7e,EADF,EAEEE,EAFF,EAEmD;MAD/C8W,kBAAkB,GAAAhX,EAAA,CAAAgX;MAAE8H,uBAAuB,GAAA9e,EAAA,CAAA8e;MAAEzD,iBAAiB,GAAArb,EAAA,CAAAqb;MAAE0D,eAAe,GAAA/e,EAAA,CAAA+e;AAC/E,EAAA,IAAAzE,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;EAEF,OAAO8D,iBAAW,CAAC,YAAA;AACjB,IAAA,IAAI/D,GAAG,IAAIA,GAAG,CAAC0E,iBAAf,EAAkC;AAChC,MAAA,IAAM1Z,IAAI,GAAGyZ,eAAe,CAACpV,OAAhB,CAAwBsV,KAArC,CAAA;;AACA,MAAA,IAAMC,mBAAmB,GAAG,UAACC,GAAD,EAAqB;AAC/C,QAAA,IAAMxgB,OAAO,GAAG,OAAOwgB,GAAP,KAAe,QAAf,GAA0BA,GAAG,CAACC,IAAJ,EAA1B,GAAuCD,GAAG,CAACE,QAAJ,CAAa,EAAb,CAAA,CAAiBD,IAAjB,EAAvD,CAAA;AACA,QAAA,IAAME,MAAM,GAAG,IAAIhF,GAAG,CAAC0E,iBAAR,EAAf,CAAA;QACAM,MAAM,CAAC3gB,OAAP,GAAiBA,OAAjB,CAAA;AACA,QAAA,OAAO2gB,MAAP,CAAA;OAJF,CAAA;;AAMA,MAAA,IAAMC,kBAAkB,GAAGT,uBAAuB,IAAI,OAAOA,uBAAP,KAAmC,UAAzF,CAAA;;AACA,MAAA,IAAIS,kBAAJ,EAAwB;AACtB7d,QAAAA,MAAM,CAACQ,IAAP,CAAY,qFAAZ,EAAmG4c,uBAAnG,CAAA,CAAA;AACD,OAAA;;AACD,MAAA,IAAMQ,MAAM,GAAGR,uBAAuB,GAAGA,uBAAuB,CAACxZ,IAAD,CAA1B,GAAmC4Z,mBAAmB,CAAC5Z,IAAD,CAA5F,CAAA;AACA5D,MAAAA,MAAM,CAACQ,IAAP,CAAY,mEAAZ,EAAiFod,MAAjF,CAAA,CAAA;MAEA,IAAME,UAAQ,GAAGnE,iBAAiB,EAAlC,CAAA;AACA,MAAA,IAAMoE,cAAc,GAAGzI,kBAAkB,CAAC0I,eAAnB,CAAmCJ,MAAnC,EAA2C,UAAC3gB,OAAD,EAAUe,KAAV,EAAe;QAC/E,IAAI,CAACA,KAAL,EAAY;AACVgC,UAAAA,MAAM,CAACQ,IAAP,CAAY,iEAAZ,EAA+EvD,OAA/E,CAAA,CAAA;AACA4b,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,YAAAA,OAAO,EAAEnY,OAAAA;AAFQ,WAAD,CAAlB,CAAA;;AAIA,UAAA,IAAI6gB,UAAJ,EAAc;AACZ7f,YAAAA,UAAU,CAAC,YAAA;AACTwb,cAAAA,cAAA,EAAA,CAAA;AACD,aAFS,CAAV,CAAA;AAGD,WAAA;AACF,SAXD,MAWO;AACLzZ,UAAAA,MAAM,CAACO,OAAP,CAAe,8DAAf,EAA+EvC,KAA/E,CAAA,CAAA;AACA6a,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,YAAAA,OAAO,EAAE4D,kBAAAA;AAFQ,WAAD,CAAlB,CAAA;AAID,SAAA;AACF,OAnBsB,CAAvB,CAAA;AAoBAH,MAAAA,kBAAkB,CAAC;QACjBhN,IAAI,EAAEmN,qBADW;AAEjB5D,QAAAA,OAAO,EAAE;AACPnY,UAAAA,OAAO,EAAE8gB,cADF;AAEP9c,UAAAA,OAAO,EAAEqU,kBAAAA;AAFF,SAAA;AAFQ,OAAD,CAAlB,CAAA;AAOD,KAAA;GA5Ce,EA6Cf,CAACA,kBAAD,EAAqB8H,uBAArB,EAA8CzD,iBAA9C,EAAiE0D,eAAjE,CA7Ce,CAAlB,CAAA;AA8CD;;AC5CD,SAASY,qBAAT,CACE3f,EADF,EAOEE,EAPF,EAOmD;AAL/C,EAAA,IAAA8W,kBAAkB,GAAAhX,EAAA,CAAAgX,kBAAlB;AAAA,MACAqE,iBAAiB,GAAArb,EAAA,CAAAqb,iBADjB;AAAA,MAEAjb,EAAA,GAAAJ,EAAA,CAAA4f,gBAFA;MAEAA,gBAAgB,GAAGxf,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAEA,EAFrB;AAAA,MAGAyf,uBAAuB,GAAA7f,EAAA,CAAA6f,uBAHvB,CAAA;AAKA,EAAA,IAAAvF,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;AAEF,EAAA,OAAO8D,iBAAW,CAAC,UAACyB,IAAD,EAAK;AACtB,IAAA,IAAIxF,GAAG,IAAIA,GAAG,CAACyF,iBAAf,EAAkC;AAE9B,MAAA,IAAAC,iBAAe,GAGbJ,gBAAgB,CAAAK,eAHlB;AAAA,UACAC,eAAa,GAEXN,gBAAgB,CAAAO,aAHlB;AAAA,UAEAC,gBAAc,GACZR,gBAAgB,eAHlB,CAAA;AAIF,MAAA,IAAMS,oBAAkB,GAAGR,uBAAuB,IAAI,OAAOA,uBAAP,KAAmC,UAAzF,CAAA;AAEA,MAAA,IAAMS,oBAAoB,GAAIR,IAAI,CAACvS,IAAL,KAAc,WAAd,IAA6BuS,IAAI,CAACvS,IAAL,KAAc,WAA3C,IAA0DuS,IAAI,CAACvS,IAAL,KAAc,YAAtG,CAAA;MACA,IAAMgT,iBAAiB,GAAIP,iBAAe,GAAG,CAAnB,IAA0BA,iBAAe,GAAG,CAAtE,CATgC;;AAWhC,MAAA,IAAMQ,yBAAuB,GAAGrF,UAAA,CAAiB+E,eAAjB,CAAA,IAC3B/E,UAAA,CAAiBiF,gBAAjB,CADL,CAAA;AAGA,MAAA,IAAMK,gBAAgB,GAAGH,oBAAoB,KAAKC,iBAAiB,IAAIC,yBAA1B,CAA7C,CAAA;;AAEA,MAAA,IAAME,qBAAmB,GAAG,UAACC,KAAD,EAAM;AAChC,QAAA,IAAMrB,MAAM,GAAG,IAAIhF,GAAG,CAACyF,iBAAR,EAAf,CAAA;QACAT,MAAM,CAACQ,IAAP,GAAca,KAAd,CAAA;AACA,QAAA,OAAOrB,MAAP,CAAA;OAHF,CAAA;;AAMA,MAAA,IAAImB,gBAAJ,EAAsB;AAAE;QACtB,IAAI;AACF,UAAA,IAAMG,OAAK,GAAqBthB,QAAQ,CAACsG,aAAT,CAAuB,KAAvB,CAAhC,CAAA;UACAgb,OAAK,CAACC,GAAN,GAAYC,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CAAZ,CAAA;;UACAc,OAAK,CAACI,MAAN,GAAe,YAAA;AACbF,YAAAA,GAAG,CAACG,eAAJ,CAAoBL,OAAK,CAACC,GAA1B,CAAA,CAAA;AACA,YAAA,IAAMK,MAAM,GAAG5hB,QAAQ,CAACsG,aAAT,CAAuB,QAAvB,CAAf,CAAA;YACA,IAAMub,UAAU,GAAGP,OAAK,CAACQ,YAAN,IAAsBR,OAAK,CAACxc,KAA/C,CAAA;YACA,IAAMid,WAAW,GAAGT,OAAK,CAACU,aAAN,IAAuBV,OAAK,CAACvc,MAAjD,CAAA;YACA,IAAIkd,WAAW,GAAGpG,UAAA,CAAiB+E,eAAjB,KAAmCiB,UAArD,CAAA;YACA,IAAIK,YAAY,GAAGrG,UAAA,CAAiBiF,gBAAjB,CAAA,IAAoCiB,WAAvD,CANa;AASb;AACA;;YACA,IAAIvB,IAAI,CAACvS,IAAL,KAAc,WAAd,IAA6B,CAACiT,yBAAlC,EAA2D;AACzDe,cAAAA,WAAW,IAAIvB,iBAAf,CAAA;AACAwB,cAAAA,YAAY,IAAIxB,iBAAhB,CAAA;AACD,aAAA;;YAEDkB,MAAM,CAAC9c,KAAP,GAAemd,WAAf,CAAA;YACAL,MAAM,CAAC7c,MAAP,GAAgBmd,YAAhB,CAAA;AACA,YAAA,IAAMC,OAAO,GAAGP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAhB,CAAA;YACAD,OAAO,CAACE,SAAR,CAAkBf,OAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+BW,WAA/B,EAA4CC,YAA5C,CAAA,CAAA;AACAC,YAAAA,OAAO,CAACP,MAAR,CAAeU,MAAf,CACE,UAACC,YAAD,EAAa;AACX,cAAA,IAAMC,cAAc,GAAG,IAAIC,IAAJ,CAAS,CAACF,YAAD,CAAT,EAAyB/B,IAAI,CAACjQ,IAA9B,EAAoC;gBAAEtC,IAAI,EAAEuS,IAAI,CAACvS,IAAAA;AAAb,eAApC,CAAvB,CAAA;;AACA,cAAA,IAAI8S,oBAAJ,EAAwB;AACtB3e,gBAAAA,MAAM,CAACQ,IAAP,CAAY,oFAAZ,EAAkG2d,uBAAlG,CAAA,CAAA;AACD,eAAA;;AACD,cAAA,IAAMP,MAAM,GAAGO,uBAAuB,GAAGA,uBAAuB,CAACiC,cAAD,CAA1B,GAA6CpB,qBAAmB,CAACoB,cAAD,CAAtG,CAAA;AACApgB,cAAAA,MAAM,CAACQ,IAAP,CAAY,mEAAZ,EAAiFod,MAAjF,CAAA,CAAA;cAEA,IAAMX,QAAQ,GAAGtD,iBAAiB,EAAlC,CAAA;AACA,cAAA,IAAMoE,cAAc,GAAGzI,kBAAkB,CAACgL,eAAnB,CACrB1C,MADqB,EAErB,UAAC3gB,OAAD,EAA2Ce,KAA3C,EAAgD;gBAC9C,IAAI,CAACA,KAAL,EAAY;AACVgC,kBAAAA,MAAM,CAACQ,IAAP,CAAY,gEAAZ,EAA8EvD,OAA9E,CAAA,CAAA;AACA4b,kBAAAA,kBAAkB,CAAC;oBACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,oBAAAA,OAAO,EAAEnY,OAAAA;AAFQ,mBAAD,CAAlB,CAAA;;AAIA,kBAAA,IAAIggB,QAAJ,EAAc;AACZhf,oBAAAA,UAAU,CAAC,YAAA;AACTwb,sBAAAA,cAAA,EAAA,CAAA;AACD,qBAFS,CAAV,CAAA;AAGD,mBAAA;AACF,iBAXD,MAWO;AACLzZ,kBAAAA,MAAM,CAAChC,KAAP,CAAa,kEAAb,EAAiF;AAAEf,oBAAAA,OAAO,EAAAA,OAAT;AAAWe,oBAAAA,KAAK,EAAAA,KAAAA;mBAAjG,CAAA,CAAA;kBACAf,OAAO,CAAC+O,QAAR,GAAmBoT,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CAAnB,CAAA;kBACAnhB,OAAO,CAACmhB,IAAR,GAAeA,IAAf,CAAA;AACAvF,kBAAAA,kBAAkB,CAAC;oBACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,oBAAAA,OAAO,EAAEnY,OAAAA;AAFQ,mBAAD,CAAlB,CAAA;AAID,iBAAA;AACF,eAvBoB,CAAvB,CAAA;AA0BA4b,cAAAA,kBAAkB,CAAC;gBACjBhN,IAAI,EAAEmN,qBADW;AAEjB5D,gBAAAA,OAAO,EAAE;kBACPnY,OAAO,EAAAiY,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACF6I,cADE,CAAA,EACY;AACjBtT,oBAAAA,GAAG,EAAE2U,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CADY;AAEjB;AACAjO,oBAAAA,YAAY,EAAE,SAAA;AAHG,mBADZ,CADA;AAOPlP,kBAAAA,OAAO,EAAEqU,kBAAAA;AAPF,iBAAA;AAFQ,eAAD,CAAlB,CAAA;AAYD,aAhDH,EAiDE8I,IAAI,CAACvS,IAjDP,EAkDEyS,iBAlDF,CAAA,CAAA;WApBF,CAAA;SAHF,CA4EE,OAAOtgB,KAAP,EAAc;AACdgC,UAAAA,MAAM,CAACO,OAAP,CAAe,yFAAf,EAA0GvC,KAA1G,CAAA,CAAA;AACD,SAAA;AACF,OAhFD,MAgFO;AAAE;AACP,QAAA,IAAI2gB,oBAAJ,EAAwB;AACtB3e,UAAAA,MAAM,CAACQ,IAAP,CAAY,oFAAZ,EAAkG2d,uBAAlG,CAAA,CAAA;AACD,SAAA;;AACD,QAAA,IAAMP,MAAM,GAAGO,uBAAuB,GAAGA,uBAAuB,CAACC,IAAD,CAA1B,GAAmCY,qBAAmB,CAACZ,IAAD,CAA5F,CAAA;AACApe,QAAAA,MAAM,CAACQ,IAAP,CAAY,mEAAZ,EAAiFod,MAAjF,CAAA,CAAA;QAEA,IAAME,UAAQ,GAAGnE,iBAAiB,EAAlC,CAAA;AACA,QAAA,IAAMoE,cAAc,GAAGzI,kBAAkB,CAACgL,eAAnB,CACrB1C,MADqB,EAErB,UAAC3gB,OAAD,EAA2Ce,KAA3C,EAAgD;UAC9C,IAAI,CAACA,KAAL,EAAY;AACVgC,YAAAA,MAAM,CAACQ,IAAP,CAAY,gEAAZ,EAA8EvD,OAA9E,CAAA,CAAA;AACA4b,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,cAAAA,OAAO,EAAEnY,OAAAA;AAFQ,aAAD,CAAlB,CAAA;;AAIA,YAAA,IAAI6gB,UAAJ,EAAc;AACZ7f,cAAAA,UAAU,CAAC,YAAA;AACTwb,gBAAAA,cAAA,EAAA,CAAA;AACD,eAFS,CAAV,CAAA;AAGD,aAAA;AACF,WAXD,MAWO;AACLzZ,YAAAA,MAAM,CAAChC,KAAP,CAAa,kEAAb,EAAiF;AAAEf,cAAAA,OAAO,EAAAA,OAAT;AAAWe,cAAAA,KAAK,EAAAA,KAAAA;aAAjG,CAAA,CAAA;YACAf,OAAO,CAAC+O,QAAR,GAAmBoT,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CAAnB,CAAA;YACAnhB,OAAO,CAACmhB,IAAR,GAAeA,IAAf,CAAA;AACAvF,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,cAAAA,OAAO,EAAEnY,OAAAA;AAFQ,aAAD,CAAlB,CAAA;AAID,WAAA;AACF,SAvBoB,CAAvB,CAAA;AA0BA4b,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,qBADW;AAEjB5D,UAAAA,OAAO,EAAE;YACPnY,OAAO,EAAAiY,4BAAA,CAAAA,4BAAA,CAAA,EAAA,EACF6I,cADE,CAAA,EACY;AACjBtT,cAAAA,GAAG,EAAE2U,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CADY;AAEjB;AACAjO,cAAAA,YAAY,EAAE,SAAA;AAHG,aADZ,CADA;AAOPlP,YAAAA,OAAO,EAAEqU,kBAAAA;AAPF,WAAA;AAFQ,SAAD,CAAlB,CAAA;AAYD,OAAA;AACF,KAAA;GAtJe,EAuJf,CAACA,kBAAD,EAAqB6I,uBAArB,EAA8CxE,iBAA9C,EAAiEuE,gBAAjE,CAvJe,CAAlB,CAAA;AAwJD;;ACzKD,SAASqC,wBAAT,CACEjiB,EADF,EAEEE,EAFF,EAEmD;MAD/C8W,kBAAkB,GAAAhX,EAAA,CAAAgX;MAAE8H,uBAAuB,GAAA9e,EAAA,CAAA8e;AAC3C,EAAA,IAAAxE,GAAG,SAAH;AAAA,MAAK5Y,MAAM,GAAAxB,EAAA,CAAAwB,MAAX;AAAA,MAAa6Y,kBAAkB,GAAAra,EAAA,CAAAqa,kBAA/B,CAAA;EAEF,OAAO8D,iBAAW,CAAC,UAACvM,SAAD,EAAYxM,IAAZ,EAAkBgZ,QAAlB,EAA0B;AAC3C,IAAA,IAAMY,mBAAmB,GAAG,UAACC,GAAD,EAAI;AAC9B,MAAA,IAAMG,MAAM,GAAG,IAAIhF,GAAG,CAAC0E,iBAAR,EAAf,CAAA;MACAM,MAAM,CAAC3gB,OAAP,GAAiBwgB,GAAjB,CAAA;AACA,MAAA,OAAOG,MAAP,CAAA;KAHF,CAAA;;AAMA,IAAA,IAAIR,uBAAuB,IAAI,OAAOA,uBAAP,KAAmC,UAAlE,EAA8E;MAC5Epd,MAAM,CAACQ,IAAP,CAAY,yFAAZ,CAAA,CAAA;AACD,KAAA;;AACD,IAAA,IAAMod,MAAM,GAAGR,uBAAuB,GAAGA,uBAAuB,CAACxZ,IAAD,CAA1B,GAAmC4Z,mBAAmB,CAAC5Z,IAAD,CAA5F,CAAA;IACA0R,kBAAkB,CAACkL,iBAAnB,CAAqCpQ,SAArC,EAAgDwN,MAAhD,EAAwD,UAAC3gB,OAAD,EAAUe,KAAV,EAAe;AACrE,MAAA,IAAI4e,QAAJ,EAAc;QACZA,QAAQ,EAAA,CAAA;AACT,OAAA;;MACD,IAAI,CAAC5e,KAAL,EAAY;AACVgC,QAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkF;AAAEvD,UAAAA,OAAO,EAAAA,OAAT;AAAW2gB,UAAAA,MAAM,EAAAA,MAAAA;SAAnG,CAAA,CAAA;AACA/E,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAE;AACPnU,YAAAA,OAAO,EAAEqU,kBADF;AAEPrY,YAAAA,OAAO,EAAAA,OAAAA;AAFA,WAAA;AAFQ,SAAD,CAAlB,CAAA;AAOD,OATD,MASO;AACL+C,QAAAA,MAAM,CAACO,OAAP,CAAe,iEAAf,EAAkFvC,KAAlF,CAAA,CAAA;AACD,OAAA;KAfH,CAAA,CAAA;AAiBD,GA5BiB,EA4Bf,CAACsX,kBAAD,EAAqB8H,uBAArB,CA5Be,CAAlB,CAAA;AA6BD;;AChCD,SAASqD,wBAAT,CACEniB,EADF,EAEEE,EAFF,EAE8C;AAD1C,EAAA,IAAA8W,kBAAkB,GAAAhX,EAAA,CAAAgX,kBAAlB,CAAA;MACAtV,MAAM,GAAAxB,EAAA,CAAAwB;MAAE6Y,kBAAkB,GAAAra,EAAA,CAAAqa;AAE5B,EAAA,OAAO8D,iBAAW,CAAC,UAAC1f,OAAD,EAAU2f,QAAV,EAAkB;AACnC5c,IAAAA,MAAM,CAACQ,IAAP,CAAY,0DAAZ,EAAwEvD,OAAxE,CAAA,CAAA;AACQ,IAAA,IAAAwB,aAAa,GAAKxB,OAAO,CAAAwB,aAAzB,CAAA;AACRuB,IAAAA,MAAM,CAACQ,IAAP,CAAY,uEAAZ,EAAqF/B,aAArF,CAAA,CAAA;;AAEA,IAAA,IAAIA,aAAa,KAAK,QAAlB,IAA8BA,aAAa,KAAK,SAApD,EAA+D;AAC7DuB,MAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkFvD,OAAlF,CAAA,CAAA;AACA4b,MAAAA,kBAAkB,CAAC;QACjBhN,IAAI,EAAEmN,4BADW;QAEjB5D,OAAO,EAAEnY,OAAO,CAAC0Z,KAAAA;AAFA,OAAD,CAAlB,CAAA;;AAIA,MAAA,IAAIiG,QAAJ,EAAc;QACZA,QAAQ,EAAA,CAAA;AACT,OAAA;AACF,KATD,MASO;AACL,MAAA,IAAI,EAAE3f,OAAO,CAACmB,WAAR,KAAuB,MAAvB,IAAiCnB,OAAO,CAACmB,WAAR,KAAwB,MAA3D,CAAJ,EAAwE;AACtE,QAAA,OAAA;AACD,OAAA;;MACD,IAAMsiB,eAAe,GAAGzjB,OAAxB,CAAA;AACAqY,MAAAA,kBAAkB,CAAC5F,aAAnB,CAAiCgR,eAAjC,EAAkD,UAAC1iB,KAAD,EAAM;AACtDgC,QAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkF/B,aAAlF,CAAA,CAAA;;AACA,QAAA,IAAIme,QAAJ,EAAc;UACZA,QAAQ,EAAA,CAAA;AACT,SAAA;;QACD,IAAI,CAAC5e,KAAL,EAAY;AACVgC,UAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkFvD,OAAlF,CAAA,CAAA;AACA4b,UAAAA,kBAAkB,CAAC;YACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,YAAAA,OAAO,EAAE;AACPnU,cAAAA,OAAO,EAAEqU,kBADF;cAEPlF,SAAS,EAAEnT,OAAO,CAACmT,SAAAA;AAFZ,aAAA;AAFQ,WAAD,CAAlB,CAAA;AAOD,SATD,MASO;AACLpQ,UAAAA,MAAM,CAACO,OAAP,CAAe,iEAAf,EAAkFvC,KAAlF,CAAA,CAAA;AACD,SAAA;OAhBH,CAAA,CAAA;AAkBD,KAAA;AACF,GAtCiB,EAsCf,CAACsX,kBAAD,CAtCe,CAAlB,CAAA;AAuCD;;AC/CD,SAASqL,wBAAT,CACEriB,EADF,EAEEE,EAFF,EAE8C;AAD1C,EAAA,IAAA8W,kBAAkB,GAAAhX,EAAA,CAAAgX,kBAAlB,CAAA;MACAtV,MAAM,GAAAxB,EAAA,CAAAwB;MAAE6Y,kBAAkB,GAAAra,EAAA,CAAAqa;AAE5B,EAAA,OAAO8D,iBAAW,CAAC,UAACiE,aAAD,EAAc;AAC/B5gB,IAAAA,MAAM,CAACQ,IAAP,CAAY,uEAAZ,EAAqFogB,aAArF,CAAA,CAAA;AACQ,IAAA,IAAAxiB,WAAW,GAAWwiB,aAAa,CAAAxiB,WAAnC;AAAA,QAAaggB,IAAI,GAAKwC,aAAa,CAAAxC,IAAnC,CAAA;;AACR,IAAA,IAAIwC,aAAa,IAAI,OAAOA,aAAa,CAAChb,YAArB,KAAsC,UAAvD,IAAqEgb,aAAa,CAAChb,YAAd,EAAzE,EAAuG;AACrG;MACAgb,aAAa,CAACzQ,YAAd,GAA6B,SAA7B,CAAA;AACA0I,MAAAA,kBAAkB,CAAC;QACjBhN,IAAI,EAAEmN,uBADW;AAEjB5D,QAAAA,OAAO,EAAE;AACPnU,UAAAA,OAAO,EAAEqU,kBADF;AAEPrY,UAAAA,OAAO,EAAE2jB,aAAAA;AAFF,SAAA;OAFO,CAAlB,CAHqG;;MAYrG,IAAIxiB,WAAW,KAAK,MAAhB,IAA0BwiB,aAAa,CAACxiB,WAAd,KAA8B,MAA5D,EAAoE;QAClEkX,kBAAkB,CAACuL,iBAAnB,CAAqCD,aAArC,EAAoD,UAAC3jB,OAAD,EAAUe,KAAV,EAAe;UACjE,IAAI,CAACA,KAAL,EAAY;AACVgC,YAAAA,MAAM,CAACQ,IAAP,CAAY,oEAAZ,EAAkFvD,OAAlF,CAAA,CAAA;AACA4b,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,cAAAA,OAAO,EAAEnY,OAAAA;AAFQ,aAAD,CAAlB,CAAA;AAID,WAND,MAMO;AACL+C,YAAAA,MAAM,CAACO,OAAP,CAAe,kEAAf,EAAmFvC,KAAnF,EADK;;YAGL4iB,aAAa,CAACzQ,YAAd,GAA6B,QAA7B,CAAA;AACA0I,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,cAAAA,OAAO,EAAEwL,aAAAA;AAFQ,aAAD,CAAlB,CAAA;AAID,WAAA;SAfH,CAAA,CAAA;AAiBA,QAAA,OAAA;AACD,OA/BoG;;;MAkCrG,IAAIxiB,WAAW,KAAK,MAAhB,IAA0BwiB,aAAa,CAACxiB,WAAd,KAA8B,MAA5D,EAAoE;QAClEkX,kBAAkB,CAACwL,iBAAnB,CAAqCF,aAArC,EAAoDxC,IAApD,EAA0D,UAACnhB,OAAD,EAAUe,KAAV,EAAe;UACvE,IAAI,CAACA,KAAL,EAAY;AACVgC,YAAAA,MAAM,CAACQ,IAAP,CAAY,0EAAZ,EAAwFvD,OAAxF,CAAA,CAAA;AACA4b,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,cAAAA,OAAO,EAAEnY,OAAAA;AAFQ,aAAD,CAAlB,CAAA;AAID,WAND,MAMO;AACL+C,YAAAA,MAAM,CAACO,OAAP,CAAe,uEAAf,EAAwFvC,KAAxF,EADK;;YAGL4iB,aAAa,CAACzQ,YAAd,GAA6B,QAA7B,CAAA;AACA0I,YAAAA,kBAAkB,CAAC;cACjBhN,IAAI,EAAEmN,sBADW;AAEjB5D,cAAAA,OAAO,EAAEwL,aAAAA;AAFQ,aAAD,CAAlB,CAAA;AAID,WAAA;SAfH,CAAA,CAAA;AAiBD,OAAA;AACF,KArDD,MAqDO;AACL;AACA;MACAG,OAAO,CAAC/iB,KAAR,CAAc,mEAAd,CAAA,CAAA;AACAgC,MAAAA,MAAM,CAACO,OAAP,CAAe,mEAAf,EAAoFqgB,aAApF,CAAA,CAAA;AACD,KAAA;AACF,GA9DiB,EA8Df,CAACtL,kBAAD,CA9De,CAAlB,CAAA;AA+DD;;AC/DD,IAAM0L,cAAc,GAAG,IAAvB;AAGA;AACA;AACA;;AACA,SAASC,kBAAT,CACE3iB,EADF,EAEEE,EAFF,EAE8C;MAD1C0iB,cAAc,GAAA5iB,EAAA,CAAA4iB;MAAErK,wBAAwB,GAAAvY,EAAA,CAAAuY;MACxCgC,kBAAkB,GAAAra,EAAA,CAAAqa;MAAE7Y,MAAM,GAAAxB,EAAA,CAAAwB;;AAEtB,EAAA,IAAAtB,EAAA,GAA8BqI,cAAQ,CAAC,KAAD,CAAtC;AAAA,MAACoa,UAAU,GAAAziB,EAAA,CAAA,CAAA,CAAX;AAAA,MAAa0iB,aAAa,GAAA1iB,EAAA,CAAA,CAAA,CAA1B,CAAA;;AACNsJ,EAAAA,eAAS,CAAC,YAAA;AACR,IAAA,IAAImZ,UAAJ,EAAgB;AACd,MAAA,OAAA;AACD,KAAA;;IACD,IAAI,OAAOD,cAAP,KAA0B,QAA1B,IAAsCA,cAAc,GAAGrK,wBAA3D,EAAqF;MACnF7W,MAAM,CAACQ,IAAP,CAAY,sBAAZ,CAAA,CAAA;AACAqY,MAAAA,kBAAkB,CAAC;QACjBhN,IAAI,EAAEmN,iBADW;AAEjB5D,QAAAA,OAAO,EAAE;AAAEyB,UAAAA,wBAAwB,EAAAA,wBAAAA;AAA1B,SAAA;AAFQ,OAAD,CAAlB,CAAA;AAID,KAAA;;IACDuK,aAAa,CAAC,IAAD,CAAb,CAAA;AACAnjB,IAAAA,UAAU,CAAC,YAAA;MAAQmjB,aAAa,CAAC,KAAD,CAAb,CAAA;KAAT,EAAkCJ,cAAlC,CAAV,CAAA;AACD,GAbQ,EAaN,CAACE,cAAD,EAAiBrK,wBAAjB,CAbM,CAAT,CAAA;AAcD;;ACFD,IAAMwK,oBAAoB,GAAG,mCAA7B,CAAA;AAwBaC,IAAAA,uBAAuB,GAAG,UAACtb,KAAD,EAAa;EAGhD;EAAAub,MAAM,GAgBJvb,KAAK,CAAAub,MAhBP;AAAA,MACAC,MAAM,GAeJxb,KAAK,CAfDwb,MADN;;EAGA5Q,kBAAkB,GAahB5K,KAAK,CAbW4K,kBAHlB;AAAA,MAIA6H,UAAU,GAYRzS,KAAK,CAZGyS,UAJV;AAAA,MAKAna,EAWE,GAAA0H,KAAK,CAXKyb,OALZ;MAKAA,OAAO,GAAGnjB,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAEA,EALZ;AAAA,MAMAmI,kBAAkB,GAUhBT,KAAK,CAAAS,kBAhBP;AAAA,MAOAjI,EASE,GAAAwH,KAAK,CATqB2S,oBAP5B;MAOAA,oBAAoB,GAAAna,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQA,EAP5B;;EAQAiR,mBAAmB,GAQjBzJ,KAAK,CAAAyJ,mBAhBP;AAAA,MASA/I,iBAAiB,GAOfV,KAAK,CAAAU,iBAhBP;AAAA,MAUAgb,kBAAkB,GAMhB1b,KAAK,CAAA0b,kBAhBP;AAAA,MAWApgB,kBAAkB,GAKhB0E,KAAK,CALW1E,kBAXlB;AAAA,MAYA8b,uBAAuB,GAIrBpX,KAAK,CAJgBoX,uBAZvB;AAAA,MAaAvG,wBAAwB,GAGtB7Q,KAAK,CAHiB6Q,wBAbxB;AAAA,MAcAsH,uBAAuB,GAErBnY,KAAK,CAFgBmY,uBAdvB;AAAA,MAeAwD,uBAAuB,GACrB3b,KAAK,wBAhBP,CAAA;AAmBA,EAAA,IAAA4b,QAAQ,GAENL,MAAM,CAAAK,QAFR;AAAA,MACAC,SAAS,GACPN,MAAM,CAAAM,SAFR,CAAA;AAIA,EAAA,IAAAtjB,MAAM,GAKJijB,MAAM,CALFjjB,MAAN;AAAA,MACAwS,QAAQ,GAINyQ,MAAM,CAJAzQ,QADR;AAAA,MAEA/Q,MAAM,GAGJwhB,MAAM,CAHFxhB,MAFN;AAAA,MAGA8hB,MAAM,GAEJN,MAAM,CAAAM,MALR;AAAA,MAIA5D,gBAAgB,GACdsD,MAAM,CAAAtD,gBALR,CAAA;AAQA,EAAA,IAAAtF,GAAG,GACDgJ,QAAQ,CAAAhJ,GADV,CAAA;AAGA,EAAA,IAAA1X,IAAI,GACF2gB,SAAS,CAAA3gB,IADX,CArCgD;;AAyC5C,EAAA,IAAAxC,EAAsC,GAAAqjB,gBAAU,CAACC,OAAD,EAAkBC,YAAlB,CAAhD;AAAA,MAACC,aAAa,GAAAxjB,EAAA,CAAA,CAAA,CAAd;AAAA,MAAgBma,kBAAkB,QAAlC,CAAA;;AAEJ,EAAA,IAAA/H,WAAW,GAUToR,aAAa,CAAApR,WAVf;AAAA,MACA4E,OAAO,GASLwM,aAAa,CAAAxM,OAVf;AAAA,MAEAa,WAAW,GAQT2L,aAAa,CAAA3L,WAVf;AAAA,MAGAjB,kBAAkB,GAOhB4M,aAAa,CAPG5M,kBAHlB;AAAA,MAIAD,SAAS,GAMP6M,aAAa,CAAA7M,SAVf;AAAA,MAKArE,OAAO,GAKLkR,aAAa,CALRlR,OALP;AAAA,MAMA4E,oBAAoB,GAIlBsM,aAAa,CAJKtM,oBANpB;AAAA,MAOApW,SAAS,GAGP0iB,aAAa,CAHN1iB,SAPT;AAAA,MAQAgW,oBAAoB,GAElB0M,aAAa,CAAA1M,oBAVf;AAAA,MASAC,mBAAmB,GACjByM,aAAa,CAAAzM,mBAVf,CA3CgD;;AAuDlD,EAAA,IAAM4H,eAAe,GAAGzW,YAAM,CAAC,IAAD,CAA9B,CAvDkD;;AAwDlD,EAAA,IAAMoW,qBAAqB,GAAGpW,YAAM,CAAC,IAAD,CAApC,CAxDkD;;EAyD1C,IAAArF,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd,CAzD0C;;AA4DlD,EAAA,IAAMiX,OAAO,GAAGkJ,QAAQ,CAACrL,WAAzB,CAAA;EACA,IAAMmF,2BAA2B,GAAG+F,OAAO,GAAGA,OAAO,CAACnF,iBAAX,GAA8B,IAAzE,CAAA;AACA,EAAA,IAAMnb,QAAQ,GAAG,CAACoV,WAAD,IACZ,CAACxF,QADW,IAEZ0I,uBAAA,CAA8BnE,kBAA9B,EAAkD/W,MAAlD,CAFL,CA9DkD;;AAkElD,EAAA,IAAM4jB,6BAA6B,GAAG1b,kBAAkB,IAAI+a,MAAM,CAAC/a,kBAAnE,CAAA;EACA,IAAM2b,wBAAwB,GAAG1b,iBAAiB,IAAI8a,MAAM,CAAC9a,iBAA7D,CAnEkD;;AAsElD,EAAA,IAAM2b,SAAS,GAAG/a,aAAO,CAAC,YAAA;IACxB,OAAOkO,oBAAoB,CAAC7V,OAArB,CAA6BuB,IAAI,CAAC3C,MAAlC,KAA6C,CAApD,CAAA;GADuB,EAEtB,CAACka,UAAD,EAAajD,oBAAb,EAAmCtU,IAAnC,CAFsB,CAAzB,CAAA;AAGA,EAAA,IAAMohB,QAAQ,GAAGhb,aAAO,CAAC,YAAA;IACvB,OAAOmO,mBAAmB,CAAC9V,OAApB,CAA4BuB,IAAI,CAAC3C,MAAjC,KAA4C,CAAnD,CAAA;GADsB,EAErB,CAACka,UAAD,EAAahD,mBAAb,EAAkCvU,IAAlC,CAFqB,CAAxB,CAAA;AAGA,EAAA,IAAMqB,WAAW,GAAG+E,aAAO,CAAC,YAAA;AAC1B,IAAA,OAAO9H,SAAS,CAACC,GAAV,CAAc,UAAAC,QAAA,EAAQ;MAAI,OAAAA,QAAQ,CAACnB,MAAT,CAAA;AAAe,KAAzC,EAA2CoB,OAA3C,CAAmDuB,IAAI,CAAC3C,MAAxD,KAAmE,CAA1E,CAAA;GADyB,EAExB,CAACka,UAAD,EAAajZ,SAAb,EAAwB0B,IAAxB,CAFwB,CAA3B,CA5EkD;;AAiFlDsX,EAAAA,aAAa,CACX;AAAEC,IAAAA,UAAU,EAAAA,UAAZ;AAAcC,IAAAA,OAAO,EAAAA,OAArB;AAAuBC,IAAAA,oBAAoB,EAAAA,oBAAAA;AAA3C,GADW,EAEX;AAAEC,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAAjC,GAFW,CAAb,CAAA;AAKA7Q,EAAAA,eAAS,CAAC,YAAA;AACR,IAAA,IAAIyH,mBAAJ,EAAyB;AACvB;MACAsR,OAAO,CAACvgB,IAAR,CAAa,mGAAb,CAAA,CAAA;AACD,KAAA;GAJM,EAKN,EALM,CAAT,CAAA;EAOA,IAAMmZ,iBAAiB,GAAGoD,oBAAoB,CAC5C;AAAEC,IAAAA,qBAAqB,EAAAA,qBAAAA;AAAvB,GAD4C,EAE5C;AAAEhd,IAAAA,MAAM,EAAAA,MAAAA;AAAR,GAF4C,CAA9C,CAAA;AAIA0Z,EAAAA,sBAAsB,CACpB;AAAEpE,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsBqE,IAAAA,iBAAiB,EAAAA,iBAAAA;AAAvC,GADoB,EAEpB;AAAEf,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAAjC,GAFoB,CAAtB,CAAA;AAIA4C,EAAAA,uBAAuB,CACrB;AAAEnG,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsBoG,IAAAA,2BAA2B,EAAAA,2BAAAA;AAAjD,GADqB,EAErB;AAAE9C,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;GAFZ,CAAvB,CArGkD;;EA2GlD,IAAM6D,SAAS,GAAGjD,eAAA,CAAsB3I,WAAW,KAAA,IAAX,IAAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAAA,WAAW,CAAEpL,MAAnC,EAA2CmR,wBAA3C,CAAlB,CAAA;EACA,IAAM5F,QAAQ,GAAGwL,iBAAiB,CAChC;AAAEnH,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsBM,IAAAA,oBAAoB,EAAAA,oBAA1C;AAA4C8G,IAAAA,SAAS,EAAAA,SAAAA;AAArD,GADgC,EAEhC;AAAE9D,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAjC;AAAmC7H,IAAAA,OAAO,EAAAA,OAA1C;AAA4C0K,IAAAA,2BAA2B,EAAAA,2BAAAA;AAAvE,GAFgC,CAAlC,CAAA;EAIA,IAAM6G,iBAAiB,GAAGpF,sBAAsB,CAC9C;AAAE7H,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsB8H,IAAAA,uBAAuB,EAAAA,uBAA7C;AAA+CzD,IAAAA,iBAAiB,EAAAA,iBAAhE;AAAkE0D,IAAAA,eAAe,EAAAA,eAAAA;AAAjF,GAD8C,EAE9C;AAAEzE,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAAjC,GAF8C,CAAhD,CAAA;EAIA,IAAM2J,gBAAgB,GAAGvE,qBAAqB,CAC5C;AAAE3I,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsB6I,IAAAA,uBAAuB,EAAAA,uBAA7C;AAA+CxE,IAAAA,iBAAiB,EAAAA,iBAAhE;AAAkEuE,IAAAA,gBAAgB,EAAAA,gBAAAA;AAAlF,GAD4C,EAE5C;AAAEtF,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAAjC,GAF4C,CAA9C,CAAA;EAIA,IAAMlJ,aAAa,GAAG4Q,wBAAwB,CAC5C;AAAEjL,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsB8H,IAAAA,uBAAuB,EAAAA,uBAAAA;AAA7C,GAD4C,EAE5C;AAAExE,IAAAA,GAAG,EAAAA,GAAL;AAAO5Y,IAAAA,MAAM,EAAAA,MAAb;AAAe6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAAjC,GAF4C,CAA9C,CAAA;EAIA,IAAMnJ,aAAa,GAAG+Q,wBAAwB,CAC5C;AAAEnL,IAAAA,kBAAkB,EAAAA,kBAAAA;AAApB,GAD4C,EAE5C;AAAEtV,IAAAA,MAAM,EAAAA,MAAR;AAAU6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAA5B,GAF4C,CAA9C,CAAA;EAIA,IAAM1S,aAAa,GAAGwa,wBAAwB,CAC5C;AAAErL,IAAAA,kBAAkB,EAAAA,kBAAAA;AAApB,GAD4C,EAE5C;AAAEtV,IAAAA,MAAM,EAAAA,MAAR;AAAU6Y,IAAAA,kBAAkB,EAAAA,kBAAAA;AAA5B,GAF4C,CAA9C,CAAA;AAKAoI,EAAAA,kBAAkB,CAChB;AAAEC,IAAAA,cAAc,EAAEpQ,WAAW,SAAX,IAAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAAA,WAAW,CAAEpL,MAA/B;AAAuCmR,IAAAA,wBAAwB,EAAAA,wBAAAA;AAA/D,GADgB,EAEhB;AAAEgC,IAAAA,kBAAkB,EAAAA,kBAApB;AAAsB7Y,IAAAA,MAAM,EAAAA,MAAAA;GAFZ,CAAlB,CArIkD;;AA2IlDgI,EAAAA,eAAS,CAAC,YAAA;AACR,IAAA,IAAMya,UAAU,GAAG,IAAIC,GAAJ,EAAnB,CAAA;;AACA,IAAA,IAAI,CAACZ,MAAD,IAAW,CAACA,MAAM,CAACa,SAAvB,EAAkC;AAChC,MAAA,OAAA;AACD,KAAA;;AACDF,IAAAA,UAAU,CAACG,GAAX,CAAeC,yBAAf,EAAyCf,MAAM,CAACa,SAAP,CAAiBE,yBAAjB,EAA2C,UAACC,GAAD,EAAI;AAC9E,MAAA,IAAA7hB,OAAO,GAAc6hB,GAAG,CAAA7hB,OAAxB;AAAA,UAAShE,OAAO,GAAK6lB,GAAG,CAAA7lB,OAAxB,CAAA;MACRM,cAAc,EAAA,CAAA;;AACd,MAAA,IAAI0D,OAAO,IAAKwX,UAAU,KAAKxX,OAAO,CAACwJ,GAAvC,EAA6C;AAC3CoO,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,UAAAA,OAAO,EAAEnY,OAAAA;AAFQ,SAAD,CAAlB,CAAA;AAID,OAAA;AACF,KATwC,CAAzC,CAAA,CAAA;AAUAwlB,IAAAA,UAAU,CAACG,GAAX,CAAeC,0BAAf,EAA0Cf,MAAM,CAACa,SAAP,CAAiBE,0BAAjB,EAA4C,UAACC,GAAD,EAAI;AAChF,MAAA,IAAA7hB,OAAO,GAAc6hB,GAAG,CAAA7hB,OAAxB;AAAA,UAAShE,OAAO,GAAK6lB,GAAG,CAAA7lB,OAAxB,CAAA;;AACR,MAAA,IAAIgE,OAAO,IAAKwX,UAAU,KAAKxX,OAAO,CAACwJ,GAAvC,EAA6C;AAC3CoO,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,qBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnY,YAAAA,OAAO,SAAT;AAAWgE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;AAID,OAAA;AACF,KARyC,CAA1C,CAAA,CAAA;AASAwhB,IAAAA,UAAU,CAACG,GAAX,CAAeC,yBAAf,EAAyCf,MAAM,CAACa,SAAP,CAAiBE,yBAAjB,EAA2C,UAACC,GAAD,EAAI;AAC9E,MAAA,IAAA7hB,OAAO,GAAc6hB,GAAG,CAAA7hB,OAAxB;AAAA,UAAShE,OAAO,GAAK6lB,GAAG,CAAA7lB,OAAxB,CAAA;MACRM,cAAc,EAAA,CAAA;;AACd,MAAA,IAAI0D,OAAO,IAAKwX,UAAU,KAAKxX,OAAO,CAACwJ,GAAvC,EAA6C;AAC3CoO,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,yBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnY,YAAAA,OAAO,SAAT;AAAWgE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;AAID,OAAA;AACF,KATwC,CAAzC,CAAA,CAAA;AAUAwhB,IAAAA,UAAU,CAACG,GAAX,CAAeC,2BAAf,EAA2Cf,MAAM,CAACa,SAAP,CAAiBE,2BAAjB,EAA6C,UAACC,GAAD,EAAI;AAClF,MAAA,IAAA7hB,OAAO,GAA4B6hB,GAAG,CAAA7hB,OAAtC;AAAA,UAAShE,OAAO,GAAmB6lB,GAAG,CAAA7lB,OAAtC;AAAA,UAAkB8lB,YAAY,GAAKD,GAAG,aAAtC,CAAA;;MACR,IAAIC,YAAY,IAAI9hB,OAAhB,IAA4BwX,UAAU,KAAKxX,OAAO,CAACwJ,GAAvD,EAA6D;AAC3DoO,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAE;AAAEnU,YAAAA,OAAO,SAAT;AAAWhE,YAAAA,OAAO;AAAlB,WAAA;AAFQ,SAAD,CAAlB,CAAA;AAID,OAAA;AACF,KAR0C,CAA3C,CAAA,CAAA;AASAwlB,IAAAA,UAAU,CAACG,GAAX,CAAeC,sBAAf,EAAsCf,MAAM,CAACa,SAAP,CAAiBE,sBAAjB,EAAwC,UAACC,GAAD,EAAI;AACxE,MAAA,IAAA7hB,OAAO,GAAgB6hB,GAAG,CAAA7hB,OAA1B;AAAA,UAASmP,SAAS,GAAK0S,GAAG,CAAA1S,SAA1B,CAAA;;AACR,MAAA,IAAInP,OAAO,IAAKwX,UAAU,KAAKxX,OAAO,CAACwJ,GAAvC,EAA6C;AAC3CoO,QAAAA,kBAAkB,CAAC;UACjBhN,IAAI,EAAEmN,kBADW;AAEjB5D,UAAAA,OAAO,EAAEhF,SAAAA;AAFQ,SAAD,CAAlB,CAAA;AAID,OAAA;AACF,KARqC,CAAtC,CAAA,CAAA;AAUA,IAAA,OAAO,YAAA;AACL,MAAA,IAAIqS,UAAJ,EAAgB;AACdA,QAAAA,UAAU,CAACrG,OAAX,CAAmB,UAAC4G,CAAD,EAAE;UACnB,IAAI;AACFA,YAAAA,CAAC,CAACC,MAAF,EAAA,CAAA;AACD,WAFD,CAEE,OAAM3kB,EAAN,EAAM;AAEP,WAAA;SALH,CAAA,CAAA;AAOD,OAAA;KATH,CAAA;AAWD,GAhEQ,EAgEN,CAACma,UAAD,EAAaC,OAAb,CAhEM,CAAT,CAAA;;EAkEA,IACE,CAACpD,kBAAD,IACG,CAACA,kBAAkB,CAAC7K,GADvB,IAEG4X,SAHL,EAIE;IACA,oBAAQ3gB,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAE2f,oBAAAA;AAAhB,KAAA,eAAsC3f,wCAAC6Q,mBAAD,EAAA;MAAa,IAAI,EAAEC,0BAAgB,CAAC0Q,WAAAA;AAApC,KAAA,CAAtC,CAAR,CAAA;AACD,GAAA;;AACD,EAAA,IAAIxN,OAAJ,EAAa;IACX,oBAAQhU,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAE2f,oBAAAA;AAAhB,KAAA,eAAsC3f,wCAAC6Q,mBAAD,EAAA;MAAa,IAAI,EAAEC,0BAAgB,CAAC2Q,OAAAA;AAApC,KAAA,CAAtC,CAAR,CAAA;AACD,GAAA;;AACD,EAAA,IAAI9N,SAAJ,EAAe;IACb,oBAAQ3T,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAE2f,oBAAAA;AAAhB,KAAA,eAAsC3f,wCAAC6Q,mBAAD,EAAA;MAAa,IAAI,EAAEC,0BAAgB,CAAC4Q,KAAAA;AAApC,KAAA,CAAtC,CAAR,CAAA;AACD,GAAA;;AAED,EAAA,oBACE1hB,wCAAC2hB,2BAAD,EAAA;AACE,IAAA,SAAS,EAAEhC,oBADb;AAEE,IAAA,kBAAkB,EAAEc,6BAFtB;AAGE,IAAA,iBAAiB,EAAEC,wBAAAA;GAGjBV,EAAAA,kBAAkB,GACdA,kBAAkB,CAAC;AACnBzgB,IAAAA,OAAO,EAAEqU,kBADU;AAEnBpU,IAAAA,IAAI,EAAEA,IAAAA;GAFY,CADJ,gBAMdQ,yBAAA,CAAA,aAAA,CAAC,6BAAD,EAAA;IACE,KAAK,EAAE4T,kBAAkB,CAACnH,IAD5B;IAEE,QAAQ,EAAE,GAAA9O,MAAA,CAAGoa,UAAA,CAAiBnE,kBAAkB,CAACgO,gBAApC,CAAH,EAAwD,GAAxD,CAAwDjkB,CAAAA,MAAxD,CAA4DkC,SAAS,CAACgiB,6CAAtE,CAFZ;IAGE,UAAU,EAAEjO,kBAAkB,CAACkO,QAHjC;AAIE,IAAA,aAAa,EAAE7B,uBAJjB;AAKE,IAAA,WAAW,EAAEpf,WAAAA;GAjBvB,CAAA,EAsBI+S,kBAAkB,CAACzV,QAAnB,iBACE6B,wCAAC+hB,kBAAD,EAAA,IAAA,CAvBN,eA0BE/hB,yBAAA,CAAA,aAAA,CAACiP,+BAAD,EAAA;AACE,IAAA,GAAG,EAAEqM,qBADP;AAEE,IAAA,mBAAmB,EAAEvN,mBAFvB;AAGE,IAAA,WAAW,EAAE6F,kBAHf;AAIE,IAAA,IAAI,EAAEpU,IAJR;AAKE,IAAA,kBAAkB,EAAE0P,kBALtB;AAME,IAAA,QAAQ,EAAEG,QANZ;AAOE,IAAA,WAAW,EAAED,WAPf;AAQE,IAAA,QAAQ,EAAEG,QARZ;AASE,IAAA,OAAO,EAAED,OATX;AAUE,IAAA,aAAa,EAAErB,aAVjB;AAWE,IAAA,aAAa,EAAED,aAXjB;AAYE,IAAA,aAAa,EAAEvJ,aAAAA;GAtCnB,CAAA,EAyCI7E,kBAAkB,gBAEdI,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,6BAAA;AAAf,GAAA,EAEIJ,kBAAkB,CAAC;AACjBL,IAAAA,OAAO,EAAEqU,kBADQ;AAEjBpU,IAAAA,IAAI,EAAEA,IAFW;AAGjBC,IAAAA,QAAQ,EAAEA,QAAAA;AAHO,GAAD,CAFtB,CAFc,gBAadO,yBAAA,CAAA,aAAA,CAACX,qBAAD,EAAA;AACE,IAAA,OAAO,EAAEuU,kBADX;AAEE,IAAA,IAAI,EAAEpU,IAFR;AAGE,IAAA,GAAG,EAAEmc,eAHP;IAIE,QAAQ,EAAElc,QAAQ,IAAImhB,QAJxB;AAKE,IAAA,aAAa,EAAEC,iBALjB;AAME,IAAA,YAAY,EAAEC,gBANhB;AAOE,IAAA,kBAAkB,EAAElhB,kBAAAA;AAPtB,GAAA,CAtDR,CADF,CAAA;AAoED,EA/RM;AAiSP,YAAeoiB,uCAAmB,CAACpC,uBAAD,CAAlC;;;;;"}