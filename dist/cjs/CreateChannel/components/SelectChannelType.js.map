{"version":3,"file":"SelectChannelType.js","sources":["../../../../src/smart-components/CreateChannel/utils.ts","../../../../src/smart-components/CreateChannel/components/SelectChannelType.tsx"],"sourcesContent":["import type { SendbirdGroupChat } from \"@sendbird/chat/groupChannel\";\n\nexport const isBroadcastChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const isSuperGroupChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n","import React, { useContext } from 'react';\nimport type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nimport * as sendbirdSelectors from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\n\nimport { useCreateChannelContext } from '../context/CreateChannelProvider';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport Modal from '../../../ui/Modal';\n\nimport {\n  isBroadcastChannelEnabled,\n  isSuperGroupChannelEnabled,\n} from '../utils';\nimport { CHANNEL_TYPE } from '../types';\n\nexport interface SelectChannelTypeProps {\n  onCancel?(): void;\n}\n\nconst SelectChannelType: React.FC<SelectChannelTypeProps> = (props: SelectChannelTypeProps) => {\n  const { onCancel } = props;\n  const store = useSendbirdStateContext();\n\n  const sdk = sendbirdSelectors.getSdk(store) as SendbirdGroupChat;\n\n  const createChannelProps = useCreateChannelContext();\n  const {\n    setStep,\n    setType,\n  } = createChannelProps;\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  const isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n  const isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n\n  return (\n    <Modal\n      titleText={stringSet?.MODAL__CREATE_CHANNEL__TITLE}\n      hideFooter\n      onCancel={() => { onCancel(); }}\n      className=\"sendbird-add-channel__modal\"\n    >\n      <div className=\"sendbird-add-channel__rectangle-wrap\">\n        <div\n          className=\"sendbird-add-channel__rectangle\"\n          onClick={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n        >\n          <Icon\n            className=\"sendbird-add-channel__rectangle__chat-icon\"\n            type={IconTypes.CHAT}\n            fillColor={IconColors.PRIMARY}\n            width=\"28px\"\n            height=\"28px\"\n          />\n          <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.MODAL__CREATE_CHANNEL__GROUP}\n          </Label>\n        </div>\n        {\n          isSupergroupAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__supergroup-icon\"\n                type={IconTypes.SUPERGROUP}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__SUPER}\n              </Label>\n            </div>\n          )\n        }\n        {\n          isBroadcastAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__broadcast-icon\"\n                type={IconTypes.BROADCAST}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__BROADCAST}\n              </Label>\n            </div>\n          )\n        }\n      </div>\n    </Modal>\n  );\n}\n\nexport default SelectChannelType;\n"],"names":["isBroadcastChannelEnabled","sdk","ALLOW_BROADCAST_CHANNEL","applicationAttributes","_a","appInfo","Array","isArray","includes","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","SelectChannelType","props","onCancel","store","useSendbirdStateContext","sendbirdSelectors","createChannelProps","useCreateChannelContext","setStep","setType","stringSet","useContext","LocalizationContext","isBroadcastAvailable","isSupergroupAvailable","React","Modal","MODAL__CREATE_CHANNEL__TITLE","CHANNEL_TYPE","GROUP","Icon","IconTypes","CHAT","IconColors","PRIMARY","Label","LabelTypography","SUBTITLE_1","LabelColors","ONBACKGROUND_1","MODAL__CREATE_CHANNEL__GROUP","SUPERGROUP","MODAL__CREATE_CHANNEL__SUPER","BROADCAST","MODAL__CREATE_CHANNEL__BROADCAST"],"mappings":"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"}