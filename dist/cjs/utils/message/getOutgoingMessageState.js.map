{"version":3,"file":"getOutgoingMessageState.js","sources":["../../../../src/utils/exports/getOutgoingMessageState.ts"],"sourcesContent":["import { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { OpenChannel } from '@sendbird/chat/openChannel';\nimport { UserMessage, FileMessage } from '@sendbird/chat/message';\n\nexport enum OutgoingMessageStates {\n  NONE = 'NONE',\n  PENDING = 'PENDING',\n  SENT = 'SENT',\n  FAILED = 'FAILED',\n  DELIVERED = 'DELIVERED',\n  READ = 'READ',\n}\n\nexport const getOutgoingMessageState = (channel: GroupChannel | OpenChannel, message: UserMessage | FileMessage): string => {\n  if (message.sendingStatus === 'pending') {\n    return OutgoingMessageStates.PENDING;\n  }\n  if (message.sendingStatus === 'failed') {\n    return OutgoingMessageStates.FAILED\n  }\n  if (channel?.isGroupChannel?.()) {\n    /* GroupChannel only */\n    if ((channel as GroupChannel).getUnreadMemberCount?.(message) === 0) {\n      return OutgoingMessageStates.READ;\n    } else if ((channel as GroupChannel).getUndeliveredMemberCount?.(message) === 0) {\n      return OutgoingMessageStates.DELIVERED;\n    }\n  }\n  if (message.sendingStatus === 'succeeded') {\n    return OutgoingMessageStates.SENT\n  }\n  return OutgoingMessageStates.NONE;\n};\n"],"names":["OutgoingMessageStates","getOutgoingMessageState","channel","message","sendingStatus","PENDING","FAILED","_a","isGroupChannel","call","_c","_b","getUnreadMemberCount","READ","_e","_d","getUndeliveredMemberCount","DELIVERED","SENT","NONE"],"mappings":";;;;AAIYA,uCAAZ;;AAAA,CAAA,UAAYA,qBAAZ,EAAiC;AAC/BA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAA,CAAA;AACAA,EAAAA,qBAAA,CAAA,SAAA,CAAA,GAAA,SAAA,CAAA;AACAA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAA,CAAA;AACAA,EAAAA,qBAAA,CAAA,QAAA,CAAA,GAAA,QAAA,CAAA;AACAA,EAAAA,qBAAA,CAAA,WAAA,CAAA,GAAA,WAAA,CAAA;AACAA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAA,CAAA;AACD,CAPD,EAAYA,6BAAqB,KAArBA,6BAAqB,GAOhC,EAPgC,CAAjC,CAAA,CAAA;;IASaC,uBAAuB,GAAG,UAACC,OAAD,EAAsCC,OAAtC,EAAwE;;;AAC7G,EAAA,IAAIA,OAAO,CAACC,aAAR,KAA0B,SAA9B,EAAyC;IACvC,OAAOJ,6BAAqB,CAACK,OAA7B,CAAA;AACD,GAAA;;AACD,EAAA,IAAIF,OAAO,CAACC,aAAR,KAA0B,QAA9B,EAAwC;IACtC,OAAOJ,6BAAqB,CAACM,MAA7B,CAAA;AACD,GAAA;;AACD,EAAA,IAAI,CAAAC,EAAA,GAAAL,OAAO,KAAP,IAAA,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEM,cAAT,MAAuB,IAAvB,IAAuBD,EAAA,KAAA,KAAA,CAAvB,GAAuB,KAAA,CAAvB,GAAuBA,EAAA,CAAAE,IAAA,CAAAP,OAAA,CAA3B,EAAiC;AAC/B;AACA,IAAA,IAAI,CAAA,CAAAQ,EAAA,GAAA,CAAAC,EAAA,GAACT,OAAD,EAA0BU,oBAA1B,MAA8C,IAA9C,IAA8CF,EAAA,KAAA,KAAA,CAA9C,GAA8C,KAAA,CAA9C,GAA8CA,EAAA,CAAAD,IAAA,CAAAE,EAAA,EAAGR,OAAH,CAA9C,MAA8D,CAAlE,EAAqE;MACnE,OAAOH,6BAAqB,CAACa,IAA7B,CAAA;AACD,KAFD,MAEO,IAAI,CAAA,CAAAC,EAAA,GAAA,CAAAC,EAAA,GAACb,OAAD,EAA0Bc,yBAA1B,MAAmD,IAAnD,IAAmDF,EAAA,KAAA,KAAA,CAAnD,GAAmD,KAAA,CAAnD,GAAmDA,EAAA,CAAAL,IAAA,CAAAM,EAAA,EAAGZ,OAAH,CAAnD,MAAmE,CAAvE,EAA0E;MAC/E,OAAOH,6BAAqB,CAACiB,SAA7B,CAAA;AACD,KAAA;AACF,GAAA;;AACD,EAAA,IAAId,OAAO,CAACC,aAAR,KAA0B,WAA9B,EAA2C;IACzC,OAAOJ,6BAAqB,CAACkB,IAA7B,CAAA;AACD,GAAA;;EACD,OAAOlB,6BAAqB,CAACmB,IAA7B,CAAA;AACD;;;;"}