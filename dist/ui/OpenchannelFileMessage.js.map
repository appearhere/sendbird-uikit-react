{"version":3,"file":"OpenchannelFileMessage.js","sources":["../../src/ui/OpenchannelFileMessage/utils.ts","../../src/ui/OpenchannelFileMessage/index.tsx"],"sourcesContent":["import { IconTypes } from '../Icon';\n\nexport const checkFileType = (fileUrl: string): string => {\n  const audioFile = /(\\.mp3)$/i;\n  const gifFile = /(\\.gif)$/i;\n  if (audioFile.test(fileUrl)) {\n    return IconTypes.FILE_AUDIO;\n  }\n  if (gifFile.test(fileUrl)) {\n    return IconTypes.GIF\n  }\n  return IconTypes.FILE_DOCUMENT;\n}\n\nexport const truncate = (fullStr:string, strLen: number): string => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n","import React, { useContext, useRef, useState } from 'react';\nimport { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport TextButton from '../TextButton';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { checkFileType, truncate } from './utils';\nimport {\n  checkIsPending,\n  checkIsFailed,\n  isFineDelete,\n  isFineResend,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport OpenChannelMobileMenu from '../OpenChannelMobileMenu';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isOperator?: boolean;\n  userId: string;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  showRemove(bool: boolean): void;\n  resendMessage(message: FileMessage): void;\n}\n\nexport default function OpenchannelFileMessage({\n  className,\n  message,\n  isOperator,\n  userId,\n  disabled,\n  chainTop,\n  showRemove,\n  resendMessage,\n}: Props): JSX.Element {\n  const status = message?.sendingStatus;\n  const { dateLocale, stringSet } = useLocalization();\n  const contextMenuRef = useRef(null);\n  const mobileMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { disableUserProfile, renderUserProfile } = useContext<UserProfileContext>(UserProfileContext);\n\n  const { isMobile } = useMediaQueryContext();\n  const openFileUrl = () => { window.open(message.url); };\n\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n  const [contextMenu, setContextMenu] = useState(false);\n  const longPress = useLongPress({\n    onLongPress: () => {\n      if (isMobile) {\n        setContextMenu(true);\n      }\n    },\n    onClick: openFileUrl,\n  }, {delay: 300});\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-file-message',\n      ].join(' ')}\n      ref={mobileMenuRef}\n    >\n      <div className=\"sendbird-openchannel-file-message__left\">\n        {\n            !chainTop && (\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <Avatar\n                    className=\"sendbird-openchannel-file-message__left__avatar\"\n                    src={sender.profileUrl || ''}\n                    ref={avatarRef}\n                    width=\"28px\"\n                    height=\"28px\"\n                    onClick={() => {\n                      if (!disableUserProfile) {\n                        toggleDropdown();\n                      }\n                    }}\n                  />\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={avatarRef}\n                    parentContainRef={avatarRef}\n                    closeDropdown={closeDropdown}\n                    style={{ paddingTop: '0px', paddingBottom: '0px' }}\n                  >\n                    {\n                      renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                    }\n                  </MenuItems>\n                )}\n              />\n            )\n          }\n      </div>\n      <div className=\"sendbird-openchannel-file-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-file-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-file-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {\n                  message?.createdAt && (\n                    format(message.createdAt, 'p', {\n                      locale: dateLocale,\n                    })\n                  )\n                }\n              </Label>\n            </div>\n          )\n        }\n        <div\n          className=\"sendbird-openchannel-file-message__right__body\"\n          {...(isMobile ? { ...longPress } : {})}\n        >\n          {\n            checkFileType(message.url) && (\n              <Icon\n                className=\"sendbird-openchannel-file-message__right__body__icon\"\n                type={checkFileType(message.url)}\n                fillColor={IconColors.PRIMARY}\n                width=\"48px\"\n                height=\"48px\"\n              />\n            )\n          }\n          <TextButton\n            className=\"sendbird-openchannel-file-message__right__body__file-name\"\n            onClick={openFileUrl}\n          >\n            <Label\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {truncate(message.name || message.url, 40)}\n            </Label>\n          </TextButton>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-file-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-file-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-file-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        !isMobile && (\n          <div\n            className=\"sendbird-openchannel-file-message__context-menu\"\n            ref={contextMenuRef}\n          >\n            {\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    showMenuTrigger({ message, userId, status }) && (\n                      <IconButton\n                        className=\"sendbird-openchannel-file-message__context-menu__icon\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          type={IconTypes.MORE}\n                          width=\"24px\"\n                          height=\"24px\"\n                        />\n                      </IconButton>\n                    )\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentRef={contextMenuRef}\n                      parentContainRef={contextMenuRef}\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      {\n                        isFineResend({ message, userId, status }) && (\n                          <MenuItem\n                            onClick={() => {\n                              if (disabled) { return; }\n                              resendMessage(message);\n                              closeDropdown();\n                            }}\n                          >\n                            {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                          </MenuItem>\n                        )\n                      }\n                      {\n                        isFineDelete({ message, userId, status }) && (\n                          <MenuItem\n                            onClick={() => {\n                              if (disabled) { return; }\n                              showRemove(true);\n                              closeDropdown();\n                            }}\n                          >\n                            {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                          </MenuItem>\n                        )\n                      }\n                    </MenuItems>\n                  )}\n                />\n            }\n          </div>\n        )\n      }\n      {\n        contextMenu && (\n          <OpenChannelMobileMenu\n            message={message}\n            hideMenu={() => {\n              setContextMenu(false);\n            }}\n            parentRef={mobileMenuRef}\n            showRemove={() => {\n              setContextMenu(false);\n              showRemove(true);\n            }}\n          />\n        )\n      }\n    </div>\n  );\n}\n"],"names":["checkFileType","fileUrl","audioFile","gifFile","test","IconTypes","FILE_AUDIO","GIF","FILE_DOCUMENT","truncate","fullStr","strLen","undefined","length","separator","sepLen","charsToShow","frontChars","Math","ceil","backChars","floor","substr","OpenchannelFileMessage","_a","className","message","isOperator","userId","disabled","chainTop","showRemove","resendMessage","status","sendingStatus","_b","useLocalization","dateLocale","stringSet","contextMenuRef","useRef","mobileMenuRef","avatarRef","_c","useContext","UserProfileContext","disableUserProfile","renderUserProfile","isMobile","useMediaQueryContext","openFileUrl","window","open","url","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","_d","useState","contextMenu","setContextMenu","longPress","useLongPress","onLongPress","onClick","delay","React","__spreadArray","Array","isArray","join","toggleDropdown","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","LabelTypography","CAPTION_2","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","__assign","IconColors","PRIMARY","BODY_1","ONBACKGROUND_1","name","SPINNER","ERROR","showMenuTrigger","MORE","isFineResend","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE"],"mappings":"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"}