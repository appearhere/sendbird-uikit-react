{"version":3,"file":"OpenchannelThumbnailMessage.js","sources":["../../src/ui/OpenchannelThumbnailMessage/utils.ts","../../src/ui/OpenchannelThumbnailMessage/index.tsx"],"sourcesContent":["export const SUPPORTING_TYPES = {\n  IMAGE: 'IMAGE',\n  VIDEO: 'VIDEO',\n  UNSUPPORTED: 'UNSUPPORTED',\n};\n\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const getSupportingFileType = (type: string): string => {\n  if (SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.IMAGE;\n  }\n  if (SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.VIDEO;\n  }\n  return SUPPORTING_TYPES.UNSUPPORTED;\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useContext,\n} from 'react';\nimport { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\nimport { SUPPORTING_TYPES, getSupportingFileType } from './utils';\nimport { useLocalization } from '../../lib/LocalizationContext';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ImageRenderer from '../ImageRenderer';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport {\n  checkIsSent,\n  checkIsPending,\n  checkIsFailed,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport OpenChannelMobileMenu from '../OpenChannelMobileMenu';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface LocalUrl {\n  localUrl?: string;\n}\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isOperator?: boolean;\n  disabled: boolean;\n  userId: string;\n  chainTop: boolean;\n  chainBottom: boolean;\n  onClick(bool: boolean): void,\n  showRemove(bool: boolean): void,\n  resendMessage(message: FileMessage): void;\n}\n\nexport default function OpenchannelThumbnailMessage({\n  className,\n  message,\n  isOperator,\n  disabled,\n  userId,\n  chainTop,\n  onClick,\n  showRemove,\n  resendMessage,\n}: Props): JSX.Element {\n  const {\n    type,\n    url,\n    thumbnails,\n    localUrl,\n  }: FileMessage & LocalUrl = message;\n  const status = message?.sendingStatus;\n  const thumbnailUrl = (thumbnails && thumbnails.length > 0 && thumbnails[0].url) || null;\n  const { stringSet, dateLocale } = useLocalization();\n  const { disableUserProfile, renderUserProfile } = useContext<UserProfileContext>(UserProfileContext);\n  const [messageWidth, setMessageWidth] = useState(360);\n  const [contextMenu, setContextMenu] = useState(false);\n  const messageRef = useRef(null);\n  const mobileMenuRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n  const onLongPress = useLongPress({\n    onLongPress: () => { setContextMenu(true); },\n    onClick: () => { onClick(true) },\n  })\n  const { isMobile } = useMediaQueryContext();\n\n  const memorizedThumbnailPlaceHolder = useMemo(() => (type) => ({ style }) => ( // eslint-disable-line\n    <div style={style}>\n      <Icon\n        type={type}\n        fillColor={IconColors.ON_BACKGROUND_2}\n        width=\"56px\"\n        height=\"56px\"\n        />\n    </div>\n  ), []);\n\n  const isMessageSent = checkIsSent(status);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  useEffect(() => {\n    const thumbnailWidth = messageRef?.current?.clientWidth - 80;\n    setMessageWidth(thumbnailWidth > 360 ? 360 : thumbnailWidth);\n  }, []);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-thumbnail-message',\n      ].join(' ')}\n      ref={messageRef}\n    >\n      <div className=\"sendbird-openchannel-thumbnail-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-thumbnail-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: '0px', paddingBottom: '0px' }}\n                >\n                  {\n                    renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-thumbnail-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {\n                  message?.createdAt && (\n                    format(message.createdAt, 'p', {\n                      locale: dateLocale,\n                    })\n                  )\n                }\n              </Label>\n            </div>\n          )\n        }\n        <div className=\"sendbird-openchannel-thumbnail-message__right__body\" ref={mobileMenuRef}>\n          <div\n            className=\"sendbird-openchannel-thumbnail-message__right__body__wrap\"\n            role=\"button\"\n            onClick={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            onKeyDown={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            tabIndex={0}\n            {...(isMobile ? { ...onLongPress } : {})}\n          >\n            <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay\" />\n            {\n              {\n                [SUPPORTING_TYPES.VIDEO]: (\n                  (url || localUrl)\n                    ? (\n                      <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\" >\n                        {\n                          (thumbnailUrl)\n                            ? (\n                              <ImageRenderer\n                                className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\"\n                                url={thumbnailUrl}\n                                width={messageWidth}\n                                height=\"270px\"\n                                alt=\"image\"\n                                placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PLAY)}\n                              />\n                            )\n                            : (\n                              <video className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video\">\n                                <source src={url || localUrl} type={type} />\n                              </video>\n                            )\n                        }\n                        <Icon\n                          className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon\"\n                          type={IconTypes.PLAY}\n                          fillColor={IconColors.ON_BACKGROUND_2}\n                          width=\"56px\"\n                          height=\"56px\"\n                        />\n                      </div>\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.IMAGE]: (\n                  (url || localUrl)\n                    ? (\n                      <ImageRenderer\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image\"\n                        url={thumbnailUrl || url || localUrl}\n                        alt=\"image\"\n                        width={messageWidth}\n                        height=\"270px\"\n                        placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PHOTO)}\n                      />\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.UNSUPPORTED]: (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown\"\n                    type={IconTypes.PHOTO}\n                    fillColor={IconColors.ON_BACKGROUND_2}\n                    width=\"56px\"\n                    height=\"56px\"\n                  />\n                ),\n              }[getSupportingFileType(type)]\n            }\n          </div>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-thumbnail-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        !isMobile && (\n          <div\n            className=\"sendbird-openchannel-thumbnail-message__context-menu\"\n            ref={contextMenuRef}\n          >\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                showMenuTrigger({ message, userId, status }) && (\n                  <IconButton\n                    className=\"sendbird-openchannel-thumbnail-message__context-menu--icon\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={toggleDropdown}\n                  >\n                    <Icon\n                      type={IconTypes.MORE}\n                      fillColor={IconColors.CONTENT_INVERSE}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                  </IconButton>\n                )\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={contextMenuRef}\n                  parentContainRef={contextMenuRef}\n                  closeDropdown={closeDropdown}\n                  openLeft\n                >\n                  {\n                    isFineResend({ message, userId, status }) && (\n                      <MenuItem\n                        onClick={() => {\n                          resendMessage(message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineDelete({ message, userId, status }) && (\n                      <MenuItem\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showRemove(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                      </MenuItem>\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n          </div>\n        )\n      }\n      {\n        contextMenu && (\n          <OpenChannelMobileMenu\n            message={message}\n            parentRef={mobileMenuRef}\n            hideMenu={() => {\n              setContextMenu(false);\n            }}\n            showRemove={() => {\n              setContextMenu(false);\n              showRemove(true);\n            }}\n            resendMessage={() => {\n              setContextMenu(false);\n              resendMessage(message);\n            }}\n          />\n        )\n      }\n    </div>\n  );\n}\n"],"names":["SUPPORTING_TYPES","IMAGE","VIDEO","UNSUPPORTED","SUPPORTED_MIMES","getSupportingFileType","type","indexOf","OpenchannelThumbnailMessage","_a","className","message","isOperator","disabled","userId","chainTop","onClick","showRemove","resendMessage","url","thumbnails","localUrl","status","sendingStatus","thumbnailUrl","length","_c","useLocalization","stringSet","dateLocale","_d","useContext","UserProfileContext","disableUserProfile","renderUserProfile","_e","useState","messageWidth","setMessageWidth","_f","contextMenu","setContextMenu","messageRef","useRef","mobileMenuRef","contextMenuRef","avatarRef","onLongPress","useLongPress","isMobile","useMediaQueryContext","memorizedThumbnailPlaceHolder","useMemo","style","React","IconColors","ON_BACKGROUND_2","isMessageSent","checkIsSent","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","useEffect","thumbnailWidth","current","clientWidth","__spreadArray","Array","isArray","join","toggleDropdown","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","LabelTypography","CAPTION_2","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","_b","IconTypes","PLAY","PHOTO","SPINNER","PRIMARY","ERROR","showMenuTrigger","MORE","CONTENT_INVERSE","isFineResend","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE"],"mappings":"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"}