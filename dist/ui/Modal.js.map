{"version":3,"file":"Modal.js","sources":["../../src/ui/Modal/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport Button, { ButtonTypes } from '../Button';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\n\nexport interface ModalHeaderProps {\n  titleText: string;\n}\nexport const ModalHeader = ({ titleText }: ModalHeaderProps): ReactElement => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\n\nexport interface ModalBodyProps {\n  children?: ReactElement;\n}\nexport const ModalBody = ({ children }: ModalBodyProps): ReactElement => (\n  <div className=\"sendbird-modal__body\">\n    <Label\n      type={LabelTypography.SUBTITLE_1}\n      color={LabelColors.ONBACKGROUND_2}\n    >\n      {children}\n    </Label>\n  </div>\n);\n\nexport interface ModalFooterProps {\n  submitText: string;\n  disabled?: boolean;\n  type?: ButtonTypes;\n  onCancel: () => void;\n  onSubmit: (e: SubmitEvent) => void;\n}\nexport const ModalFooter = ({\n  submitText,\n  disabled = false,\n  type = ButtonTypes.DANGER,\n  onSubmit,\n  onCancel,\n}: ModalFooterProps): ReactElement => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nexport interface ModalProps {\n  children?: ReactElement;\n  className?: string;\n  isCloseOnClickOutside?: boolean;\n  isFullScreenOnMobile?: boolean;\n  titleText?: string;\n  submitText?: string;\n  disabled?: boolean;\n  hideFooter?: boolean;\n  type?: ButtonTypes;\n  onCancel?: () => void;\n  onSubmit?: (e: SubmitEvent) => void;\n  renderHeader?: () => ReactElement;\n}\nexport default function Modal(props: ModalProps): ReactElement {\n  const {\n    children = null,\n    className = '',\n    isCloseOnClickOutside = false,\n    isFullScreenOnMobile = false,\n    titleText,\n    submitText,\n    disabled = false,\n    hideFooter = false,\n    type = ButtonTypes.DANGER,\n    onCancel = () => {/* noop */ },\n    onSubmit = () => {/* noop */ },\n    renderHeader,\n  } = props;\n\n  const { isMobile } = useMediaQueryContext();\n  return createPortal((\n    <div className={`\n      sendbird-modal ${className}\n      ${(isFullScreenOnMobile && isMobile) ? 'sendbird-modal--full-mobile' : ''}\n    `}>\n      <div className=\"sendbird-modal__content\">\n        {renderHeader?.() || (\n          <ModalHeader titleText={titleText} />\n        )}\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div\n        className={`\n          sendbird-modal__backdrop\n          ${isCloseOnClickOutside && 'sendbird-modal__backdrop--clickoutside'}\n        `}\n        onClick={(e) =>{\n          e?.stopPropagation();\n          if (isCloseOnClickOutside) {\n            onCancel();\n          }\n        }}\n      />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n"],"names":["ModalHeader","_a","titleText","React","LabelTypography","H_1","LabelColors","ONBACKGROUND_1","ModalBody","children","SUBTITLE_1","ONBACKGROUND_2","ModalFooter","submitText","_b","disabled","_c","type","ButtonTypes","DANGER","onSubmit","onCancel","stringSet","useContext","LocalizationContext","SECONDARY","BUTTON_1","BUTTON__CANCEL","Modal","props","className","isCloseOnClickOutside","_d","isFullScreenOnMobile","_e","_f","hideFooter","_g","_h","_j","renderHeader","isMobile","useMediaQueryContext","createPortal","concat","IconTypes","CLOSE","IconColors","DEFAULT","e","stopPropagation","document","getElementById","MODAL_ROOT"],"mappings":"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"}