{"version":3,"file":"Avatar.js","sources":["../../src/utils/pxToNumber.ts","../../src/ui/Avatar/index.tsx"],"sourcesContent":["export default (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { ReactElement, RefObject } from 'react';\n\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\nimport pxToNumber from '../../utils/pxToNumber';\n\nconst imageRendererClassName = 'sendbird-avatar-img';\n\ninterface DefaultComponentProps {\n  width: string | number,\n  height: string | number,\n}\n\nconst DefaultComponent = ({ width, height }: DefaultComponentProps): ReactElement => {\n  let iconWidth = pxToNumber(width);\n  let iconHeight = pxToNumber(height);\n  if (typeof iconWidth === 'number') {\n    iconWidth *= 0.575;\n  }\n  if (typeof iconHeight === 'number') {\n    iconHeight *= 0.575;\n  }\n\n  return (\n    <div className=\"sendbird-avatar-img--default\" style={{ width, height }}>\n      <Icon\n        type={IconTypes.USER}\n        fillColor={IconColors.CONTENT}\n        width={iconWidth}\n        height={iconHeight}\n      />\n    </div>\n  );\n};\n\nconst _defaultComponent = ({\n  width,\n  height,\n}: DefaultComponentProps) => (\n  <DefaultComponent width={width} height={height} />\n);\n\ninterface AvatarInnerProps {\n  height: string | number,\n  width: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nexport const AvatarInner = ({\n  src = '',\n  alt = '',\n  height,\n  width,\n  customDefaultComponent,\n}: AvatarInnerProps): ReactElement => {\n  const defaultComponent = () => customDefaultComponent ? customDefaultComponent({ width, height }) : _defaultComponent({ width, height });\n\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent}\n    />\n  );\n};\n\ninterface AvatarProps {\n  className?: string | Array<string>,\n  height?: string | number,\n  width?: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  onClick?(): void,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nfunction Avatar(\n  {\n    className = '',\n    src = '',\n    alt = '',\n    width = '56px',\n    height = '56px',\n    onClick,\n    customDefaultComponent,\n  }: AvatarProps,\n  ref: RefObject<HTMLDivElement>,\n): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-avatar',\n      ].join(' ')}\n      role=\"button\"\n      ref={ref}\n      style={{ height, width }}\n      onClick={onClick}\n      onKeyDown={onClick}\n      tabIndex={0}\n    >\n      <AvatarInner\n        src={src}\n        width={width}\n        height={height}\n        alt={alt}\n        customDefaultComponent={customDefaultComponent}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Avatar);\n"],"names":["px","parsed","Number","parseFloat","isNaN","imageRendererClassName","DefaultComponent","_a","width","height","iconWidth","pxToNumber","iconHeight","React","IconTypes","USER","IconColors","CONTENT","_defaultComponent","AvatarInner","_b","src","_c","alt","customDefaultComponent","defaultComponent","length","slice","map","i","uuidv4","Avatar","ref","className","_d","_e","_f","onClick","__spreadArray","Array","isArray","join","forwardRef"],"mappings":"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"}