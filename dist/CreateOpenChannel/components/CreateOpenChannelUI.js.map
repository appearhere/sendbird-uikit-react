{"version":3,"file":"CreateOpenChannelUI.js","sources":["../../../src/smart-components/CreateOpenChannel/components/CreateOpenChannelUI/index.tsx"],"sourcesContent":["import React, { useState, useRef, useContext } from 'react';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Avatar from '../../../../ui/Avatar';\nimport { ButtonTypes } from '../../../../ui/Button';\nimport Modal from '../../../../ui/Modal';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport Input, { InputLabel } from '../../../../ui/Input';\nimport Label, { LabelColors, LabelTypography } from '../../../../ui/Label';\nimport TextButton from '../../../../ui/TextButton';\nimport { useCreateOpenChannelContext } from '../../context/CreateOpenChannelProvider';\n\nexport interface CreateOpenChannelUIProps {\n  closeModal?: () => void;\n  renderHeader?: () => React.ReactElement;\n  renderProfileInput?: () => React.ReactElement;\n}\n\nfunction CreateOpenChannelUI({\n  closeModal,\n  renderHeader,\n  renderProfileInput,\n}: CreateOpenChannelUIProps): React.ReactElement {\n  const [newFile, setNewFile] = useState(null);\n  const [currentImage, setCurrentImg] = useState(null);\n  const inputFormRef = useRef(null);\n  const inputFileRef = useRef(null);\n  const inputTextRef = useRef(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    logger,\n    createNewOpenChannel,\n  } = useCreateOpenChannelContext();\n  return (\n    <div className=\"sendbird-create-open-channel-ui\">\n      <Modal\n        isFullScreenOnMobile\n        titleText={stringSet.CREATE_OPEN_CHANNEL_LIST__TITLE}\n        submitText={stringSet.CREATE_OPEN_CHANNEL_LIST__SUBMIT}\n        type={ButtonTypes.PRIMARY}\n        onCancel={closeModal}\n        renderHeader={renderHeader}\n        onSubmit={() => {\n          const channelName = inputTextRef?.current?.value;\n          if (!channelName) {\n            logger.warning('CreateOpenChannelUI: You should fill the channel name');\n            return;\n          }\n          createNewOpenChannel({\n            name: channelName,\n            coverUrlOrImage: newFile,\n          });\n          closeModal();\n        }}\n      >\n        <>\n          {renderProfileInput?.() || (\n            <form\n              className=\"sendbird-create-open-channel-ui__profile-input\"\n              ref={inputFormRef}\n              onSubmit={(e) => { e.preventDefault(); }}\n            >\n              <InputLabel>\n                {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION}\n              </InputLabel>\n              <div className=\"sendbird-create-open-channel-ui__profile-input__img-section\">\n                <div className=\"sendbird-create-open-channel-ui__profile-input__img-section__avatar\">\n                  {currentImage\n                    ? (\n                      <Avatar\n                        width=\"80px\"\n                        height=\"80px\"\n                        src={currentImage}\n                      />\n                    ) : (\n                      <div className=\"sendbird-create-open-channel-ui__profile-input__img-section__avatar--default\">\n                        <Icon\n                          type={IconTypes.CHANNELS}\n                          fillColor={IconColors.CONTENT}\n                          width=\"46px\"\n                          height=\"46px\"\n                        />\n                      </div>\n                    )}\n                </div>\n                <input\n                  className=\"sendbird-create-open-channel-ui__profile-input__img-section__input\"\n                  ref={inputFileRef}\n                  type=\"file\"\n                  accept=\"image/gif, image/jpeg, image/png\"\n                  style={{ display: 'none' }}\n                  onChange={(e) => {\n                    setCurrentImg(URL.createObjectURL(e.target.files[0]));\n                    setNewFile(e.target.files[0]);\n                    inputFileRef.current.value = '';\n                  }}\n                />\n                <TextButton\n                  className=\"sendbird-create-open-channel-ui__profile-input__img-section__button\"\n                  onClick={() => inputFileRef.current.click()}\n                  disableUnderline\n                >\n                  <Label\n                    type={LabelTypography.BUTTON_1}\n                    color={LabelColors.PRIMARY}\n                  >\n                    {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD}\n                  </Label>\n                </TextButton>\n              </div>\n              <div style={{ marginTop: '20px' }}>\n                <InputLabel>\n                  {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION}\n                </InputLabel>\n              </div>\n              <div className=\"sendbird-create-open-channel-ui__profile-input__name-section\">\n                <Input\n                  name=\"sendbird-create-open-channel-ui__profile-input__name-section__input\"\n                  ref={inputTextRef}\n                  placeHolder={stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER}\n                />\n              </div>\n            </form>\n          )}\n        </>\n      </Modal>\n    </div>\n  );\n}\n\nexport default CreateOpenChannelUI;\n"],"names":["CreateOpenChannelUI","_a","closeModal","renderHeader","renderProfileInput","_b","useState","newFile","setNewFile","_c","currentImage","setCurrentImg","inputFormRef","useRef","inputFileRef","inputTextRef","stringSet","useContext","LocalizationContext","_d","useCreateOpenChannelContext","logger","createNewOpenChannel","React","CREATE_OPEN_CHANNEL_LIST__TITLE","CREATE_OPEN_CHANNEL_LIST__SUBMIT","ButtonTypes","PRIMARY","channelName","current","value","warning","name","coverUrlOrImage","e","preventDefault","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION","IconTypes","CHANNELS","IconColors","CONTENT","display","URL","createObjectURL","target","files","click","LabelTypography","BUTTON_1","LabelColors","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD","marginTop","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER"],"mappings":"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"}